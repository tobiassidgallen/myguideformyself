<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Arch Linux Elitebook 845 G8 Guide</title>
    <link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;700&family=Inter:wght@400;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --nord0: #2e3440;
            --nord1: #3b4252;
            --nord2: #434c5e;
            --nord3: #4c566a;
            --nord4: #d8dee9;
            --nord5: #e5e9f0;
            --nord6: #eceff4;
            --nord7: #8fbcbb;
            --nord8: #88c0d0;
            --nord9: #81a1c1;
            --nord10: #5e81ac;
            --nord11: #bf616a;
            --nord12: #d08770;
            --nord13: #ebcb8b;
            --nord14: #a3be8c;
            --nord15: #b48ead;
        }
        html, body {
            background: var(--nord0);
            color: var(--nord4);
            font-family: 'Inter', Arial, sans-serif;
            margin: 0;
            padding: 0;
            min-height: 100vh;
        }
        header {
            background: var(--nord1);
            padding: 2rem 1rem 1rem 1rem;
            text-align: center;
            border-bottom: 2px solid var(--nord3);
        }
        header h1 {
            margin: 0;
            font-size: 2.5rem;
            color: var(--nord8);
            letter-spacing: 1px;
        }
        header p {
            color: var(--nord5);
            margin-top: 0.5rem;
            font-size: 1.1rem;
        }
        main {
            max-width: 900px;
            margin: 2rem auto;
            padding: 0 1rem 4rem 1rem;
        }
        section {
            margin-bottom: 2.5rem;
            background: var(--nord1);
            border-radius: 12px;
            box-shadow: 0 2px 8px rgba(46,52,64,0.08);
            padding: 2rem 1.5rem 1.5rem 1.5rem;
            border: 1px solid var(--nord2);
        }
        section h1, section h2, section h3 {
            color: var(--nord8);
            margin-top: 0;
        }
        pre {
            background: var(--nord2);
            color: var(--nord6);
            font-family: 'JetBrains Mono', 'Fira Mono', 'Consolas', monospace;
            font-size: 1rem;
            border-radius: 8px;
            padding: 1.2em 1.2em 1.2em 1.2em;
            overflow-x: auto;
            position: relative;
            margin-top: 1.2em;
            margin-bottom: 1.2em;
        }
        .copy-btn {
            position: absolute;
            top: 12px;
            right: 16px;
            background: var(--nord8);
            color: var(--nord0);
            border: none;
            border-radius: 6px;
            padding: 0.3em 0.9em;
            font-size: 0.95em;
            font-family: inherit;
            cursor: pointer;
            opacity: 0.85;
            transition: background 0.2s, color 0.2s, opacity 0.2s;
            z-index: 2;
        }
        .copy-btn:hover {
            background: var(--nord9);
            color: var(--nord6);
            opacity: 1;
        }
        @media (max-width: 600px) {
            main {
                padding: 0 0.2rem 2rem 0.2rem;
            }
            section {
                padding: 1.2rem 0.5rem 1rem 0.5rem;
            }
            pre {
                font-size: 0.95rem;
                padding: 1em 0.5em 1em 0.5em;
            }
        }
        .glossary {
            background: var(--nord1);
            border: 2px solid var(--nord8);
            border-radius: 14px;
            padding: 2rem 1.5rem;
            margin-top: 3rem;
        }
        .glossary h2 {
            color: var(--nord14);
            margin-top: 0;
        }
        .glossary h3 {
            color: var(--nord8);
            margin-bottom: 0.5em;
        }
        .kbd {
            background: var(--nord3);
            color: var(--nord6);
            border-radius: 4px;
            padding: 0.1em 0.5em;
            font-family: 'JetBrains Mono', monospace;
            font-size: 0.98em;
            margin: 0 0.1em;
            border: 1px solid var(--nord4);
        }
        ul.cheat-list {
            list-style: disc inside;
            margin-bottom: 1.5em;
        }
        ul.cheat-list li {
            margin-bottom: 0.5em;
        }
        .tip {
            background: var(--nord2);
            color: var(--nord13);
            border-left: 4px solid var(--nord13);
            padding: 0.7em 1em;
            border-radius: 6px;
            margin-bottom: 1em;
            font-size: 1em;
        }
        a {
            color: var(--nord8);
            text-decoration: underline;
        }
    </style>
</head>
<body>
    <header>
        <h1>Arch Linux Elitebook 845 G8 Guide</h1>
        <p>Personal, chronological, and highly-optimized installation and daily-use guide for my HP Elitebook 845 G8.<br>Minimal typing in TTY, bulk post-install commands, and full Nord rice. <br><strong>Copy-paste ready!</strong></p>
    </header>
    <main>
        <section>
            <h1>Installation</h1>
            <pre>setfont ter-132b && loadkeys us

iwctl
device list
station wlan0 scan
station wlan0 get-networks
station wlan0 connect "YOUR_NETWORK_NAME"
exit

ping -c 3 archlinux.org || { echo "No internet"; exit 1; }

timedatectl set-ntp true

lsblk

cfdisk /dev/nvme0n1

mkfs.ext4 /dev/nvme0n1p3
mkfs.fat -F 32 /dev/nvme0n1p1
mkswap /dev/nvme0n1p2

mount /dev/nvme0n1p3 /mnt
mkdir -p /mnt/boot/efi
mount /dev/nvme0n1p1 /mnt/boot/efi
swapon /dev/nvme0n1p2

pacstrap /mnt base linux linux-firmware amd-ucode sof-firmware base-devel grub efibootmgr networkmanager sudo git neovim

genfstab /mnt
genfstab -U /mnt >> /mnt/etc/fstab

arch-chroot /mnt

date
ln -sf /usr/share/zoneinfo/Asia/Manila /etc/localtime
hwclock --systohc
date

echo 'en_US.UTF-8 UTF-8' >> /etc/locale.gen
locale-gen
echo 'LANG=en_US.UTF-8' > /etc/locale.conf
echo 'KEYMAP=us' > /etc/vconsole.conf

echo 'tobias' > /etc/hostname
passwd
useradd -m -G wheel -s /bin/bash sid
passwd sid

echo '%wheel ALL=(ALL:ALL) ALL' >> /etc/sudoers

systemctl enable NetworkManager
grub-install --target=x86_64-efi --efi-directory=/boot/efi --bootloader-id=GRUB
grub-mkconfig -o /boot/grub/grub.cfg

exit
umount -R /mnt
reboot

nmcli device wifi connect "YOUR_NETWORK_NAME" password "YOUR_PASSWORD"

sudo pacman -Syu

sudo pacman -S xorg-server xorg-xinit i3-wm i3status i3lock rofi alacritty firefox

echo 'exec i3' > ~/.xinitrc

startx</pre>
        </section>
        <section>
            <h1>Post Installation</h1>
            <h3>AUR Helper and Essential Packages</h3>
            <pre>sudo sed -i '/^#\[multilib\]/,/^#Include = \/etc\/pacman\.d\/mirrorlist/ s/^#//' /etc/pacman.conf && \
sudo pacman -Syu && \
git clone https://aur.archlinux.org/yay.git && \
cd yay && \
makepkg -si --noconfirm --needed && \
cd .. && \
rm -rf yay && \
sudo pacman -S --noconfirm man-db man-pages reflector tmux thunar papirus-icon-theme thunar-archive-plugin p7zip unzip tar ntfs-3g exfatprogs gvfs gvfs-mtp gvfs-gphoto2 gvfs-smb udisks2 udiskie libmtp gparted picom feh maim xclip xorg-xrandr fastfetch btop lm_sensors acpi powertop tlp tlp-rdw dmidecode brightnessctl pipewire pipewire-pulse pipewire-alsa wireplumber alsa-utils alsa-ucm-conf bluez bluez-utils libinput xf86-input-libinput xorg-xinput xdotool v4l-utils cheese wget curl rsync fzf dunst libnotify mpv ufw mesa lib32-mesa vulkan-radeon lib32-vulkan-radeon xf86-video-amdgpu mesa-vdpau libva-mesa-driver noto-fonts-emoji noto-fonts noto-fonts-cjk && \
yay -S --noconfirm ttf-jetbrains-mono-nerd spotify || echo "Some AUR packages failed"</pre>
            <h3>System Optimization</h3>
            <pre>sudo usermod -aG audio,video,input,storage,power,rfkill,sys,adm,disk sid && \
sudo reflector --country Philippines,Singapore,South_Korea,Japan --age 12 --protocol https --sort rate --latest 10 --save /etc/pacman.d/mirrorlist && \
sudo systemctl enable --now reflector.timer && \
sudo pacman -Syyu && \
sudo modprobe ip_tables && \
sudo modprobe ip6_tables && \
sudo systemctl enable ufw && \
sudo ufw default deny incoming && \
sudo ufw default allow outgoing && \
sudo ufw --force enable && \
sudo sensors-detect --auto && \
sudo sed -i 's/#AutoEnable=false/AutoEnable=true/' /etc/bluetooth/main.conf && \
systemctl --user daemon-reexec && \
systemctl --user enable --now pipewire.service pipewire-pulse.service wireplumber.service && \
sudo systemctl enable --now bluetooth tlp && \
sudo systemctl mask systemd-networkd-wait-online.service && \
sudo sed -i 's/^#DefaultTimeoutStopSec=.*$/DefaultTimeoutStopSec=10s/' /etc/systemd/system.conf && \
sudo sed -i 's/^#DefaultTimeoutStartSec=.*$/DefaultTimeoutStartSec=5s/' /etc/systemd/system.conf && \
sudo systemctl enable fstrim.timer && \
sudo systemctl start fstrim.timer && \
sudo systemctl daemon-reexec</pre>
            <h3>Performance Optimization</h3>
            <pre>sudo sed -i 's/GRUB_CMDLINE_LINUX=""/GRUB_CMDLINE_LINUX="quiet splash mitigations=off nowatchdog processor.max_cstate=1 amd_pstate=active"/' /etc/default/grub && \
sudo grub-mkconfig -o /boot/grub/grub.cfg && \
echo 'ACTION=="add|change", KERNEL=="nvme[0-9]*", ATTR{queue/scheduler}="mq-deadline"' | sudo tee /etc/udev/rules.d/60-ioschedulers.rules && \
brightnessctl set 50% && \
sudo mkdir -p /etc/X11/xorg.conf.d && \
sudo tee /etc/X11/xorg.conf.d/30-touchpad.conf > /dev/null <<'EOF'
Section "InputClass"
    Identifier "touchpad"
    Driver "libinput"
    MatchIsTouchpad "on"
    Option "Tapping" "on"
    Option "TappingButtonMap" "lrm"
    Option "NaturalScrolling" "true"
    Option "ScrollMethod" "twofinger"
    Option "ClickMethod" "clickfinger"
    Option "DisableWhileTyping" "on"
EndSection
EOF</pre>
            <h3>System Management Scripts</h3>
            <pre>sudo tee /usr/local/bin/update > /dev/null <<'EOF'
#!/bin/bash
echo "=== UPDATING SYSTEM ==="
sudo pacman -Syu --noconfirm
echo "=== UPDATING AUR PACKAGES ==="
yay -Syu --noconfirm
echo "=== UPDATE COMPLETE ==="
EOF
sudo chmod +x /usr/local/bin/update && \
sudo tee /usr/local/bin/debloat > /dev/null <<'EOF'
#!/bin/bash
echo "=== DISK SPACE BEFORE ==="
df -h / | tail -1
echo "=== CLEANING PACKAGE CACHE ==="
sudo pacman -Sc --noconfirm
yay -Sc --noconfirm
echo "=== REMOVING ORPHANED PACKAGES ==="
sudo pacman -Rns $(pacman -Qtdq) --noconfirm 2>/dev/null || echo "No orphaned packages"
echo "=== CLEARING SYSTEM LOGS ==="
sudo journalctl --vacuum-time=3d
echo "=== CLEARING USER CACHE ==="
rm -rf ~/.cache/* 2>/dev/null || true
echo "=== CLEARING TEMP FILES ==="
sudo rm -rf /tmp/* /var/tmp/* 2>/dev/null || true
echo "=== CLEARING THUMBNAILS ==="
rm -rf ~/.thumbnails/* ~/.local/share/Trash/* 2>/dev/null || true
echo "=== CLEARING FIREFOX CACHE ==="
rm -rf ~/.mozilla/firefox/*/storage/default/cache2/* 2>/dev/null || true
echo "=== MEMORY CLEANUP ==="
sync && echo 3 | sudo tee /proc/sys/vm/drop_caches
echo "=== DEBLOAT COMPLETE ==="
df -h / | tail -1
EOF
sudo chmod +x /usr/local/bin/debloat && \
sudo tee /usr/local/bin/performance > /dev/null <<'EOF'
#!/bin/bash
echo "=== ENABLING PERFORMANCE MODE ==="
echo performance | sudo tee /sys/devices/system/cpu/cpu*/cpufreq/scaling_governor
echo "=== SETTING VM SWAPPINESS ==="
echo 'vm.swappiness=10' | sudo tee -a /etc/sysctl.d/99-swappiness.conf
echo "=== OPTIMIZING I/O SCHEDULER ==="
echo mq-deadline | sudo tee /sys/block/nvme0n1/queue/scheduler
echo "=== PERFORMANCE MODE ACTIVE ==="
cat /sys/devices/system/cpu/cpu0/cpufreq/scaling_governor
EOF
sudo chmod +x /usr/local/bin/performance && \
sudo tee /usr/local/bin/powersave > /dev/null <<'EOF'
#!/bin/bash
echo "=== ENABLING POWERSAVE MODE ==="
echo powersave | sudo tee /sys/devices/system/cpu/cpu*/cpufreq/scaling_governor
echo "=== ENABLING WIFI POWERSAVE ==="
sudo iw dev wlan0 set power_save on 2>/dev/null || echo "Wifi powersave not available"
echo "=== REDUCING BRIGHTNESS ==="
brightnessctl set 30%
echo "=== POWERSAVE MODE ACTIVE ==="
cat /sys/devices/system/cpu/cpu0/cpufreq/scaling_governor
EOF
sudo chmod +x /usr/local/bin/powersave && \
sudo tee /usr/local/bin/boost > /dev/null <<'EOF'
#!/bin/bash
echo "=== TEMPORARY PERFORMANCE BOOST ==="
echo performance | sudo tee /sys/devices/system/cpu/cpu*/cpufreq/scaling_governor
echo never | sudo tee /sys/kernel/mm/transparent_hugepage/enabled
echo 1 | sudo tee /proc/sys/vm/drop_caches
echo "=== BOOST ACTIVE FOR THIS SESSION ==="
EOF
sudo chmod +x /usr/local/bin/boost && \
sudo tee /usr/local/bin/boottime > /dev/null <<'EOF'
#!/bin/bash
echo "=== BOOT TIME ANALYSIS ==="
systemd-analyze
echo ""
echo "=== SLOWEST SERVICES ==="
systemd-analyze blame | head -10
echo ""
echo "=== CRITICAL CHAIN ==="
systemd-analyze critical-chain
EOF
sudo chmod +x /usr/local/bin/boottime</pre>
            <h3>Performance Tweaks</h3>
            <pre>sudo tee /etc/sysctl.d/99-performance.conf > /dev/null <<'EOF'
# Performance optimizations and Advanced I/O optimizations
vm.swappiness=10
vm.vfs_cache_pressure=50
vm.dirty_ratio=15
vm.dirty_background_ratio=5
kernel.sched_migration_cost_ns=5000000
kernel.sched_autogroup_enabled=0
vm.dirty_expire_centisecs = 1500
vm.dirty_writeback_centisecs = 1500
vm.page-cluster = 0
kernel.sched_rt_runtime_us = 950000
kernel.sched_rt_period_us = 1000000
EOF
sudo tee /etc/systemd/system/cpu-performance.service > /dev/null <<'EOF'
[Unit]
Description=Set CPU Performance Governor
After=multi-user.target

[Service]
Type=oneshot
ExecStart=/bin/bash -c 'echo performance | tee /sys/devices/system/cpu/cpu*/cpufreq/scaling_governor'
RemainAfterExit=yes

[Install]
WantedBy=multi-user.target
EOF
sudo systemctl enable cpu-performance.service</pre>
        </section>
        <section>
            <h1>Rice Config</h1>
            <pre>#!/bin/bash
# COMPLETE NORD THEME RICE CONFIGS FOR ARCH LINUX

# Nord Color Palette
# Polar Night
# nord0=#2e3440
# nord1=#3b4252
# nord2=#434c5e
# nord3=#4c566a
# Snow Storm
# nord4=#d8dee9
# nord5=#e5e9f0
# nord6=#eceff4
# Frost
# nord7=#8fbcbb
# nord8=#88c0d0
# nord9=#81a1c1
# nord10=#5e81ac
# Aurora
# nord11=#bf616a
# nord12=#d08770
# nord13=#ebcb8b
# nord14=#a3be8c
# nord15=#b48ead

# ============================================================================
# [WALLPAPER] - Same script, works with any theme
# ============================================================================
mkdir -p ~/.config/scripts ~/Pictures/wallpapers && \
cat > ~/.config/scripts/wallpaper.sh <<'EOF'
#!/bin/bash
WALLPAPER_DIR="$HOME/Pictures/wallpapers"

if [ ! -d "$WALLPAPER_DIR" ]; then
    echo "Wallpaper directory not found: $WALLPAPER_DIR"
    mkdir -p "$WALLPAPER_DIR"
    echo "Please add wallpapers to $WALLPAPER_DIR"
    exit 1
fi

WALLPAPERS=($(find "$WALLPAPER_DIR" -type f \( -iname "*.jpg" -o -iname "*.jpeg" -o -iname "*.png" -o -iname "*.webp" -o -iname "*.bmp" \)))

if [ ${#WALLPAPERS[@]} -eq 0 ]; then
    echo "No wallpapers found in $WALLPAPER_DIR"
    exit 1
fi

RANDOM_WALLPAPER=${WALLPAPERS[$RANDOM % ${#WALLPAPERS[@]}]}
feh --bg-scale "$RANDOM_WALLPAPER"
echo "Wallpaper set to: $(basename "$RANDOM_WALLPAPER")"
EOF
chmod +x ~/.config/scripts/wallpaper.sh

# ============================================================================
# [ALACRITTY] - Nord Theme
# ============================================================================
mkdir -p ~/.config/alacritty && \
cat > ~/.config/alacritty/alacritty.toml <<'EOF'
[window]
opacity = 0.95
padding = { x = 8, y = 8 }
decorations = "none"
startup_mode = "Windowed"

[font]
normal = { family = "JetBrains Mono Nerd Font", style = "Regular" }
bold = { family = "JetBrains Mono Nerd Font", style = "Bold" }
italic = { family = "JetBrains Mono Nerd Font", style = "Italic" }
size = 12

[colors.primary]
background = "#2e3440"
foreground = "#d8dee9"
dim_foreground = "#a5aaad"

[colors.cursor]
text = "#2e3440"
cursor = "#d8dee9"

[colors.vi_mode_cursor]
text = "#2e3440"
cursor = "#d8dee9"

[colors.selection]
text = "CellForeground"
background = "#4c566a"

[colors.search.matches]
foreground = "#2e3440"
background = "#88c0d0"

[colors.search.focused_match]
foreground = "#2e3440"
background = "#5e81ac"

[colors.normal]
black = "#3b4252"
red = "#bf616a"
green = "#a3be8c"
yellow = "#ebcb8b"
blue = "#81a1c1"
magenta = "#b48ead"
cyan = "#88c0d0"
white = "#e5e9f0"

[colors.bright]
black = "#4c566a"
red = "#bf616a"
green = "#a3be8c"
yellow = "#ebcb8b"
blue = "#81a1c1"
magenta = "#b48ead"
cyan = "#8fbcbb"
white = "#eceff4"

[colors.dim]
black = "#373e4d"
red = "#94545d"
green = "#809575"
yellow = "#b29e75"
blue = "#68809a"
magenta = "#8c738c"
cyan = "#6d96a5"
white = "#aeb3bb"

[cursor.style]
shape = "Block"
blinking = "On"

[scrolling]
history = 10000
EOF

# ============================================================================
# [I3] - Nord Theme with Enhanced Aesthetics
# ============================================================================
# Backup current i3 config
cp ~/.config/i3/config ~/.config/i3/config.backup 2>/dev/null || true

# Update .xinitrc
cat > ~/.xinitrc <<'EOF'
~/.config/scripts/wallpaper.sh auto &
exec i3
EOF

# Add Nord theme and keybindings to i3 config
{
echo ""
echo "# ============================================================================"
echo "# NORD THEME CONFIGURATION"
echo "# ============================================================================"
echo ""
echo "# Nord Color Scheme"
echo "set $nord0  #2e3440"
echo "set $nord1  #3b4252"
echo "set $nord2  #434c5e"
echo "set $nord3  #4c566a"
echo "set $nord4  #d8dee9"
echo "set $nord5  #e5e9f0"
echo "set $nord6  #eceff4"
echo "set $nord7  #8fbcbb"
echo "set $nord8  #88c0d0"
echo "set $nord9  #81a1c1"
echo "set $nord10 #5e81ac"
echo "set $nord11 #bf616a"
echo "set $nord12 #d08770"
echo "set $nord13 #ebcb8b"
echo "set $nord14 #a3be8c"
echo "set $nord15 #b48ead"
echo ""
echo "# Window colors (Nord theme)"
echo "#                       border   background text     indicator  child_border"
echo "client.focused          $nord8  $nord0    $nord4   $nord8    $nord8"
echo "client.focused_inactive $nord3  $nord1    $nord4   $nord3    $nord3"
echo "client.unfocused        $nord1  $nord0    $nord3   $nord1    $nord1"
echo "client.urgent           $nord11 $nord11   $nord6   $nord11   $nord11"
echo "client.placeholder      $nord0  $nord0    $nord4   $nord0    $nord0"
echo ""
echo "# Enhanced aesthetics"
echo "for_window [class=\".*\"] border pixel 2"
echo "gaps inner 10"
echo "gaps outer 6"
echo "smart_gaps on"
echo "smart_borders on"
echo ""
echo "# Font"
echo "font pango:JetBrains Mono Nerd Font Medium 11"
echo ""
echo "# Autostart applications"
echo "exec --no-startup-id ~/.config/scripts/wallpaper.sh auto"
echo "exec --no-startup-id picom --config ~/.config/picom/picom.conf"
echo "exec --no-startup-id dunst"
echo ""
echo "# Keybindings"
echo "bindsym $mod+Shift+w exec ~/.config/scripts/wallpaper.sh random"
echo "bindsym Print exec maim | xclip -selection clipboard -t image/png"
echo "bindsym Shift+Print exec maim -s | xclip -selection clipboard -t image/png"
echo "bindsym XF86MonBrightnessUp exec brightnessctl set +5% && notify-send \"Brightness: $(brightnessctl get)\""
echo "bindsym XF86MonBrightnessDown exec brightnessctl set 5%- && notify-send \"Brightness: $(brightnessctl get)\""
echo "bindsym $mod+b exec firefox"
echo "bindsym $mod+t exec thunar"
echo "bindsym $mod+m exec spotify"
echo "bindsym $mod+n exec --no-startup-id \"i3-msg workspace 5; alacritty -e nvim\""
echo "bindsym $mod+p exec alacritty -e btop"
echo "bindsym $mod+Tab workspace next"
echo "bindsym $mod+Shift+Tab workspace prev"
echo "bindsym $mod+x exec i3lock -c 2e3440"
echo "bindsym $mod+d exec ~/.config/scripts/rofi_run.sh"
echo "bindsym $mod+Shift+p exec ~/.config/scripts/rofi_power.sh"
echo ""
echo "# Workspace assignments"
echo "assign [class=\"Spotify\"] 10"
echo ""
} >> ~/.config/i3/config

# ============================================================================
# [I3STATUS] - Nord Theme
# ============================================================================
mkdir -p ~/.config/i3status && \
cat > ~/.config/i3status/config <<'EOF'
general {
    colors = true
    interval = 2
    color_good = "#a3be8c"
    color_bad = "#bf616a"
    color_degraded = "#ebcb8b"
    separator = "|"
}

order += "wireless _first_"
order += "ethernet _first_"
order += "memory"
order += "cpu_usage"
order += "cpu_temperature 0"
order += "disk /"
order += "battery all"
order += "volume master"
order += "tztime local"

wireless _first_ {
    format_up = "📶 %quality %essid %ip"
    format_down = "📶 down"
    separator = false
    separator_block_width = 1
}

ethernet _first_ {
    format_up = "🌐 %ip (%speed)"
    format_down = "🌐 down"
    separator = false
    separator_block_width = 1
}

memory {
    format = "🧠 %used/%total"
    threshold_degraded = "1G"
    format_degraded = "🧠 < %free"
}

cpu_usage {
    format = "💻 %usage"
    max_threshold = 75
    degraded_threshold = 25
}

cpu_temperature 0 {
    format = "🌡️ %degrees°C"
    max_threshold = 75
    path = "/sys/devices/virtual/thermal/thermal_zone0/hwmon1/temp1_input"
}

disk "/" {
    format = "💾 %used/%total"
    low_threshold = 10
    threshold_type = percentage_avail
}

battery all {
    format = "%status %percentage %remaining %consumption"
    format_down = "🔌 AC"
    last_full_capacity = true
    integer_battery_capacity = true
    status_chr = "🔌"
    status_bat = "🔋"
    status_unk = "❓"
    status_full = "⚡"
    low_threshold = 15
    threshold_type = percentage
}

volume master {
    format = "🔊 %volume"
    format_muted = "🔇 muted"
    device = "pulse"
}

tztime local {
    format = "📅 %m-%d-%Y 🕐 %H:%M:%S"
}
EOF

# Update i3 config bar section with Nord colors
cat >> ~/.config/i3/config <<'EOF'

# Nord themed status bar
bar {
    status_command i3status
    position top
    font pango:JetBrains Mono Nerd Font Medium 10
    separator_symbol "|"
    strip_workspace_numbers yes
    
    colors {
        background $nord0
        statusline $nord4
        separator $nord3
        
        # border background text
        focused_workspace    $nord8  $nord8  $nord0
        active_workspace     $nord3  $nord1  $nord4
        inactive_workspace   $nord1  $nord0  $nord3
        urgent_workspace     $nord11 $nord11 $nord6
        binding_mode         $nord13 $nord13 $nord0
    }
}
EOF

# ============================================================================
# [ROFI] - Nord Theme Application Launcher
# ============================================================================

# Create Rofi config directory and main configuration
mkdir -p ~/.config/rofi

cat > ~/.config/rofi/config.rasi <<'EOF'
configuration {
    modi: "run,drun,window,ssh";
    width: 600;
    lines: 15;
    columns: 1;
    font: "JetBrains Mono Nerd Font Medium 11";
    show-icons: true;
    terminal: "alacritty";
    ssh-client: "ssh";
    ssh-command: "{terminal} -e {ssh-client} {host} [-p {port}]";
    run-command: "{cmd}";
    run-list-command: "";
    run-shell-command: "{terminal} -e {cmd}";
    window-command: "wmctrl -i -R {window}";
    window-match-fields: "all";
    icon-theme: "Papirus-Dark";
    drun-match-fields: "name,generic,exec,categories";
    drun-show-actions: false;
    drun-display-format: "{icon} {name}";
    disable-history: false;
    ignored-prefixes: "";
    sort: false;
    sorting-method: "normal";
    case-sensitive: false;
    cycle: true;
    sidebar-mode: false;
    eh: 1;
    auto-select: false;
    parse-hosts: false;
    parse-known-hosts: true;
    combi-modi: "window,run";
    matching: "fuzzy";
    tokenize: true;
    m: "-5";
    line-margin: 2;
    line-padding: 1;
    filter: "";
    separator-style: "dash";
    hide-scrollbar: false;
    fullscreen: false;
    fake-transparency: false;
    dpi: -1;
    threads: 0;
    scrollbar-width: 8;
    scroll-method: 0;
    fake-background: "screenshot";
    window-format: "{w}    {c}   {t}";
    click-to-exit: true;
    show-match: true;
    theme: "nord";
    color-normal: "";
    color-urgent: "";
    color-active: "";
    color-window: "";
    max-history-size: 25;
    combi-hide-mode-prefix: false;
    matching-negate-char: '-';
    cache-dir: "";
    pid: "/run/user/1000/rofi.pid";
    display-window: "";
    display-windowcd: "";
    display-run: "";
    display-ssh: "";
    display-drun: "";
    display-combi: "";
    display-keys: "";
}
EOF

# Create Nord theme for Rofi
cat > ~/.config/rofi/nord.rasi <<'EOF'
* {
    /* Nord color palette */
    nord0: #2e3440;
    nord1: #3b4252;
    nord2: #434c5e;
    nord3: #4c566a;
    nord4: #d8dee9;
    nord5: #e5e9f0;
    nord6: #eceff4;
    nord7: #8fbcbb;
    nord8: #88c0d0;
    nord9: #81a1c1;
    nord10: #5e81ac;
    nord11: #bf616a;
    nord12: #d08770;
    nord13: #ebcb8b;
    nord14: #a3be8c;
    nord15: #b48ead;

    background-color: @nord0;
    border-color: @nord8;
    text-color: @nord4;
    spacing: 0;
}

window {
    background-color: @nord0;
    border: 2px;
    border-color: @nord8;
    border-radius: 10px;
    padding: 15px;
}

mainbox {
    border: 0;
    padding: 0;
}

message {
    border: 2px 0px 0px;
    border-color: @nord8;
    padding: 1px;
}

textbox {
    text-color: @nord4;
}

listview {
    fixed-height: 0;
    border: 2px 0px 0px;
    border-color: @nord8;
    spacing: 2px;
    scrollbar: false;
    padding: 2px 0px 0px;
}

element {
    border: 0;
    padding: 6px;
    border-radius: 6px;
}

element-text {
    background-color: inherit;
    text-color: inherit;
}

element.normal.normal {
    background-color: @nord0;
    text-color: @nord4;
}

element.normal.urgent {
    background-color: @nord11;
    text-color: @nord6;
}

element.normal.active {
    background-color: @nord14;
    text-color: @nord0;
}

element.selected.normal {
    background-color: @nord8;
    text-color: @nord0;
}

element.selected.urgent {
    background-color: @nord11;
    text-color: @nord6;
}

element.selected.active {
    background-color: @nord14;
    text-color: @nord0;
}

element.alternate.normal {
    background-color: @nord0;
    text-color: @nord4;
}

element.alternate.urgent {
    background-color: @nord11;
    text-color: @nord6;
}

element.alternate.active {
    background-color: @nord14;
    text-color: @nord0;
}

scrollbar {
    width: 4px;
    border: 0;
    handle-color: @nord8;
    handle-width: 8px;
    padding: 0;
}

sidebar {
    border: 2px 0px 0px;
    border-color: @nord8;
}

button {
    spacing: 0;
    text-color: @nord4;
}

button.selected {
    background-color: @nord8;
    text-color: @nord0;
}

inputbar {
    spacing: 0;
    text-color: @nord4;
    padding: 1px;
}

case-indicator {
    spacing: 0;
    text-color: @nord4;
}

entry {
    spacing: 0;
    text-color: @nord4;
    background-color: @nord1;
    border: 1px;
    border-color: @nord3;
    border-radius: 4px;
    padding: 6px;
}

prompt {
    spacing: 0;
    text-color: @nord8;
    margin: 0px 8px 0px 0px;
}

inputbar {
    children: [ prompt,textbox-prompt-colon,entry,case-indicator ];
}

textbox-prompt-colon {
    expand: false;
    str: ":";
    margin: 0px 0.3em 0em 0em;
    text-color: @nord8;
}
EOF

# Create Rofi launcher scripts
cat > ~/.config/scripts/rofi_run.sh <<'EOF'
#!/bin/bash
rofi -show drun -theme nord
EOF
chmod +x ~/.config/scripts/rofi_run.sh

cat > ~/.config/scripts/rofi_power.sh <<'EOF'
#!/bin/bash
options="🔒 Lock\n🔄 Restart\n⏻ Shutdown\n🚪 Logout\n💤 Suspend"

chosen=$(echo -e "$options" | rofi -dmenu -i -p "Power" -theme nord)

case "$chosen" in
    "🔒 Lock") i3lock -c 2e3440 ;;
    "🔄 Restart") systemctl reboot ;;
    "⏻ Shutdown") systemctl poweroff ;;
    "🚪 Logout") i3-msg exit ;;
    "💤 Suspend") systemctl suspend ;;
esac
EOF
chmod +x ~/.config/scripts/rofi_power.sh

# ============================================================================
# [PICOM] - Nord Theme
# ============================================================================
mkdir -p ~/.config/picom && \
cat > ~/.config/picom/picom.conf <<'EOF'
# Nord themed Picom configuration

# Shadows
shadow = true;
shadow-radius = 14;
shadow-offset-x = -12;
shadow-offset-y = -12;
shadow-opacity = 0.75;
shadow-red = 0.18;
shadow-green = 0.20;
shadow-blue = 0.25;

shadow-exclude = [
  "name = 'Notification'",
  "class_g = 'Conky'",
  "class_g ?= 'Notify-osd'",
  "class_g = 'Cairo-clock'",
  "class_g = 'i3-bar'",
  "_GTK_FRAME_EXTENTS@:c"
];

# Opacity (more transparent for Nord aesthetic)
inactive-opacity = 0.88;
active-opacity = 1.0;
frame-opacity = 1.0;
inactive-opacity-override = false;

opacity-rule = [
  "100:class_g = 'Alacritty' && focused",
  "88:class_g = 'Alacritty' && !focused",
  "96:class_g = 'Thunar' && focused",
  "88:class_g = 'Thunar' && !focused",
  "100:class_g = 'Firefox'",
  "100:class_g = 'Spotify'",
  "100:class_g = 'i3bar'",
  "100:name *= 'i3lock'"
];

# Fading
fading = true;
fade-in-step = 0.06;
fade-out-step = 0.06;
fade-delta = 8;

# Corners (more rounded for modern look)
corner-radius = 12;
rounded-corners-exclude = [
  "window_type = 'dock'",
  "window_type = 'desktop'",
  "class_g = 'i3bar'"
];

# Background blurring (subtle Nord-style blur)
blur-background = true;
blur-method = "dual_kawase";
blur-strength = 6;
blur-background-exclude = [
  "window_type = 'dock'",
  "window_type = 'desktop'",
  "class_g = 'i3bar'",
  "_GTK_FRAME_EXTENTS@:c"
];

# Backend and performance
backend = "glx";
vsync = true;
mark-wmwin-focused = true;
mark-ovredir-focused = true;
detect-rounded-corners = true;
detect-client-opacity = true;
detect-transient = true;
use-damage = true;
log-level = "warn";

wintypes:
{
  tooltip = { fade = true; shadow = true; opacity = 0.90; focus = true; full-shadow = false; };
  dock = { shadow = false; clip-shadow-above = true; }
  dnd = { shadow = false; }
  popup_menu = { opacity = 0.92; }
  dropdown_menu = { opacity = 0.92; }
};
EOF

# ============================================================================
# [DUNST] - Nord Theme Notifications
# ============================================================================
mkdir -p ~/.config/dunst && \
cat > ~/.config/dunst/dunstrc <<'EOF'
[global]
monitor = 0
follow = keyboard
geometry = "320x60-20+48"
indicate_hidden = yes
shrink = no
transparency = 5
notification_height = 0
separator_height = 2
padding = 12
horizontal_padding = 12
frame_width = 2
frame_color = "#88c0d0"
separator_color = "#434c5e"
sort = yes
idle_threshold = 120
font = JetBrains Mono Nerd Font Medium 10
line_height = 4
markup = full
format = "<b>%s</b>\n%b"
alignment = left
show_age_threshold = 60
word_wrap = yes
ellipsize = middle
ignore_newline = no
stack_duplicates = true
hide_duplicate_count = false
show_indicators = yes
icon_position = left
max_icon_size = 48
sticky_history = yes
history_length = 20
rofi = ~/.config/scripts/rofi_run.sh
browser = firefox
always_run_script = true
title = Dunst
class = Dunst
startup_notification = false
verbosity = mesg
corner_radius = 8
mouse_left_click = close_current
mouse_middle_click = do_action
mouse_right_click = close_all

[experimental]
per_monitor_dpi = false

[shortcuts]
close = ctrl+space
close_all = ctrl+shift+space
history = ctrl+grave
context = ctrl+shift+period

[urgency_low]
background = "#2e3440"
foreground = "#d8dee9"
frame_color = "#5e81ac"
timeout = 4
icon = dialog-information

[urgency_normal]
background = "#2e3440"
foreground = "#d8dee9"
frame_color = "#88c0d0"
timeout = 8
icon = dialog-information

[urgency_critical]
background = "#2e3440"
foreground = "#eceff4"
frame_color = "#bf616a"
timeout = 0
icon = dialog-warning
EOF

# ============================================================================
# [FIREFOX] - Nord Theme CSS
# ============================================================================
echo ""
echo "Creating Firefox Nord theme..."

# Find Firefox profile directory
FIREFOX_PROFILE=$(find ~/.mozilla/firefox -name "*.default*" -type d | head -n 1)

if [ -n "$FIREFOX_PROFILE" ]; then
    mkdir -p "$FIREFOX_PROFILE/chrome"
    
    cat > "$FIREFOX_PROFILE/chrome/userChrome.css" <<'EOF'
/* Nord Theme for Firefox */

/* Variables */
:root {
  --nord0: #2e3440;
  --nord1: #3b4252;
  --nord2: #434c5e;
  --nord3: #4c566a;
  --nord4: #d8dee9;
  --nord5: #e5e9f0;
  --nord6: #eceff4;
  --nord7: #8fbcbb;
  --nord8: #88c0d0;
  --nord9: #81a1c1;
  --nord10: #5e81ac;
  --nord11: #bf616a;
  --nord12: #d08770;
  --nord13: #ebcb8b;
  --nord14: #a3be8c;
  --nord15: #b48ead;
}

/* Main browser chrome */
#main-window {
  background-color: var(--nord0) !important;
}

/* Tab bar */
.tabbrowser-tab {
  background-color: var(--nord1) !important;
  border: none !important;
  border-radius: 6px 6px 0 0 !important;
  margin-right: 2px !important;
}

.tabbrowser-tab[selected="true"] {
  background-color: var(--nord0) !important;
  color: var(--nord4) !important;
}

.tabbrowser-tab:not([selected="true"]) {
  background-color: var(--nord2) !important;
  color: var(--nord4) !important;
}

.tab-background {
  background-color: transparent !important;
  border: none !important;
}

/* URL bar */
#urlbar {
  background-color: var(--nord1) !important;
  border: 1px solid var(--nord3) !important;
  border-radius: 8px !important;
  color: var(--nord4) !important;
}

#urlbar[focused="true"] {
  background-color: var(--nord0) !important;
  border-color: var(--nord8) !important;
}

/* Navigation buttons */
#nav-bar {
  background-color: var(--nord0) !important;
  border-bottom: 1px solid var(--nord3) !important;
}

.toolbarbutton-1 {
  fill: var(--nord4) !important;
}

.toolbarbutton-1:hover {
  background-color: var(--nord2) !important;
  border-radius: 4px !important;
}

/* Bookmarks bar */
#PersonalToolbar {
  background-color: var(--nord1) !important;
  border-bottom: 1px solid var(--nord3) !important;
}

.bookmark-item {
  color: var(--nord4) !important;
}

.bookmark-item:hover {
  background-color: var(--nord2) !important;
  border-radius: 4px !important;
}

/* Sidebar */
#sidebar-box {
  background-color: var(--nord1) !important;
  border-right: 1px solid var(--nord3) !important;
}
EOF

    cat > "$FIREFOX_PROFILE/chrome/userContent.css" <<'EOF'
/* Nord Theme for Firefox Content */

@-moz-document url-prefix(about:) {
  body {
    background-color: #2e3440 !important;
    color: #d8dee9 !important;
  }
  
  a {
    color: #88c0d0 !important;
  }
  
  a:visited {
    color: #b48ead !important;
  }
}

/* New tab page */
@-moz-document url(about:newtab), url(about:home) {
  body {
    background-color: #2e3440 !important;
  }
  
  .search-wrapper input {
    background-color: #3b4252 !important;
    border: 1px solid #4c566a !important;
    color: #d8dee9 !important;
  }
}
EOF

    # Enable userChrome.css
    cat >> "$FIREFOX_PROFILE/user.js" <<'EOF'
user_pref("toolkit.legacyUserProfileCustomizations.stylesheets", true);
user_pref("browser.tabs.drawInTitlebar", true);
user_pref("browser.uidensity", 1);
EOF

    echo "Firefox Nord theme installed! Restart Firefox to see changes."
    echo "Make sure to enable 'toolkit.legacyUserProfileCustomizations.stylesheets' in about:config"
else
    echo "Firefox profile not found. Please run Firefox first, then run this script again."
fi

# ============================================================================
# [THUNAR] - Nord Theme GTK
# ============================================================================
echo ""
echo "Creating Thunar Nord theme..."

mkdir -p ~/.config/gtk-3.0
cat > ~/.config/gtk-3.0/gtk.css <<'EOF'
/* Nord Theme for GTK Applications (including Thunar) */

/* Define Nord colors */
@define-color nord0 #2e3440;
@define-color nord1 #3b4252;
@define-color nord2 #434c5e;
@define-color nord3 #4c566a;
@define-color nord4 #d8dee9;
@define-color nord5 #e5e9f0;
@define-color nord6 #eceff4;
@define-color nord7 #8fbcbb;
@define-color nord8 #88c0d0;
@define-color nord9 #81a1c1;
@define-color nord10 #5e81ac;
@define-color nord11 #bf616a;
@define-color nord12 #d08770;
@define-color nord13 #ebcb8b;
@define-color nord14 #a3be8c;
@define-color nord15 #b48ead;

/* Main window background */
window {
    background-color: @nord0;
    color: @nord4;
}

/* Toolbars and menubars */
toolbar, menubar {
    background-color: @nord1;
    color: @nord4;
    border-bottom: 1px solid @nord3;
}

/* Buttons */
button {
    background-color: @nord1;
    color: @nord4;
    border: 1px solid @nord3;
    border-radius: 4px;
    padding: 6px 12px;
}

button:hover {
    background-color: @nord2;
    border-color: @nord8;
}

button:active {
    background-color: @nord3;
}

/* Entry fields */
entry {
    background-color: @nord1;
    color: @nord4;
    border: 1px solid @nord3;
    border-radius: 4px;
    padding: 6px;
}

entry:focus {
    border-color: @nord8;
    box-shadow: 0 0 0 1px @nord8;
}

/* Treeview (file list) */
treeview {
    background-color: @nord0;
    color: @nord4;
}

treeview:selected {
    background-color: @nord8;
    color: @nord0;
}

treeview header button {
    background-color: @nord1;
    color: @nord4;
    border: 1px solid @nord3;
}

/* Scrollbars */
scrollbar slider {
    background-color: @nord3;
    border-radius: 10px;
}

scrollbar slider:hover {
    background-color: @nord8;
}

/* Sidebar */
sidebar {
    background-color: @nord1;
    color: @nord4;
    border-right: 1px solid @nord3;
}

sidebar:selected {
    background-color: @nord8;
    color: @nord0;
}

/* Pathbar */
.path-bar button {
    background-color: @nord1;
    color: @nord4;
    border: 1px solid @nord3;
    border-radius: 4px;
}

.path-bar button:hover {
    background-color: @nord2;
}

/* Notebook tabs */
notebook tab {
    background-color: @nord1;
    color: @nord4;
    border: 1px solid @nord3;
    border-bottom: none;
    border-radius: 4px 4px 0 0;
}

notebook tab:checked {
    background-color: @nord0;
    border-bottom: 2px solid @nord8;
}

/* Context menus */
menu {
    background-color: @nord1;
    color: @nord4;
    border: 1px solid @nord3;
    border-radius: 4px;
}

menuitem:hover {
    background-color: @nord8;
    color: @nord0;
}

/* Dialog boxes */
dialog {
    background-color: @nord0;
    color: @nord4;
}

/* Progress bars */
progressbar progress {
    background-color: @nord8;
    border-radius: 2px;
}

progressbar trough {
    background-color: @nord2;
    border-radius: 2px;
}
EOF

# Set GTK theme settings
cat > ~/.config/gtk-3.0/settings.ini <<'EOF'
[Settings]
gtk-theme-name=Adwaita-dark
gtk-icon-theme-name=Papirus-Dark
gtk-font-name=JetBrains Mono Nerd Font 10
gtk-cursor-theme-name=Adwaita
gtk-cursor-theme-size=24
gtk-toolbar-style=GTK_TOOLBAR_BOTH_HORIZ
gtk-toolbar-icon-size=GTK_ICON_SIZE_LARGE_TOOLBAR
gtk-button-images=0
gtk-menu-images=0
gtk-enable-event-sounds=1
gtk-enable-input-feedback-sounds=0
gtk-xft-antialias=1
gtk-xft-hinting=1
gtk-xft-hintstyle=hintfull
gtk-xft-rgba=rgb
gtk-application-prefer-dark-theme=1
EOF

# ============================================================================
# [BTOP] - Nord Theme Installation
# ============================================================================
echo ""
echo "Creating btop Nord theme..."

mkdir -p ~/.config/btop/themes

cat > ~/.config/btop/themes/nord.theme <<'EOF'
# Nord theme for btop
# Based on the Nord color palette

# Main background
theme[main_bg]="#2e3440"

# Main text color
theme[main_fg]="#d8dee9"

# Title text color
theme[title]="#88c0d0"

# Highlight color for selected items
theme[hi_fg]="#eceff4"

# Selected background
theme[selected_bg]="#5e81ac"
theme[selected_fg]="#eceff4"

# Inactive/disabled text
theme[inactive_fg]="#4c566a"

# Graph colors
theme[proc_misc]="#8fbcbb"
theme[cpu_box]="#81a1c1"
theme[mem_box]="#a3be8c"
theme[net_box]="#ebcb8b"
theme[proc_box]="#b48ead"
theme[div_line]="#4c566a"

# CPU graph colors
theme[graph_text]="#d8dee9"
theme[meter_bg]="#3b4252"
theme[used_start]="#bf616a"
theme[used_mid]="#d08770"
theme[used_end]="#ebcb8b"

# Available/free colors
theme[available_start]="#a3be8c"
theme[available_mid]="#8fbcbb"
theme[available_end]="#88c0d0"

# Cache colors
theme[cached_start]="#b48ead"
theme[cached_mid]="#81a1c1"
theme[cached_end]="#5e81ac"

# Process colors
theme[process_start]="#88c0d0"
theme[process_mid]="#81a1c1"
theme[process_end]="#5e81ac"

# Temperature colors
theme[temp_start]="#88c0d0"
theme[temp_mid]="#ebcb8b"
theme[temp_end]="#bf616a"

# Network colors
theme[download_start]="#a3be8c"
theme[download_mid]="#8fbcbb"
theme[download_end]="#88c0d0"
theme[upload_start]="#b48ead"
theme[upload_mid]="#81a1c1"
theme[upload_end]="#5e81ac"
EOF

# Create btop config to use Nord theme
mkdir -p ~/.config/btop
cat > ~/.config/btop/btop.conf <<'EOF'
#? Config file for btop v. 1.2.13

#* Name of a btop++/bpytop/bashtop formatted ".theme" file, "Default" and "TTY" for builtin themes.
#* Themes should be placed in "$HOME/.config/btop/themes" user themes folder
#* or in system "/usr/[local/]share/btop/themes" folder.
color_theme = "nord"

#* If the theme set background should be shown, set to False if you want terminal background transparency.
theme_background = True

#* Sets if 24-bit truecolor should be used, will convert 24-bit colors to 256 color (6x6x6 color cube) if false.
truecolor = True

#* Set to true to force tty mode regardless if a real tty has been detected or not.
force_tty = False

#* Define presets for the layout of the boxes. Preset 0 is always all boxes shown with default settings. Max 9 presets.
#* Format: "box_name:P:G,box_name:P:G" P=(0 or 1) for alternate positions, G=graph symbol to use for box.
#* Use withespace " " as separator between different presets.
#* Example: "cpu:0:default,mem:0:tty,net:0:default cpu:0:braille,proc:1:tty"
presets = "cpu:1:default,proc:0:default cpu:0:default,mem:0:default,net:0:default cpu:0:block,net:0:tty"

#* Set to True to enable "h,j,k,l,g,G" keys for directional control in lists.
#* Conflicting keys for h:"help" and k:"kill" is accessible while holding shift.
vim_keys = False

#* Rounded corners on boxes, is ignored if TTY mode is ON.
rounded_corners = True

#* Default symbols to use for graph creation, "braille", "block" or "tty".
#* "braille" offers the highest resolution but might not be included in all fonts.
#* "block" has half the resolution of braille but uses more common characters.
#* "tty" uses only 3 different characters but will work on any terminal.
graph_symbol = "braille"

# Graph symbol to use for graphs in cpu box, "default", "braille", "block" or "tty".
graph_symbol_cpu = "default"

# Graph symbol to use for graphs in mem box, "default", "braille", "block" or "tty".
graph_symbol_mem = "default"

# Graph symbol to use for graphs in net box, "default", "braille", "block" or "tty".
graph_symbol_net = "default"

# Graph symbol to use for graphs in proc box, "default", "braille", "block" or "tty".
graph_symbol_proc = "default"

#* Manually set which boxes to show. Available values are "cpu mem net proc", separate values with whitespace.
shown_boxes = "cpu mem net proc"

#* Update time in milliseconds, recommended 2000 ms or above for better sample times for graphs.
update_ms = 2000

#* Processes sorting, "pid" "program" "arguments" "threads" "user" "memory" "cpu lazy" "cpu direct",
#* "cpu lazy" sorts top process over time (easier to follow), "cpu direct" updates top process directly.
proc_sorting = "cpu lazy"

#* Reverse sorting order, True or False.
proc_reversed = False

#* Show processes as a tree.
proc_tree = False

#* Use the cpu graph colors in the process list.
proc_colors = True

#* Use a darkening gradient in the process list.
proc_gradient = True

#* If process cpu usage should be of the core it's running on or usage of the total available cpu power.
proc_per_core = False

#* Show process memory as bytes instead of percent.
proc_mem_bytes = True

#* Show cpu temperature.
check_temp = True

#* Which sensor to use for cpu temperature, use options menu to select from available sensors.
cpu_sensor = "Auto"

#* Show temperatures for cpu cores also if check_temp is True and sensors has been found.
show_coretemp = True

#* Set fixed custom cpu temperature for non-standard sensors.
cpu_temp_custom = ""

#* Which temperature scale to use, available values: "celsius", "fahrenheit", "kelvin" and "rankine".
temp_scale = "celsius"

#* Use base 10 for bits/bytes sizes, KB = 1000 instead of KiB = 1024.
base_10_sizes = False

#* Show CPU frequency.
show_cpu_freq = True

#* Draw a clock at top of screen, formatting according to strftime, empty string to disable.
#* Special formatting: /host = hostname | /user = username | /uptime = system uptime
clock_format = "%X"

#* Update main ui in background when menus are showing, set this to false if the menus is flickering too much for comfort.
background_update = True

#* Custom cpu model name, empty string to disable.
custom_cpu_name = ""

#* Optional filter for shown disks, should be full path of a mountpoint, separate multiple values with whitespace " ".
#* Begin line with "exclude=" to change to exclude filter, otherwise defaults to "most include" filter. Example: disks_filter="exclude=/boot /home/user".
disks_filter = ""

#* Show graphs instead of meters for memory values.
mem_graphs = True

#* Show mem box below net box instead of above.
mem_below_net = False

#* Count ZFS ARC in cached and available memory.
zfs_arc_cached = True

#* If swap memory should be shown in memory box.
show_swap = True

#* Show swap as a disk, ignores show_swap value above, inserts itself after first disk.
swap_disk = True

#* If mem box should be split to also show disks info.
show_disks = True

#* Filter out non physical disks. Set this to False to include network disks, RAM disks and similar.
only_physical = True

#* Read disks list from /etc/fstab. This also disables only_physical.
use_fstab = True

#* Setting this to True will hide all datasets, and only show ZFS pools. (IO stats will be calculated per-pool)
zfs_hide_datasets = False

#* Set to true to show available disk space for privileged users.
disk_free_priv = False

#* Toggles if io activity % (disk busy time) should be shown in regular disk usage view.
show_io_stat = True

#* Toggles io mode for disks, showing big graphs for disk read/write speeds.
io_mode = False

#* Set to True to show combined read/write io graphs in io mode.
io_graph_combined = False

#* Set the top speed for the io graphs in MiB/s (100 by default), use format "mountpoint:speed" separate disks with whitespace " ".
#* Example: "/mnt/media:100 /:20 /boot:1".
io_graph_speeds = ""

#* Set fixed custom network speed in Mbit, disabled if 0.
net_download = 0

net_upload = 0

#* Use network graphs auto rescaling mode, ignores any values set above and rescales down to 10 Kibibytes at the lowest.
net_auto = True

#* Sync the network graphs scale, the download graph scale will be used for upload as well.
net_sync = True

#* Starts with the Network Interface specified here.
net_iface = ""

#* Show battery stats in top right if battery is present.
show_battery = True

#* Which battery to use if multiple are present. "Auto" for auto detection.
selected_battery = "Auto"

#* Set loglevel for "~/.config/btop/btop.log" levels are: "ERROR" "WARNING" "INFO" "DEBUG".
#* The level set includes all lower levels, i.e. "DEBUG" will show all logging info.
log_level = "WARNING"
EOF

echo ""
echo "Btop Nord theme created! To use it:"
echo "1. Open btop"
echo "2. Press ESC to open options menu"
echo "3. Go to 'Options' -> 'Color theme'"
echo "4. Select 'nord'"
echo "5. Or it should already be selected if you haven't changed the config before"

# ============================================================================
# [INSTALLATION SCRIPT COMPLETION]
# ============================================================================

echo ""
echo "============================================================================"
echo "NORD THEME RICE CONFIGURATION COMPLETE!"
echo "============================================================================"
echo ""
echo "🎨 What has been configured:"
echo "  ✅ i3 window manager - Complete Nord theme with enhanced aesthetics"
echo "  ✅ i3status - Nord colored status bar"
echo "  ✅ Alacritty - Full Nord terminal theme"
echo "  ✅ Picom - Nord themed compositor with transparency and blur"
echo "  ✅ Dunst - Nord notification daemon"
echo "  ✅ rofi - Nord themed application launcher"
echo "  ✅ Firefox - Nord userChrome.css (requires restart)"
echo "  ✅ Thunar - Nord GTK theme"
echo "  ✅ btop - Nord system monitor theme"
echo "  ✅ Rofi - Optional modern launcher (install: sudo pacman -S rofi)"
echo ""
echo "🔧 To apply all changes:"
echo "  1. Restart i3: Mod+Shift+r"
echo "  2. Restart Firefox to see theme changes"
echo "  3. Run 'btop' and select nord theme if not auto-selected"
echo "  4. Run 'nvim' and plugins will auto-install"
echo ""
echo "📦 Optional packages to enhance the experience:"
echo "  sudo pacman -S rofi          # Modern application launcher"
echo "  sudo pacman -S papirus-icon-theme  # Better icons for Thunar"
echo "  sudo pacman -S thunar-archive-plugin  # Archive extraction in Thunar"
echo ""
echo "🖼️  Don't forget to add some Nord-themed wallpapers to ~/Pictures/wallpapers/"
echo "    You can find great Nord wallpapers at: https://github.com/linuxdotexe/nordic-wallpapers"
echo ""
echo "🎯 Nord Color Palette Reference:"
echo "  Polar Night: #2e3440, #3b4252, #434c5e, #4c566a"
echo "  Snow Storm:  #d8dee9, #e5e9f0, #eceff4"
echo "  Frost:       #8fbcbb, #88c0d0, #81a1c1, #5e81ac"
echo "  Aurora:      #bf616a, #d08770, #ebcb8b, #a3be8c, #b48ead"
echo ""
echo "Enjoy your new Nord-themed rice! 🧊❄️"</pre>
        </section>
        <section>
            <h1>Reboot</h1>
            <pre>sudo reboot</pre>
        </section>
        <section>
            <h1>Ethernet, WiFi, and Bluetooth Management</h1>
            <h3>Ethernet Fix</h3>
            <pre># Check USB devices and network interfaces
lsusb && ip link show

# Check for USB ethernet adapter in system logs
sudo dmesg | grep -i -E "(ax88179|usb|eth|enp3s0f3u1u1c2|cdc_ncm)" | tail -20

# Load USB ethernet driver and restart networking
sudo modprobe cdc_ncm && sudo systemctl restart NetworkManager

# Test internet connectivity
ping -c 3 google.com

# Make USB ethernet driver persistent
echo "cdc_ncm" | sudo tee /etc/modules-load.d/ethernet.conf</pre>
            <h3>WiFi Management</h3>
            <pre># List available networks
nmcli device wifi list

# Connect to network
nmcli device wifi connect "NETWORK_NAME" password "PASSWORD"

# Connect to hidden network
nmcli device wifi connect "NETWORK_NAME" password "PASSWORD" hidden yes

# Disconnect
nmcli device disconnect wlan0

# Reconnect to saved network
nmcli connection up "NETWORK_NAME"

# Show saved connections
nmcli connection show

# Delete saved connection
nmcli connection delete "NETWORK_NAME"

# Show device status
nmcli device status

# Turn WiFi off/on
nmcli radio wifi off
nmcli radio wifi on

# Restart NetworkManager
sudo systemctl restart NetworkManager

# Check NetworkManager logs
journalctl -u NetworkManager --since "10 minutes ago"

# Show WiFi interface info
ip addr show wlan0

# Show currently connected network
nmcli device wifi list | grep '*'</pre>
            <h3>Bluetooth Management</h3>
            <pre># Enable and start Bluetooth service
sudo systemctl enable bluetooth && sudo systemctl start bluetooth

# Check Bluetooth status
systemctl status bluetooth

# List Bluetooth controllers
bluetoothctl list

# Enter Bluetooth control interface
bluetoothctl

# Inside bluetoothctl:
power on
agent on
default-agent
scan on

# Stop scanning
scan off

# Pair with device
pair XX:XX:XX:XX:XX:XX

# Connect to device
connect XX:XX:XX:XX:XX:XX

# Trust device
trust XX:XX:XX:XX:XX:XX

# List paired devices
devices

# Exit bluetoothctl
exit

# Disconnect device
bluetoothctl disconnect XX:XX:XX:XX:XX:XX

# Remove device
bluetoothctl remove XX:XX:XX:XX:XX:XX

# Check if Bluetooth is blocked
rfkill list

# Unblock Bluetooth
sudo rfkill unblock bluetooth

# Restart Bluetooth service
sudo systemctl restart bluetooth

# Check Bluetooth logs
journalctl -u bluetooth --since "10 minutes ago"</pre>
        </section>
        <section class="glossary">
            <h2>Glossary, Cheat Sheet &amp; Tips</h2>
            <h3>i3 Window Manager Shortcuts</h3>
            <ul class="cheat-list">
                <li><span class="kbd">Mod</span> = <span class="kbd">Super/Windows</span> key</li>
                <li><span class="kbd">Mod</span> + <span class="kbd">Shift</span> + <span class="kbd">w</span>: Change wallpaper</li>
                <li><span class="kbd">Print</span>: Screenshot to clipboard</li>
                <li><span class="kbd">Shift</span> + <span class="kbd">Print</span>: Area screenshot to clipboard</li>
                <li><span class="kbd">Mod</span> + <span class="kbd">b</span>: Launch Firefox</li>
                <li><span class="kbd">Mod</span> + <span class="kbd">t</span>: Launch Thunar</li>
                <li><span class="kbd">Mod</span> + <span class="kbd">m</span>: Launch Spotify</li>
                <li><span class="kbd">Mod</span> + <span class="kbd">n</span>: Workspace 5, open Neovim in Alacritty</li>
                <li><span class="kbd">Mod</span> + <span class="kbd">p</span>: Open btop in Alacritty</li>
                <li><span class="kbd">Mod</span> + <span class="kbd">Tab</span>: Next workspace</li>
                <li><span class="kbd">Mod</span> + <span class="kbd">Shift</span> + <span class="kbd">Tab</span>: Previous workspace</li>
                <li><span class="kbd">Mod</span> + <span class="kbd">x</span>: Lock screen</li>
                <li><span class="kbd">Mod</span> + <span class="kbd">d</span>: Rofi launcher</li>
                <li><span class="kbd">Mod</span> + <span class="kbd">Shift</span> + <span class="kbd">p</span>: Rofi power menu</li>
                <li><span class="kbd">Mod</span> + <span class="kbd">Shift</span> + <span class="kbd">r</span>: Restart i3</li>
            </ul>
            <h3>Battery Health Care</h3>
            <div class="tip">Use <span class="kbd">dmidecode</span> and <span class="kbd">upower</span> to check battery info and health.</div>
            <ul class="cheat-list">
                <li>Show battery info (model, manufacturer, etc.):<br><span class="kbd">sudo dmidecode -t 22</span></li>
                <li>Show battery status and health:<br><span class="kbd">upower -i $(upower -e | grep BAT)</span></li>
                <li>Show battery cycles:<br><span class="kbd">cat /sys/class/power_supply/BAT0/cycle_count</span></li>
                <li>Show battery full/charge design:<br><span class="kbd">cat /sys/class/power_supply/BAT0/charge_full</span> and <span class="kbd">cat /sys/class/power_supply/BAT0/charge_full_design</span></li>
                <li>Show battery voltage:<br><span class="kbd">cat /sys/class/power_supply/BAT0/voltage_now</span></li>
                <li>Show battery temperature:<br><span class="kbd">cat /sys/class/power_supply/BAT0/temp</span></li>
                <li>Recommended: Keep battery between 20% and 80% for longevity.</li>
                <li>If storing for long periods, keep at ~50% and power off.</li>
                <li>Replace battery if health drops below 70% of design capacity.</li>
                <li>To find battery model for replacement:<br><span class="kbd">sudo dmidecode -t 22</span> (look for <b>"Name"</b> and <b>"Manufacturer"</b>)</li>
            </ul>
            <h3>General Linux/Arch Tips</h3>
            <ul class="cheat-list">
                <li>Update system: <span class="kbd">sudo pacman -Syu</span></li>
                <li>Update AUR: <span class="kbd">yay -Syu</span></li>
                <li>Find package: <span class="kbd">pacman -Ss &lt;name&gt;</span></li>
                <li>Show installed packages: <span class="kbd">pacman -Qe</span></li>
                <li>Show orphaned packages: <span class="kbd">pacman -Qtdq</span></li>
                <li>Remove orphaned packages: <span class="kbd">sudo pacman -Rns $(pacman -Qtdq)</span></li>
                <li>Show disk usage: <span class="kbd">df -h</span></li>
                <li>Show memory usage: <span class="kbd">free -h</span></li>
                <li>Show running services: <span class="kbd">systemctl --type=service --state=running</span></li>
                <li>Show failed services: <span class="kbd">systemctl --failed</span></li>
                <li>Show journal logs: <span class="kbd">journalctl -xe</span></li>
                <li>Show hardware info: <span class="kbd">lshw</span> or <span class="kbd">inxi -F</span></li>
                <li>Show CPU info: <span class="kbd">lscpu</span></li>
                <li>Show GPU info: <span class="kbd">lspci | grep VGA</span></li>
                <li>Show temperature sensors: <span class="kbd">sensors</span></li>
            </ul>
            <h3>Tips &amp; Tricks</h3>
            <ul class="cheat-list">
                <li>Use <span class="kbd">btop</span> for a beautiful system monitor.</li>
                <li>Use <span class="kbd">fastfetch</span> for a quick system summary.</li>
                <li>Use <span class="kbd">brightnessctl</span> to control screen brightness.</li>
                <li>Use <span class="kbd">maim</span> + <span class="kbd">xclip</span> for screenshots to clipboard.</li>
                <li>Use <span class="kbd">dunst</span> for notifications.</li>
                <li>Use <span class="kbd">picom</span> for transparency and blur.</li>
                <li>Use <span class="kbd">feh</span> to set wallpapers.</li>
                <li>Use <span class="kbd">tmux</span> for terminal multiplexing.</li>
                <li>Use <span class="kbd">fzf</span> for fuzzy file finding.</li>
                <li>Use <span class="kbd">rsync</span> for fast file backups.</li>
                <li>Use <span class="kbd">ufw</span> for easy firewall management.</li>
            </ul>
            <div class="tip">For more, check your <span class="kbd">~/.config</span> folder and your rice scripts!</div>
        </section>
    </main>
    <script>
    // Add copy buttons to all <pre> blocks
    document.querySelectorAll('pre').forEach(function(pre) {
        var btn = document.createElement('button');
        btn.className = 'copy-btn';
        btn.innerText = 'Copy';
        btn.addEventListener('click', function() {
            var text = pre.innerText;
            navigator.clipboard.writeText(text).then(function() {
                btn.innerText = 'Copied!';
                setTimeout(function() { btn.innerText = 'Copy'; }, 1200);
            });
        });
        pre.appendChild(btn);
    });
    </script>
</body>
</html>