<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Arch Linux Installation Guide</title>
    <link href="style.css" rel="stylesheet" type="text/css" />
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
</head>
<body>
    <header>
        <div class="container">
            <h1><i class="fab fa-linux"></i> Arch Linux Installation Guide</h1>
            <p>Complete step-by-step installation and configuration guide</p>
        </div>
    </header>

    <!-- Mobile menu button (will be shown/hidden by CSS) -->
    <button class="mobile-menu-btn" aria-label="Toggle navigation menu">
        <i class="fas fa-bars"></i>
    </button>

    <nav class="sidebar">
        <div class="sidebar-section">
            <h3>TTY Installation</h3>
            <ul>
                <li><a href="#initial-setup">1. Initial Setup</a></li>
                <li><a href="#partitioning">2. Disk Partitioning</a></li>
                <li><a href="#base-install">3. Base Installation</a></li>
                <li><a href="#system-config">4. System Configuration</a></li>
                <li><a href="#post-install">5. Post Reboot</a></li>
            </ul>
        </div>
        
        <div class="sidebar-section">
            <h3>Post Installation</h3>
            <ul>
                <li><a href="#package-install">1. Essential Packages Installation</a></li>
                <li><a href="#system-optimization">2. System Optimization</a></li>
                <li><a href="#performance">3. Performance Optimization</a></li>
                <li><a href="#custom-scripts">4. Custom System Scripts</a></li>
                <li><a href="#advanced-performance">5. Advanced Performance Configuration</a></li>
            </ul>
        </div>
        
        <div class="sidebar-section">
            <h3>Rice Configuration</h3>
            <ul>
                <li><a href="#desktop-environment">1. Wallpaper Script Setup</a></li>
                <li><a href="#i3-config">2. i3 Window Manager</a></li>
                <li><a href="#i3status">3. Status Bar</a></li>
                <li><a href="#dmenu-config">4. Rofi Setup</a></li>
                <li><a href="#picom-config">5. Picom Config</a></li>
                <li><a href="#alacritty-config">6. Alacritty Config</a></li>
                <li><a href="#i3-aesthetics">7. i3 Aesthetics</a></li>
                <li><a href="#notifications">8. Notification Config</a></li>
                <li><a href="#firefox">9. Firefox Config</a></li>
                <li><a href="#thunar">10. Thunar Config</a></li>
                <li><a href="#btop">11. Btop Config</a></li>
                <li><a href="#rice-setup">12. Applying All Rice Configs</a></li>
            </ul>
        </div>
        
        <div class="sidebar-section">
            <h3>Reboot</h3>
            <ul>
                <li><a href="#final-steps">1. Reboot</a></li>
            </ul>
        </div>
        
        <div class="sidebar-section">
            <h3>Ethernet Fix, WiFi and Bluetooth Management</h3>
            <ul>
                <li><a href="#network-management">1. Ethernet Fix</a></li>
                <li><a href="#wifi-management">2. WiFi Management</a></li>
                <li><a href="#bluetooth">3. Bluetooth Management</a></li>
            </ul>
        </div>
        
        <div class="sidebar-section">
            <h3>LazyVim Setup (Nord Theme)</h3>
            <ul>
                <li><a href="#lazyvim-backup">1. Backup Commands</a></li>
                <li><a href="#lazyvim-starter">2. LazyVim Starter</a></li>
                <li><a href="#lazyvim-navigate">3. Setting Lua Configs</a></li>
                <li><a href="#lazyvim-options">4. Options.lua</a></li>
                <li><a href="#lazyvim-keymaps">5. Keymaps.lua</a></li>
                <li><a href="#lazyvim-autocmds">6. Autocmds.lua</a></li>
                <li><a href="#lazyvim-plugins">7. Creating Additional Plugins</a></li>
                <li><a href="#lazyvim-nord">8. Nord.lua</a></li>
                <li><a href="#lazyvim-lazy">9. Lazy.lua</a></li>
                <li><a href="#lazyvim-focus">10. Focus.lua</a></li>
                <li><a href="#lazyvim-productivity">11. Productivity.lua</a></li>
                <li><a href="#lazyvim-lsp">12. LSP.lua</a></li>
                <li><a href="#lazyvim-tools">13. Tools.lua</a></li>
            </ul>
        </div>
        
        <div class="sidebar-section">
            <h3>Glossary</h3>
            <ul>
                <li><a href="#glossary">System Information & Reference</a></li>
            </ul>
        </div>
    </nav>

    <main class="content">
        <section id="initial-setup" class="section">
            <h2><i class="fas fa-play-circle"></i> Initial Setup</h2>
            
            <div class="command-block">
                <h3>Set Font and Keyboard Layout</h3>
                <div class="code-container">
                    <code>setfont ter-132b && loadkeys us</code>
                    <button class="copy-btn" onclick="copyToClipboard(this)">
                        <i class="fas fa-copy"></i>
                    </button>
                </div>
            </div>

            <div class="command-block">
                <h3>Connect to WiFi</h3>
                <div class="code-container">
                    <code>iwctl
device list
station wlan0 scan
station wlan0 get-networks
station wlan0 connect "YOUR_NETWORK_NAME"
exit</code>
                    <button class="copy-btn" onclick="copyToClipboard(this)">
                        <i class="fas fa-copy"></i>
                    </button>
                </div>
            </div>

            <div class="command-block">
                <h3>Test Internet Connection</h3>
                <div class="code-container">
                    <code>ping -c 3 archlinux.org || { echo "No internet"; exit 1; }</code>
                    <button class="copy-btn" onclick="copyToClipboard(this)">
                        <i class="fas fa-copy"></i>
                    </button>
                </div>
            </div>

            <div class="command-block">
                <h3>Set System Clock</h3>
                <div class="code-container">
                    <code>timedatectl set-ntp true</code>
                    <button class="copy-btn" onclick="copyToClipboard(this)">
                        <i class="fas fa-copy"></i>
                    </button>
                </div>
            </div>
        </section>

        <section id="partitioning" class="section">
            <h2><i class="fas fa-hdd"></i> Disk Partitioning</h2>
            
            <div class="command-block">
                <h3>List Block Devices</h3>
                <div class="code-container">
                    <code>lsblk</code>
                    <button class="copy-btn" onclick="copyToClipboard(this)">
                        <i class="fas fa-copy"></i>
                    </button>
                </div>
            </div>

            <div class="command-block">
                <h3>Partition Disk</h3>
                <div class="code-container">
                    <code>cfdisk /dev/nvme0n1</code>
                    <button class="copy-btn" onclick="copyToClipboard(this)">
                        <i class="fas fa-copy"></i>
                    </button>
                </div>
            </div>

            <div class="command-block">
                <h3>Format Partitions</h3>
                <div class="code-container">
                    <code>mkfs.ext4 /dev/nvme0n1p3
mkfs.fat -F 32 /dev/nvme0n1p1
mkswap /dev/nvme0n1p2</code>
                    <button class="copy-btn" onclick="copyToClipboard(this)">
                        <i class="fas fa-copy"></i>
                    </button>
                </div>
            </div>

            <div class="command-block">
                <h3>Mount Partitions</h3>
                <div class="code-container">
                    <code>mount /dev/nvme0n1p3 /mnt
mkdir -p /mnt/boot/efi
mount /dev/nvme0n1p1 /mnt/boot/efi
swapon /dev/nvme0n1p2</code>
                    <button class="copy-btn" onclick="copyToClipboard(this)">
                        <i class="fas fa-copy"></i>
                    </button>
                </div>
            </div>
        </section>

        <section id="base-install" class="section">
            <h2><i class="fas fa-download"></i> Base Installation</h2>
            
            <div class="command-block">
                <h3>Install Base System</h3>
                <div class="code-container">
                    <code>pacstrap /mnt base linux linux-firmware amd-ucode sof-firmware base-devel grub efibootmgr networkmanager sudo git neovim</code>
                    <button class="copy-btn" onclick="copyToClipboard(this)">
                        <i class="fas fa-copy"></i>
                    </button>
                </div>
            </div>

            <div class="command-block">
                <h3>Generate fstab</h3>
                <div class="code-container">
                    <code>genfstab /mnt
genfstab -U /mnt >> /mnt/etc/fstab</code>
                    <button class="copy-btn" onclick="copyToClipboard(this)">
                        <i class="fas fa-copy"></i>
                    </button>
                </div>
            </div>

            <div class="command-block">
                <h3>Chroot into System</h3>
                <div class="code-container">
                    <code>arch-chroot /mnt</code>
                    <button class="copy-btn" onclick="copyToClipboard(this)">
                        <i class="fas fa-copy"></i>
                    </button>
                </div>
            </div>
        </section>

        <section id="system-config" class="section">
            <h2><i class="fas fa-cog"></i> System Configuration</h2>
            
            <div class="command-block">
                <h3>Set Timezone</h3>
                <div class="code-container">
                    <code>date
ln -sf /usr/share/zoneinfo/Asia/Manila /etc/localtime
hwclock --systohc
date</code>
                    <button class="copy-btn" onclick="copyToClipboard(this)">
                        <i class="fas fa-copy"></i>
                    </button>
                </div>
            </div>

            <div class="command-block">
                <h3>Set Locale</h3>
                <div class="code-container">
                    <code>echo 'en_US.UTF-8 UTF-8' >> /etc/locale.gen
locale-gen
echo 'LANG=en_US.UTF-8' > /etc/locale.conf
echo 'KEYMAP=us' > /etc/vconsole.conf</code>
                    <button class="copy-btn" onclick="copyToClipboard(this)">
                        <i class="fas fa-copy"></i>
                    </button>
                </div>
            </div>

            <div class="command-block">
                <h3>Set Hostname and Users</h3>
                <div class="code-container">
                    <code>echo 'tobias' > /etc/hostname
passwd
useradd -m -G wheel -s /bin/bash sid
passwd sid</code>
                    <button class="copy-btn" onclick="copyToClipboard(this)">
                        <i class="fas fa-copy"></i>
                    </button>
                </div>
            </div>

            <div class="command-block">
                <h3>Configure sudo</h3>
                <div class="code-container">
                    <code>echo '%wheel ALL=(ALL:ALL) ALL' >> /etc/sudoers</code>
                    <button class="copy-btn" onclick="copyToClipboard(this)">
                        <i class="fas fa-copy"></i>
                    </button>
                </div>
            </div>

            <div class="command-block">
                <h3>Install and Configure Bootloader</h3>
                <div class="code-container">
                    <code>systemctl enable NetworkManager
grub-install --target=x86_64-efi --efi-directory=/boot/efi --bootloader-id=GRUB
grub-mkconfig -o /boot/grub/grub.cfg</code>
                    <button class="copy-btn" onclick="copyToClipboard(this)">
                        <i class="fas fa-copy"></i>
                    </button>
                </div>
            </div>

            <div class="command-block">
                <h3>Exit and Reboot</h3>
                <div class="code-container">
                    <code>exit
umount -R /mnt
reboot</code>
                    <button class="copy-btn" onclick="copyToClipboard(this)">
                        <i class="fas fa-copy"></i>
                    </button>
                </div>
            </div>
        </section>

        <section id="post-install" class="section">
            <h2><i class="fas fa-rocket"></i> Post Reboot</h2>
            
            <div class="command-block">
                <h3>Connect to WiFi</h3>
                <div class="code-container">
                    <code>nmcli device wifi connect "YOUR_NETWORK_NAME" password "YOUR_PASSWORD"</code>
                    <button class="copy-btn" onclick="copyToClipboard(this)">
                        <i class="fas fa-copy"></i>
                    </button>
                </div>
            </div>

            <div class="command-block">
                <h3>Update System</h3>
                <div class="code-container">
                    <code>sudo pacman -Syu</code>
                    <button class="copy-btn" onclick="copyToClipboard(this)">
                        <i class="fas fa-copy"></i>
                    </button>
                </div>
            </div>

            <div class="command-block">
                <h3>Install Desktop Environment</h3>
                <div class="code-container">
                    <code>sudo pacman -S xorg-server xorg-xinit i3-wm i3status i3lock rofi alacritty firefox</code>
                    <button class="copy-btn" onclick="copyToClipboard(this)">
                        <i class="fas fa-copy"></i>
                    </button>
                </div>
            </div>

            <div class="command-block">
                <h3>Configure X11</h3>
                <div class="code-container">
                    <code>echo 'exec i3' > ~/.xinitrc</code>
                    <button class="copy-btn" onclick="copyToClipboard(this)">
                        <i class="fas fa-copy"></i>
                    </button>
                </div>
            </div>

            <div class="command-block">
                <h3>Start Desktop</h3>
                <div class="code-container">
                    <code>startx</code>
                    <button class="copy-btn" onclick="copyToClipboard(this)">
                        <i class="fas fa-copy"></i>
                    </button>
                </div>
            </div>
        </section>

        <section id="package-install" class="section">
            <h2><i class="fas fa-box"></i> Essential Packages Installation</h2>
            
            <div class="command-block">
                <h3>Install AUR Helper and Essential Packages</h3>
                <div class="code-container">
                    <code>sudo sed -i '/^#\[multilib\]/,/^#Include = \/etc\/pacman\.d\/mirrorlist/ s/^#//' /etc/pacman.conf && \
sudo pacman -Syu && \
git clone https://aur.archlinux.org/yay.git && \
cd yay && \
makepkg -si --noconfirm --needed && \
cd .. && \
rm -rf yay && \
sudo pacman -S --noconfirm man-db man-pages reflector tmux lazygit thunar papirus-icon-theme thunar-archive-plugin xarchiver p7zip unzip tar ntfs-3g exfatprogs gvfs gvfs-mtp gvfs-gphoto2 gvfs-smb udisks2 udiskie libmtp gparted picom feh maim xclip xorg-xrandr fastfetch btop lm_sensors acpi powertop tlp tlp-rdw dmidecode brightnessctl pipewire pipewire-pulse pipewire-alsa wireplumber alsa-utils alsa-ucm-conf bluez bluez-utils libinput xf86-input-libinput xorg-xinput xdotool v4l-utils cheese wget curl rsync fzf ripgrep fd tree-sitter tree-sitter-cli clang cppcheck python-lsp-server python-black python-isort python-flake8 python-debugpy python-pynvim luarocks gdb make cmake ninja ccache nodejs npm dunst libnotify mpv ufw mesa lib32-mesa vulkan-radeon lib32-vulkan-radeon xf86-video-amdgpu mesa-vdpau libva-mesa-driver noto-fonts-emoji noto-fonts noto-fonts-cjk inter-font && \
yay -S --noconfirm ttf-jetbrains-mono-nerd spotify || echo "Some AUR packages failed"</code>
                    <button class="copy-btn" onclick="copyToClipboard(this)">
                        <i class="fas fa-copy"></i>
                    </button>
                </div>
            </div>
        </section>

        <section id="system-optimization" class="section">
            <h2><i class="fas fa-tachometer-alt"></i> System Optimization</h2>
            
            <div class="command-block">
                <h3>Configure System Services and Security</h3>
                <div class="code-container">
                    <code>sudo usermod -aG audio,video,input,storage,power,rfkill,sys,adm,disk sid && \
sudo reflector --country Philippines,Singapore,South_Korea,Japan --age 12 --protocol https --sort rate --latest 10 --save /etc/pacman.d/mirrorlist && \
sudo systemctl enable --now reflector.timer && \
sudo pacman -Syyu && \
sudo modprobe ip_tables && \
sudo modprobe ip6_tables && \
sudo systemctl enable ufw && \
sudo ufw default deny incoming && \
sudo ufw default allow outgoing && \
sudo ufw --force enable && \
sudo sensors-detect --auto && \
sudo sed -i 's/#AutoEnable=false/AutoEnable=true/' /etc/bluetooth/main.conf && \
systemctl --user daemon-reexec && \
systemctl --user enable --now pipewire.service pipewire-pulse.service wireplumber.service && \
sudo systemctl enable --now bluetooth tlp && \
sudo systemctl mask systemd-networkd-wait-online.service && \
sudo sed -i 's/^#DefaultTimeoutStopSec=.*$/DefaultTimeoutStopSec=10s/' /etc/systemd/system.conf && \
sudo sed -i 's/^#DefaultTimeoutStartSec=.*$/DefaultTimeoutStartSec=5s/' /etc/systemd/system.conf && \
sudo systemctl enable fstrim.timer && \
sudo systemctl start fstrim.timer && \
sudo systemctl daemon-reexec</code>
                    <button class="copy-btn" onclick="copyToClipboard(this)">
                        <i class="fas fa-copy"></i>
                    </button>
                </div>
            </div>
        </section>

        <section id="performance" class="section">
            <h2><i class="fas fa-bolt"></i> Performance Optimization</h2>
            
            <div class="command-block">
                <h3>GRUB and Hardware Optimization</h3>
                <div class="code-container">
                    <code>sudo sed -i 's/GRUB_CMDLINE_LINUX=""/GRUB_CMDLINE_LINUX="quiet splash mitigations=off nowatchdog processor.max_cstate=1 amd_pstate=active"/' /etc/default/grub && \
sudo grub-mkconfig -o /boot/grub/grub.cfg && \
echo 'ACTION=="add|change", KERNEL=="nvme[0-9]*", ATTR{queue/scheduler}="mq-deadline"' | sudo tee /etc/udev/rules.d/60-ioschedulers.rules && \
brightnessctl set 50% && \
sudo mkdir -p /etc/X11/xorg.conf.d && \
sudo tee /etc/X11/xorg.conf.d/30-touchpad.conf > /dev/null <<'EOF'
Section "InputClass"
    Identifier "touchpad"
    Driver "libinput"
    MatchIsTouchpad "on"
    Option "Tapping" "on"
    Option "TappingButtonMap" "lrm"
    Option "NaturalScrolling" "true"
    Option "ScrollMethod" "twofinger"
    Option "ClickMethod" "clickfinger"
    Option "DisableWhileTyping" "on"
EndSection
EOF</code>
                    <button class="copy-btn" onclick="copyToClipboard(this)">
                        <i class="fas fa-copy"></i>
                    </button>
                </div>
            </div>
        </section>

        <section id="custom-scripts" class="section">
            <h2><i class="fas fa-terminal"></i> Custom System Scripts</h2>
            
            <div class="command-block">
                <h3>Create System Management Scripts</h3>
                <div class="code-container">
                    <code>sudo tee /usr/local/bin/update > /dev/null <<'EOF'
#!/bin/bash
echo "=== UPDATING SYSTEM ==="
sudo pacman -Syu --noconfirm
echo "=== UPDATING AUR PACKAGES ==="
yay -Syu --noconfirm
echo "=== UPDATE COMPLETE ==="
EOF
sudo chmod +x /usr/local/bin/update && \
sudo tee /usr/local/bin/debloat > /dev/null <<'EOF'
#!/bin/bash
echo "=== DISK SPACE BEFORE ==="
df -h / | tail -1
echo "=== CLEANING PACKAGE CACHE ==="
sudo pacman -Sc --noconfirm
yay -Sc --noconfirm
echo "=== REMOVING ORPHANED PACKAGES ==="
sudo pacman -Rns $(pacman -Qtdq) --noconfirm 2>/dev/null || echo "No orphaned packages"
echo "=== CLEARING SYSTEM LOGS ==="
sudo journalctl --vacuum-time=3d
echo "=== CLEARING USER CACHE ==="
rm -rf ~/.cache/* 2>/dev/null || true
echo "=== CLEARING TEMP FILES ==="
sudo rm -rf /tmp/* /var/tmp/* 2>/dev/null || true
echo "=== CLEARING THUMBNAILS ==="
rm -rf ~/.thumbnails/* ~/.local/share/Trash/* 2>/dev/null || true
echo "=== CLEARING FIREFOX CACHE ==="
rm -rf ~/.mozilla/firefox/*/storage/default/cache2/* 2>/dev/null || true
echo "=== MEMORY CLEANUP ==="
sync && echo 3 | sudo tee /proc/sys/vm/drop_caches
echo "=== DEBLOAT COMPLETE ==="
df -h / | tail -1
EOF
sudo chmod +x /usr/local/bin/debloat && \
sudo tee /usr/local/bin/performance > /dev/null <<'EOF'
#!/bin/bash
echo "=== ENABLING PERFORMANCE MODE ==="
echo performance | sudo tee /sys/devices/system/cpu/cpu*/cpufreq/scaling_governor
echo "=== SETTING VM SWAPPINESS ==="
echo 'vm.swappiness=10' | sudo tee -a /etc/sysctl.d/99-swappiness.conf
echo "=== OPTIMIZING I/O SCHEDULER ==="
echo mq-deadline | sudo tee /sys/block/nvme0n1/queue/scheduler
echo "=== PERFORMANCE MODE ACTIVE ==="
cat /sys/devices/system/cpu/cpu0/cpufreq/scaling_governor
EOF
sudo chmod +x /usr/local/bin/performance && \
sudo tee /usr/local/bin/powersave > /dev/null <<'EOF'
#!/bin/bash
echo "=== ENABLING POWERSAVE MODE ==="
echo powersave | sudo tee /sys/devices/system/cpu/cpu*/cpufreq/scaling_governor
echo "=== ENABLING WIFI POWERSAVE ==="
sudo iw dev wlan0 set power_save on 2>/dev/null || echo "Wifi powersave not available"
echo "=== REDUCING BRIGHTNESS ==="
brightnessctl set 30%
echo "=== POWERSAVE MODE ACTIVE ==="
cat /sys/devices/system/cpu/cpu0/cpufreq/scaling_governor
EOF
sudo chmod +x /usr/local/bin/powersave && \
sudo tee /usr/local/bin/boost > /dev/null <<'EOF'
#!/bin/bash
echo "=== TEMPORARY PERFORMANCE BOOST ==="
echo performance | sudo tee /sys/devices/system/cpu/cpu*/cpufreq/scaling_governor
echo never | sudo tee /sys/kernel/mm/transparent_hugepage/enabled
echo 1 | sudo tee /proc/sys/vm/drop_caches
echo "=== BOOST ACTIVE FOR THIS SESSION ==="
EOF
sudo chmod +x /usr/local/bin/boost && \
sudo tee /usr/local/bin/boottime > /dev/null <<'EOF'
#!/bin/bash
echo "=== BOOT TIME ANALYSIS ==="
systemd-analyze
echo ""
echo "=== SLOWEST SERVICES ==="
systemd-analyze blame | head -10
echo ""
echo "=== CRITICAL CHAIN ==="
systemd-analyze critical-chain
EOF
sudo chmod +x /usr/local/bin/boottime</code>
                    <button class="copy-btn" onclick="copyToClipboard(this)">
                        <i class="fas fa-copy"></i>
                    </button>
                </div>
            </div>
        </section>

        <section id="advanced-performance" class="section">
            <h2><i class="fas fa-microchip"></i> Advanced Performance Configuration</h2>
            
            <div class="command-block">
                <h3>System Performance Tweaks</h3>
                <div class="code-container">
                    <code>sudo tee /etc/sysctl.d/99-performance.conf > /dev/null <<'EOF'
# Performance optimizations and Advanced I/O optimizations
vm.swappiness=10
vm.vfs_cache_pressure=50
vm.dirty_ratio=15
vm.dirty_background_ratio=5
kernel.sched_migration_cost_ns=5000000
kernel.sched_autogroup_enabled=0
vm.dirty_expire_centisecs = 1500
vm.dirty_writeback_centisecs = 1500
vm.page-cluster = 0
kernel.sched_rt_runtime_us = 950000
kernel.sched_rt_period_us = 1000000
EOF
sudo tee /etc/systemd/system/cpu-performance.service > /dev/null <<'EOF'
[Unit]
Description=Set CPU Performance Governor
After=multi-user.target

[Service]
Type=oneshot
ExecStart=/bin/bash -c 'echo performance | tee /sys/devices/system/cpu/cpu*/cpufreq/scaling_governor'
RemainAfterExit=yes

[Install]
WantedBy=multi-user.target
EOF
sudo systemctl enable cpu-performance.service</code>
                    <button class="copy-btn" onclick="copyToClipboard(this)">
                        <i class="fas fa-copy"></i>
                    </button>
                </div>
            </div>
        </section>

        <section id="desktop-environment" class="section">
            <h2><i class="fas fa-desktop"></i> Desktop Environment Setup</h2>
            
            <div class="command-block">
                <h3>Wallpaper Script Setup</h3>
                <div class="code-container">
                    <code>mkdir -p ~/.config/scripts ~/Pictures/wallpapers && \
cat > ~/.config/scripts/wallpaper.sh <<'EOF'
#!/bin/bash
WALLPAPER_DIR="$HOME/Pictures/wallpapers"

if [ ! -d "$WALLPAPER_DIR" ]; then
    echo "Wallpaper directory not found: $WALLPAPER_DIR"
    mkdir -p "$WALLPAPER_DIR"
    echo "Please add wallpapers to $WALLPAPER_DIR"
    exit 1
fi

WALLPAPERS=($(find "$WALLPAPER_DIR" -type f \( -iname "*.jpg" -o -iname "*.jpeg" -o -iname "*.png" -o -iname "*.webp" -o -iname "*.bmp" \)))

if [ ${#WALLPAPERS[@]} -eq 0 ]; then
    echo "No wallpapers found in $WALLPAPER_DIR"
    exit 1
fi

RANDOM_WALLPAPER=${WALLPAPERS[$RANDOM % ${#WALLPAPERS[@]}]}
feh --bg-scale "$RANDOM_WALLPAPER"
echo "Wallpaper set to: $(basename "$RANDOM_WALLPAPER")"
EOF
chmod +x ~/.config/scripts/wallpaper.sh</code>
                    <button class="copy-btn" onclick="copyToClipboard(this)">
                        <i class="fas fa-copy"></i>
                    </button>
                </div>
            </div>
        </section>

        <section id="i3-config" class="section">
            <h2><i class="fas fa-window-maximize"></i> i3 Configuration</h2>
            
            <div class="command-block">
                <h3>Configure i3 Window Manager</h3>
                <div class="code-container">
                    <code>mkdir -p ~/.config/alacritty && \
cat > ~/.xinitrc <<'EOF'
~/.config/scripts/wallpaper.sh auto &
exec i3
EOF
{
echo "exec --no-startup-id ~/.config/scripts/wallpaper.sh auto"
echo "bindsym \$mod+Shift+w exec ~/.config/scripts/wallpaper.sh random"
echo 'bindsym Print exec maim | xclip -selection clipboard -t image/png'
echo 'bindsym Shift+Print exec maim -s | xclip -selection clipboard -t image/png'
echo 'bindsym XF86MonBrightnessUp exec brightnessctl set +5% && notify-send "Brightness: $(brightnessctl get)"'
echo 'bindsym XF86MonBrightnessDown exec brightnessctl set 5%- && notify-send "Brightness: $(brightnessctl get)"'
echo 'bindsym $mod+b exec firefox'
echo 'bindsym $mod+t exec thunar'
echo 'bindsym $mod+m exec spotify'
echo 'bindsym $mod+n exec --no-startup-id "i3-msg workspace 5; alacritty -e nvim"'
echo 'assign [class="Spotify"] 10'
echo 'bindsym $mod+p exec alacritty -e btop'
echo 'bindsym $mod+Tab workspace next'
echo 'bindsym $mod+Shift+Tab workspace prev'
echo 'bindsym $mod+x exec i3lock -c 2e3440'
} >> ~/.config/i3/config && \
sed -i 's/font pango:monospace 8/font pango:JetBrains Mono Nerd Font 12/' ~/.config/i3/config && \
echo '[font]
normal = { family = "JetBrains Mono Nerd Font" }
size = 12' > ~/.config/alacritty/alacritty.toml</code>
                    <button class="copy-btn" onclick="copyToClipboard(this)">
                        <i class="fas fa-copy"></i>
                    </button>
                </div>
            </div>
        </section>

        <section id="i3status" class="section">
            <h2><i class="fas fa-chart-bar"></i> i3status Configuration</h2>
            
            <div class="command-block">
                <h3>Configure Status Bar</h3>
                <div class="code-container">
                    <code>mkdir -p ~/.config/i3status && \
cat > ~/.config/i3status/config <<'EOF'
general {
    colors = true
    interval = 2
    color_good = "#a3be8c"
    color_bad = "#bf616a"
    color_degraded = "#ebcb8b"
}

order += "wireless _first_"
order += "ethernet _first_"
order += "memory"
order += "cpu_usage"
order += "cpu_temperature 0"
order += "disk /"
order += "battery all"
order += "volume master"
order += "tztime local"

wireless _first_ {
    format_up = "📶 %quality %essid %ip"
    format_down = "📶 down"
    separator = false
    separator_block_width = 1
}

ethernet _first_ {
    format_up = "🌐 %ip (%speed)"
    format_down = "🌐 down"
    separator = false
    separator_block_width = 1
}

memory {
    format = "🧠 %used/%total"
    threshold_degraded = "1G"
    format_degraded = "🧠 < %free"
}

cpu_usage {
    format = "💻 %usage"
    max_threshold = 75
    degraded_threshold = 25
}

cpu_temperature 0 {
    format = "🌡️ %degrees°C"
    max_threshold = 75
    path = "/sys/devices/virtual/thermal/thermal_zone0/hwmon1/temp1_input"
}

disk "/" {
    format = "💾 %used/%total"
    low_threshold = 10
    threshold_type = percentage_avail
}

battery all {
    format = "%status %percentage %remaining %consumption"
    format_down = "🔌 AC"
    last_full_capacity = true
    integer_battery_capacity = true
    status_chr = "🔌"
    status_bat = "🔋"
    status_unk = "❓"
    status_full = "⚡"
    low_threshold = 15
    threshold_type = percentage
}

volume master {
    format = "🔊 %volume"
    format_muted = "🔇 muted"
    device = "pulse"
}

tztime local {
    format = "📅 %m-%d-%Y 🕐 %H:%M:%S"
}
EOF

# Update i3 config to use the new i3status config with proper bar configuration
sed -i '/^[[:space:]]*bar[[:space:]]*{/,/^[[:space:]]*}/c\
bar {\
    status_command i3status\
    position top\
    font pango:JetBrains Mono Nerd Font 12\
    separator_symbol "|"\
    colors {\
        background \$nord0\
        statusline \$nord4\
        separator \$nord3\
        # border background text\
        focused_workspace \$nord8 \$nord8 \$nord0\
        inactive_workspace \$nord1 \$nord0 \$nord3\
        active_workspace \$nord3 \$nord1 \$nord4\
        urgent_workspace \$nord11 \$nord11 \$nord6\
        binding_mode \$nord13 \$nord13 \$nord0\
    }\
}' ~/.config/i3/config</code>
                    <button class="copy-btn" onclick="copyToClipboard(this)">
                        <i class="fas fa-copy"></i>
                    </button>
                </div>
            </div>
        </section>

        <section id="dmenu-config" class="section">
            <h2><i class="fas fa-search"></i> rofi Configuration</h2>
            
            <div class="command-block">
                <h3>Enhanced rofi Setup</h3>
                <div class="code-container">
                    <code># Create Rofi config directory and main configuration
mkdir -p ~/.config/rofi && \

cat > ~/.config/rofi/config.rasi <<'EOF'
configuration {
    modi: "run,drun,window,ssh";
    width: 600;
    lines: 15;
    columns: 1;
    font: "JetBrains Mono Nerd Font Medium 11";
    show-icons: true;
    terminal: "alacritty";
    ssh-client: "ssh";
    ssh-command: "{terminal} -e {ssh-client} {host} [-p {port}]";
    run-command: "{cmd}";
    run-list-command: "";
    run-shell-command: "{terminal} -e {cmd}";
    window-command: "wmctrl -i -R {window}";
    window-match-fields: "all";
    icon-theme: "Papirus-Dark";
    drun-match-fields: "name,generic,exec,categories";
    drun-show-actions: false;
    drun-display-format: "{icon} {name}";
    disable-history: false;
    ignored-prefixes: "";
    sort: false;
    sorting-method: "normal";
    case-sensitive: false;
    cycle: true;
    sidebar-mode: false;
    eh: 1;
    auto-select: false;
    parse-hosts: false;
    parse-known-hosts: true;
    combi-modi: "window,run";
    matching: "fuzzy";
    tokenize: true;
    m: "-5";
    line-margin: 2;
    line-padding: 1;
    filter: "";
    separator-style: "dash";
    hide-scrollbar: false;
    fullscreen: false;
    fake-transparency: false;
    dpi: -1;
    threads: 0;
    scrollbar-width: 8;
    scroll-method: 0;
    fake-background: "screenshot";
    window-format: "{w}    {c}   {t}";
    click-to-exit: true;
    show-match: true;
    color-normal: "";
    color-urgent: "";
    color-active: "";
    color-window: "";
    max-history-size: 25;
    combi-hide-mode-prefix: false;
    matching-negate-char: '-';
    pid: "/run/user/1000/rofi.pid";
    display-window: "";
    display-windowcd: "";
    display-run: "";
    display-ssh: "";
    display-drun: "";
    display-combi: "";
    display-keys: "";
}

@theme "nord"
EOF

# Create Nord theme for Rofi
cat > ~/.config/rofi/nord.rasi <<'EOF'
* {
    /* Nord color palette */
    nord0: #2e3440;
    nord1: #3b4252;
    nord2: #434c5e;
    nord3: #4c566a;
    nord4: #d8dee9;
    nord5: #e5e9f0;
    nord6: #eceff4;
    nord7: #8fbcbb;
    nord8: #88c0d0;
    nord9: #81a1c1;
    nord10: #5e81ac;
    nord11: #bf616a;
    nord12: #d08770;
    nord13: #ebcb8b;
    nord14: #a3be8c;
    nord15: #b48ead;

    background-color: @nord0;
    border-color: @nord8;
    text-color: @nord4;
    spacing: 0;
}

window {
    background-color: @nord0;
    border: 2px;
    border-color: @nord8;
    border-radius: 10px;
    padding: 15px;
}

mainbox {
    border: 0;
    padding: 0;
}

message {
    border: 2px 0px 0px;
    border-color: @nord8;
    padding: 1px;
}

textbox {
    text-color: @nord4;
}

listview {
    fixed-height: 0;
    border: 2px 0px 0px;
    border-color: @nord8;
    spacing: 2px;
    scrollbar: false;
    padding: 2px 0px 0px;
}

element {
    border: 0;
    padding: 6px;
    border-radius: 6px;
}

element-text {
    background-color: inherit;
    text-color: inherit;
}

element.normal.normal {
    background-color: @nord0;
    text-color: @nord4;
}

element.normal.urgent {
    background-color: @nord11;
    text-color: @nord6;
}

element.normal.active {
    background-color: @nord14;
    text-color: @nord0;
}

element.selected.normal {
    background-color: @nord8;
    text-color: @nord0;
}

element.selected.urgent {
    background-color: @nord11;
    text-color: @nord6;
}

element.selected.active {
    background-color: @nord14;
    text-color: @nord0;
}

element.alternate.normal {
    background-color: @nord0;
    text-color: @nord4;
}

element.alternate.urgent {
    background-color: @nord11;
    text-color: @nord6;
}

element.alternate.active {
    background-color: @nord14;
    text-color: @nord0;
}

scrollbar {
    width: 4px;
    border: 0;
    handle-color: @nord8;
    handle-width: 8px;
    padding: 0;
}

sidebar {
    border: 2px 0px 0px;
    border-color: @nord8;
}

button {
    spacing: 0;
    text-color: @nord4;
}

button.selected {
    background-color: @nord8;
    text-color: @nord0;
}

inputbar {
    spacing: 0;
    text-color: @nord4;
    padding: 1px;
}

case-indicator {
    spacing: 0;
    text-color: @nord4;
}

entry {
    spacing: 0;
    text-color: @nord4;
    background-color: @nord1;
    border: 1px;
    border-color: @nord3;
    border-radius: 4px;
    padding: 6px;
}

prompt {
    spacing: 0;
    text-color: @nord8;
    margin: 0px 8px 0px 0px;
}

inputbar {
    children: [ prompt,textbox-prompt-colon,entry,case-indicator ];
}

textbox-prompt-colon {
    expand: false;
    str: ":";
    margin: 0px 0.3em 0em 0em;
    text-color: @nord8;
}
EOF

# Create Rofi launcher scripts
cat > ~/.config/scripts/rofi_run.sh <<'EOF'
#!/bin/bash
rofi -show drun -theme nord
EOF
chmod +x ~/.config/scripts/rofi_run.sh && \

# Update i3 config to use styled dmenu (replace existing binding)
sed -i 's|bindsym \$mod+d exec --no-startup-id dmenu_run|bindsym \$mod+d exec ~/.config/scripts/rofi_run.sh|' ~/.config/i3/config && \

cat > ~/.config/scripts/rofi_power.sh <<'EOF'
#!/bin/bash
options="🔒 Lock\n🔄 Restart\n⏻ Shutdown\n🚪 Logout\n💤 Suspend"

chosen=$(echo -e "$options" | rofi -dmenu -i -p "Power" -theme nord)

case "$chosen" in
    "🔒 Lock") i3lock -c 2e3440 ;;
    "🔄 Restart") systemctl reboot ;;
    "⏻ Shutdown") systemctl poweroff ;;
    "🚪 Logout") i3-msg exit ;;
    "💤 Suspend") systemctl suspend ;;
esac
EOF
chmod +x ~/.config/scripts/rofi_power.sh && \

# Add power menu keybinding
echo 'bindsym $mod+Shift+p exec ~/.config/scripts/rofi_power.sh' >> ~/.config/i3/config</code>
                    <button class="copy-btn" onclick="copyToClipboard(this)">
                        <i class="fas fa-copy"></i>
                    </button>
                </div>
            </div>
        </section>

        <section id="picom-config" class="section">
            <h2><i class="fas fa-magic"></i> Picom (Compositor) Configuration</h2>
            
            <div class="command-block">
                <h3>Configure Visual Effects</h3>
                <div class="code-container">
                    <code>mkdir -p ~/.config/picom && \
cat > ~/.config/picom/picom.conf <<'EOF'
# Nord themed Picom configuration

# Shadows
shadow = true;
shadow-radius = 14;
shadow-offset-x = -12;
shadow-offset-y = -12;
shadow-opacity = 0.75;
shadow-red = 0.18;
shadow-green = 0.20;
shadow-blue = 0.25;

shadow-exclude = [
  "name = 'Notification'",
  "class_g = 'Conky'",
  "class_g ?= 'Notify-osd'",
  "class_g = 'Cairo-clock'",
  "class_g = 'i3-bar'",
  "_GTK_FRAME_EXTENTS@:c"
];

# Opacity (more transparent for Nord aesthetic)
inactive-opacity = 0.88;
active-opacity = 1.0;
frame-opacity = 1.0;
inactive-opacity-override = false;

opacity-rule = [
  "100:class_g = 'Alacritty' && focused",
  "88:class_g = 'Alacritty' && !focused",
  "96:class_g = 'Thunar' && focused",
  "88:class_g = 'Thunar' && !focused",
  "100:class_g = 'Firefox'",
  "100:class_g = 'Spotify'",
  "100:class_g = 'i3bar'",
  "100:name *= 'i3lock'"
];

# Fading
fading = true;
fade-in-step = 0.06;
fade-out-step = 0.06;
fade-delta = 8;

# Corners (more rounded for modern look)
corner-radius = 12;
rounded-corners-exclude = [
  "window_type = 'dock'",
  "window_type = 'desktop'",
  "class_g = 'i3bar'"
];

# Background blurring (subtle Nord-style blur)
blur-background = true;
blur-method = "dual_kawase";
blur-strength = 6;
blur-background-exclude = [
  "window_type = 'dock'",
  "window_type = 'desktop'",
  "class_g = 'i3bar'",
  "_GTK_FRAME_EXTENTS@:c"
];

# Backend and performance
backend = "glx";
vsync = true;
mark-wmwin-focused = true;
mark-ovredir-focused = true;
detect-rounded-corners = true;
detect-client-opacity = true;
detect-transient = true;
use-damage = true;
log-level = "warn";

wintypes:
{
  tooltip = { fade = true; shadow = true; opacity = 0.90; focus = true; full-shadow = false; };
  dock = { shadow = false; clip-shadow-above = true; }
  dnd = { shadow = false; }
  popup_menu = { opacity = 0.92; }
  dropdown_menu = { opacity = 0.92; }
};
EOF

# Update i3 config to start picom automatically
sed -i '/exec --no-startup-id ~\/.config\/scripts\/wallpaper.sh auto/a exec --no-startup-id picom --config ~/.config/picom/picom.conf' ~/.config/i3/config</code>
                    <button class="copy-btn" onclick="copyToClipboard(this)">
                        <i class="fas fa-copy"></i>
                    </button>
                </div>
            </div>
        </section>

        <section id="alacritty-config" class="section">
            <h2><i class="fas fa-terminal"></i> Alacritty Terminal Configuration</h2>
            
            <div class="command-block">
                <h3>Enhanced Terminal Colors and Transparency</h3>
                <div class="code-container">
                    <code># Enhance Alacritty config with better colors and transparency
cat > ~/.config/alacritty/alacritty.toml <<'EOF'
[window]
opacity = 0.95
padding = { x = 8, y = 8 }
decorations = "none"
startup_mode = "Windowed"

[font]
normal = { family = "JetBrains Mono Nerd Font", style = "Regular" }
bold = { family = "JetBrains Mono Nerd Font", style = "Bold" }
italic = { family = "JetBrains Mono Nerd Font", style = "Italic" }
size = 12

[colors.primary]
background = "#2e3440"
foreground = "#d8dee9"
dim_foreground = "#a5aaad"

[colors.cursor]
text = "#2e3440"
cursor = "#d8dee9"

[colors.vi_mode_cursor]
text = "#2e3440"
cursor = "#d8dee9"

[colors.selection]
text = "CellForeground"
background = "#4c566a"

[colors.search.matches]
foreground = "#2e3440"
background = "#88c0d0"

[colors.search.focused_match]
foreground = "#2e3440"
background = "#5e81ac"

[colors.normal]
black = "#3b4252"
red = "#bf616a"
green = "#a3be8c"
yellow = "#ebcb8b"
blue = "#81a1c1"
magenta = "#b48ead"
cyan = "#88c0d0"
white = "#e5e9f0"

[colors.bright]
black = "#4c566a"
red = "#bf616a"
green = "#a3be8c"
yellow = "#ebcb8b"
blue = "#81a1c1"
magenta = "#b48ead"
cyan = "#8fbcbb"
white = "#eceff4"

[colors.dim]
black = "#373e4d"
red = "#94545d"
green = "#809575"
yellow = "#b29e75"
blue = "#68809a"
magenta = "#8c738c"
cyan = "#6d96a5"
white = "#aeb3bb"

[cursor.style]
shape = "Block"
blinking = "On"

[scrolling]
history = 10000
EOF</code>
                    <button class="copy-btn" onclick="copyToClipboard(this)">
                        <i class="fas fa-copy"></i>
                    </button>
                </div>
            </div>
        </section>

        <section id="i3-aesthetics" class="section">
            <h2><i class="fas fa-palette"></i> i3 Aesthetics</h2>
            
            <div class="command-block">
                <h3>Enhanced i3 Visual Configuration</h3>
                <div class="code-container">
                    <code># Backup current i3 config
cp ~/.config/i3/config ~/.config/i3/config.backup && \

# Add only essential aesthetics to i3 config (NO window-specific rules)
cat >> ~/.config/i3/config <<'EOF'

# Enhanced aesthetics
for_window [class=".*"] border pixel 2
gaps inner 8
gaps outer 4

# Nord Color Scheme
set $nord0  #2e3440
set $nord1  #3b4252
set $nord2  #434c5e
set $nord3  #4c566a
set $nord4  #d8dee9
set $nord5  #e5e9f0
set $nord6  #eceff4
set $nord7  #8fbcbb
set $nord8  #88c0d0
set $nord9  #81a1c1
set $nord10 #5e81ac
set $nord11 #bf616a
set $nord12 #d08770
set $nord13 #ebcb8b
set $nord14 #a3be8c
set $nord15 #b48ead

# Window colors (Nord theme)
#                       border  background text    indicator child_border
client.focused          $nord8  $nord0    $nord4   $nord8    $nord8
client.focused_inactive $nord3  $nord1    $nord4   $nord3    $nord3
client.unfocused        $nord1  $nord0    $nord3   $nord1    $nord1
client.urgent           $nord11 $nord11   $nord6   $nord11   $nord11
client.placeholder      $nord0  $nord0    $nord4   $nord0    $nord0
EOF</code>
                    <button class="copy-btn" onclick="copyToClipboard(this)">
                        <i class="fas fa-copy"></i>
                    </button>
                </div>
            </div>
        </section>

        <section id="notifications" class="section">
            <h2><i class="fas fa-bell"></i> Notification System</h2>
            
            <div class="command-block">
                <h3>Configure Dunst Notifications</h3>
                <div class="code-container">
                    <code>mkdir -p ~/.config/dunst && \
cat > ~/.config/dunst/dunstrc <<'EOF'
[global]
monitor = 0
follow = keyboard
geometry = "320x60-20+48"
indicate_hidden = yes
shrink = no
transparency = 5
notification_height = 0
separator_height = 2
padding = 12
horizontal_padding = 12
frame_width = 2
frame_color = "#88c0d0"
separator_color = "#434c5e"
sort = yes
idle_threshold = 120
font = JetBrains Mono Nerd Font Medium 10
line_height = 4
markup = full
format = "%s\n%b"
alignment = left
show_age_threshold = 60
word_wrap = yes
ellipsize = middle
ignore_newline = no
stack_duplicates = true
hide_duplicate_count = false
show_indicators = yes
icon_position = left
max_icon_size = 48
sticky_history = yes
history_length = 20
rofi = ~/.config/scripts/rofi_run.sh
browser = firefox
always_run_script = true
title = Dunst
class = Dunst
startup_notification = false
verbosity = mesg
corner_radius = 8
mouse_left_click = close_current
mouse_middle_click = do_action
mouse_right_click = close_all

[experimental]
per_monitor_dpi = false

[shortcuts]
close = ctrl+space
close_all = ctrl+shift+space
history = ctrl+grave
context = ctrl+shift+period

[urgency_low]
background = "#2e3440"
foreground = "#d8dee9"
frame_color = "#5e81ac"
timeout = 4
icon = dialog-information

[urgency_normal]
background = "#2e3440"
foreground = "#d8dee9"
frame_color = "#88c0d0"
timeout = 8
icon = dialog-information

[urgency_critical]
background = "#2e3440"
foreground = "#eceff4"
frame_color = "#bf616a"
timeout = 0
icon = dialog-warning
EOF

# Add dunst to i3 autostart
sed -i '/exec --no-startup-id picom/a exec --no-startup-id dunst' ~/.config/i3/config</code>
                    <button class="copy-btn" onclick="copyToClipboard(this)">
                        <i class="fas fa-copy"></i>
                    </button>
                </div>
            </div>
        </section>

        <section id="firefox" class="section">
            <h2><i class="fas fa-sparkles"></i> Firefox</h2>
            
            <div class="command-block">
                <h3>Firefox nord theme</h3>
                <div class="code-container">
                    <code>#!/bin/bash
set -e  # Exit on error

# Colors for output
RED='\033[0;31m'
GREEN='\033[0;32m'
YELLOW='\033[1;33m'
BLUE='\033[0;34m'
NC='\033[0m' # No Color

# Function to print colored output
print_status() {
    echo -e "${BLUE}[INFO]${NC} $1"
}

print_success() {
    echo -e "${GREEN}[SUCCESS]${NC} $1"
}

print_warning() {
    echo -e "${YELLOW}[WARNING]${NC} $1"
}

print_error() {
    echo -e "${RED}[ERROR]${NC} $1"
}

# Check if Firefox is running
check_firefox_running() {
    if pgrep -x "firefox" > /dev/null; then
        print_warning "Firefox is currently running."
        read -p "Close Firefox and press Enter to continue, or Ctrl+C to abort: "
        
        # Check again after user confirmation
        if pgrep -x "firefox" > /dev/null; then
            print_error "Firefox is still running. Please close it completely and run this script again."
            exit 1
        fi
    fi
}

# Backup existing files
backup_existing_files() {
    local profile_dir="$1"
    local backup_dir="$profile_dir/chrome_backup_$(date +%Y%m%d_%H%M%S)"
    
    if [ -d "$profile_dir/chrome" ]; then
        print_status "Backing up existing chrome directory to: $backup_dir"
        mkdir -p "$backup_dir"
        cp -r "$profile_dir/chrome" "$backup_dir/"
    fi
    
    if [ -f "$profile_dir/user.js" ]; then
        print_status "Backing up existing user.js"
        cp "$profile_dir/user.js" "$backup_dir/user.js" 2>/dev/null || mkdir -p "$backup_dir" && cp "$profile_dir/user.js" "$backup_dir/user.js"
    fi
}

print_status "Starting Firefox Nord Theme installation..."

# Check if Firefox is running
check_firefox_running

# Find Firefox profile directory with better detection
print_status "Searching for Firefox profile..."

FIREFOX_PROFILE=""

# Try different possible locations and patterns
for pattern in ~/.mozilla/firefox/*.default* ~/.mozilla/firefox/*.default-release* ~/.mozilla/firefox/*default*; do
    if [ -d "$pattern" ]; then
        FIREFOX_PROFILE="$pattern"
        break
    fi
done

# If still not found, try the profiles.ini approach
if [ -z "$FIREFOX_PROFILE" ] && [ -f ~/.mozilla/firefox/profiles.ini ]; then
    print_status "Trying profiles.ini method..."
    PROFILE_PATH=$(grep -E "^Path=" ~/.mozilla/firefox/profiles.ini | head -n1 | cut -d'=' -f2)
    if [ -n "$PROFILE_PATH" ]; then
        FIREFOX_PROFILE="$HOME/.mozilla/firefox/$PROFILE_PATH"
    fi
fi

if [ -z "$FIREFOX_PROFILE" ] || [ ! -d "$FIREFOX_PROFILE" ]; then
    print_error "Firefox profile not found!"
    echo "Please ensure Firefox has been run at least once to create a profile."
    echo "You can also manually set the profile path by running:"
    echo "export FIREFOX_PROFILE=\"/path/to/your/profile\" && bash this_script.sh"
    exit 1
fi

print_success "Found Firefox profile: $FIREFOX_PROFILE"

# Backup existing files
backup_existing_files "$FIREFOX_PROFILE"

# Create chrome directory
print_status "Creating chrome directory..."
mkdir -p "$FIREFOX_PROFILE/chrome"

# Create userChrome.css
print_status "Installing userChrome.css (browser interface theme)..."
cat > "$FIREFOX_PROFILE/chrome/userChrome.css" <<'EOF'
/* Firefox Nord Theme - Browser Interface */
/* Enhanced version with better compatibility and more elements */

/* Nord Color Variables */
:root {
  --nord0: #2e3440;   /* Polar Night - darkest */
  --nord1: #3b4252;   /* Polar Night */
  --nord2: #434c5e;   /* Polar Night */
  --nord3: #4c566a;   /* Polar Night - lightest */
  --nord4: #d8dee9;   /* Snow Storm - darkest */
  --nord5: #e5e9f0;   /* Snow Storm */
  --nord6: #eceff4;   /* Snow Storm - lightest */
  --nord7: #8fbcbb;   /* Frost - teal */
  --nord8: #88c0d0;   /* Frost - light blue */
  --nord9: #81a1c1;   /* Frost - blue */
  --nord10: #5e81ac;  /* Frost - dark blue */
  --nord11: #bf616a;  /* Aurora - red */
  --nord12: #d08770;  /* Aurora - orange */
  --nord13: #ebcb8b;  /* Aurora - yellow */
  --nord14: #a3be8c;  /* Aurora - green */
  --nord15: #b48ead;  /* Aurora - purple */
}

/* Main browser window */
#main-window {
  background-color: var(--nord0) !important;
}

/* Tab bar styling */
.tabbrowser-tab {
  background-color: var(--nord1) !important;
  border: none !important;
  border-radius: 6px 6px 0 0 !important;
  margin-right: 2px !important;
  margin-top: 2px !important;
}

.tabbrowser-tab[selected="true"] {
  background-color: var(--nord0) !important;
}

.tabbrowser-tab[selected="true"] .tab-label {
  color: var(--nord4) !important;
  font-weight: 500 !important;
}

.tabbrowser-tab:not([selected="true"]) {
  background-color: var(--nord2) !important;
}

.tabbrowser-tab:not([selected="true"]) .tab-label {
  color: var(--nord4) !important;
  opacity: 0.8;
}

.tabbrowser-tab:not([selected="true"]):hover {
  background-color: var(--nord3) !important;
}

.tab-background {
  background-color: transparent !important;
  border: none !important;
}

/* Tab close button */
.tab-close-button {
  fill: var(--nord4) !important;
  opacity: 0.7 !important;
}

.tab-close-button:hover {
  background-color: var(--nord11) !important;
  border-radius: 50% !important;
  opacity: 1 !important;
}

/* URL/Address bar */
#urlbar {
  background-color: var(--nord1) !important;
  border: 1px solid var(--nord3) !important;
  border-radius: 8px !important;
  color: var(--nord4) !important;
  box-shadow: none !important;
}

#urlbar[focused="true"] {
  background-color: var(--nord0) !important;
  border-color: var(--nord8) !important;
  box-shadow: 0 0 0 1px var(--nord8) !important;
}

#urlbar-input {
  color: var(--nord4) !important;
}

/* URL bar suggestions */
#urlbar-results {
  background-color: var(--nord1) !important;
  border: 1px solid var(--nord3) !important;
  border-radius: 8px !important;
}

.urlbarView-row[selected] {
  background-color: var(--nord8) !important;
  color: var(--nord0) !important;
}

/* Navigation bar */
#nav-bar {
  background-color: var(--nord0) !important;
  border-bottom: 1px solid var(--nord3) !important;
}

/* Navigation buttons */
.toolbarbutton-1 {
  fill: var(--nord4) !important;
  color: var(--nord4) !important;
}

.toolbarbutton-1:hover {
  background-color: var(--nord2) !important;
  border-radius: 6px !important;
}

.toolbarbutton-1[open="true"] {
  background-color: var(--nord8) !important;
  fill: var(--nord0) !important;
}

/* Back/Forward buttons */
#back-button, #forward-button {
  border-radius: 50% !important;
}

/* Bookmarks toolbar */
#PersonalToolbar {
  background-color: var(--nord1) !important;
  border-bottom: 1px solid var(--nord3) !important;
}

.bookmark-item {
  color: var(--nord4) !important;
  border-radius: 4px !important;
}

.bookmark-item:hover {
  background-color: var(--nord2) !important;
  color: var(--nord6) !important;
}

/* Sidebar */
#sidebar-box {
  background-color: var(--nord1) !important;
  border-right: 1px solid var(--nord3) !important;
}

#sidebar-header {
  background-color: var(--nord0) !important;
  border-bottom: 1px solid var(--nord3) !important;
  color: var(--nord4) !important;
}

/* Context menus */
menupopup {
  background-color: var(--nord1) !important;
  border: 1px solid var(--nord3) !important;
  border-radius: 8px !important;
}

menuitem {
  color: var(--nord4) !important;
}

menuitem:hover {
  background-color: var(--nord8) !important;
  color: var(--nord0) !important;
}

menuseparator {
  border-color: var(--nord3) !important;
}

/* Dropdown panels */
.panel-arrowcontent {
  background-color: var(--nord1) !important;
  border: 1px solid var(--nord3) !important;
  border-radius: 8px !important;
}

/* Status bar / Find bar */
.findbar-textbox {
  background-color: var(--nord1) !important;
  border: 1px solid var(--nord3) !important;
  color: var(--nord4) !important;
}

/* Scrollbars */
scrollbar {
  background-color: var(--nord1) !important;
}

thumb {
  background-color: var(--nord3) !important;
  border-radius: 10px !important;
}

thumb:hover {
  background-color: var(--nord8) !important;
}
EOF

# Create userContent.css
print_status "Installing userContent.css (web content theme)..."
cat > "$FIREFOX_PROFILE/chrome/userContent.css" <<'EOF'
/* Firefox Nord Theme - Web Content */
/* Enhanced version with better coverage */

/* About pages styling */
@-moz-document url-prefix(about:) {
  body, html {
    background-color: #2e3440 !important;
    color: #d8dee9 !important;
  }
  
  /* Links */
  a, a:link {
    color: #88c0d0 !important;
  }
  
  a:visited {
    color: #b48ead !important;
  }
  
  a:hover {
    color: #8fbcbb !important;
  }
  
  /* Headers */
  h1, h2, h3, h4, h5, h6 {
    color: #e5e9f0 !important;
  }
  
  /* Form elements */
  input, textarea, select {
    background-color: #3b4252 !important;
    border: 1px solid #4c566a !important;
    color: #d8dee9 !important;
    border-radius: 4px !important;
  }
  
  input:focus, textarea:focus, select:focus {
    border-color: #88c0d0 !important;
    box-shadow: 0 0 0 1px #88c0d0 !important;
  }
  
  /* Buttons */
  button, input[type="button"], input[type="submit"] {
    background-color: #5e81ac !important;
    border: none !important;
    color: #eceff4 !important;
    border-radius: 6px !important;
    padding: 8px 16px !important;
  }
  
  button:hover, input[type="button"]:hover, input[type="submit"]:hover {
    background-color: #81a1c1 !important;
  }
  
  /* Tables */
  table {
    border-collapse: collapse !important;
  }
  
  th, td {
    border: 1px solid #4c566a !important;
    padding: 8px !important;
  }
  
  th {
    background-color: #3b4252 !important;
    color: #e5e9f0 !important;
  }
  
  tr:nth-child(even) {
    background-color: #3b4252 !important;
  }
}

/* New Tab page */
@-moz-document url(about:newtab), url(about:home) {
  body, html {
    background-color: #2e3440 !important;
    color: #d8dee9 !important;
  }
  
  /* Search box */
  .search-wrapper input, .search-handoff-button {
    background-color: #3b4252 !important;
    border: 1px solid #4c566a !important;
    color: #d8dee9 !important;
    border-radius: 8px !important;
  }
  
  .search-wrapper input:focus {
    border-color: #88c0d0 !important;
    box-shadow: 0 0 0 1px #88c0d0 !important;
  }
  
  /* Top sites */
  .top-site-outer {
    background-color: #3b4252 !important;
    border-radius: 8px !important;
  }
  
  .top-site-outer:hover {
    background-color: #434c5e !important;
  }
  
  .top-site-inner .title {
    color: #d8dee9 !important;
  }
  
  /* Activity Stream components */
  .ds-card {
    background-color: #3b4252 !important;
    border: 1px solid #4c566a !important;
  }
  
  .ds-card-link:hover {
    background-color: #434c5e !important;
  }
}

/* About:preferences */
@-moz-document url(about:preferences) {
  #categories {
    background-color: #3b4252 !important;
  }
  
  .category {
    color: #d8dee9 !important;
  }
  
  .category[selected] {
    background-color: #5e81ac !important;
    color: #eceff4 !important;
  }
  
  .category:hover {
    background-color: #434c5e !important;
  }
}

/* About:addons */
@-moz-document url(about:addons) {
  #categories {
    background-color: #3b4252 !important;
  }
  
  .category {
    color: #d8dee9 !important;
  }
  
  .category[selected] {
    background-color: #5e81ac !important;
  }
  
  addon-card {
    background-color: #3b4252 !important;
    border: 1px solid #4c566a !important;
  }
}

/* Developer Tools (limited styling) */
@-moz-document url-prefix(about:devtools) {
  body {
    background-color: #2e3440 !important;
    color: #d8dee9 !important;
  }
}
EOF

# Update or create user.js with enhanced preferences
print_status "Configuring Firefox preferences..."

# Create a temporary file with our preferences
cat > "/tmp/firefox_nord_prefs.js" <<'EOF'
/* Firefox Nord Theme Preferences */
user_pref("toolkit.legacyUserProfileCustomizations.stylesheets", true);
user_pref("browser.tabs.drawInTitlebar", true);
user_pref("browser.uidensity", 1);
user_pref("svg.context-properties.content.enabled", true);
user_pref("browser.theme.content-theme", 0);
user_pref("browser.theme.toolbar-theme", 0);
EOF

# Handle user.js file
if [ -f "$FIREFOX_PROFILE/user.js" ]; then
    print_status "Updating existing user.js..."
    
    # Remove any existing Nord theme preferences to avoid duplicates
    grep -v "Firefox Nord Theme" "$FIREFOX_PROFILE/user.js" > "/tmp/user_js_clean" 2>/dev/null || touch "/tmp/user_js_clean"
    grep -v "toolkit.legacyUserProfileCustomizations.stylesheets" "/tmp/user_js_clean" > "/tmp/user_js_clean2" 2>/dev/null || touch "/tmp/user_js_clean2"
    grep -v "browser.tabs.drawInTitlebar" "/tmp/user_js_clean2" > "/tmp/user_js_clean3" 2>/dev/null || touch "/tmp/user_js_clean3"
    
    # Combine cleaned file with new preferences
    cat "/tmp/user_js_clean3" "/tmp/firefox_nord_prefs.js" > "$FIREFOX_PROFILE/user.js"
    
    # Cleanup temp files
    rm -f "/tmp/user_js_clean" "/tmp/user_js_clean2" "/tmp/user_js_clean3"
else
    print_status "Creating new user.js..."
    cp "/tmp/firefox_nord_prefs.js" "$FIREFOX_PROFILE/user.js"
fi

# Cleanup temp file
rm -f "/tmp/firefox_nord_prefs.js"

# Set appropriate permissions
chmod 644 "$FIREFOX_PROFILE/chrome/userChrome.css"
chmod 644 "$FIREFOX_PROFILE/chrome/userContent.css"
chmod 644 "$FIREFOX_PROFILE/user.js"

print_success "Firefox Nord theme installation completed!"

echo
print_status "Installation Summary:"
echo "  ✓ Created chrome directory"
echo "  ✓ Installed userChrome.css (browser interface theme)"
echo "  ✓ Installed userContent.css (web content theme)"
echo "  ✓ Updated Firefox preferences"
echo "  ✓ Created backup of existing files (if any)"

echo
print_warning "Important Notes:"
echo "  1. Restart Firefox completely to see the changes"
echo "  2. The theme works best with Firefox's default Dark theme"
echo "  3. Some extensions may override certain styles"
echo "  4. If you encounter issues, restore from the backup created"

echo
print_status "Optional: You can also set Firefox to Dark theme in Preferences > General > Theme"

echo
print_success "Enjoy your new Nord-themed Firefox! 🎨"</code>
                    <button class="copy-btn" onclick="copyToClipboard(this)">
                        <i class="fas fa-copy"></i>
                    </button>
                </div>
            </div>
        </section>

        <section id="thunar" class="section">
            <h2><i class="fas fa-sparkles"></i> Thunar</h2>
            
            <div class="command-block">
                <h3>Thunar nord theme</h3>
                <div class="code-container">
                    <code>#!/bin/bash
set -e

# Colors for output
RED='\033[0;31m'
GREEN='\033[0;32m'
YELLOW='\033[1;33m'
BLUE='\033[0;34m'
NC='\033[0m'

print_status() {
    echo -e "${BLUE}[INFO]${NC} $1"
}

print_success() {
    echo -e "${GREEN}[SUCCESS]${NC} $1"
}

print_warning() {
    echo -e "${YELLOW}[WARNING]${NC} $1"
}

print_error() {
    echo -e "${RED}[ERROR]${NC} $1"
}

print_status "Installing enhanced Thunar/GTK Nord theme..."

# Create backup if files exist
backup_config() {
    local config_dir="$HOME/.config/gtk-3.0"
    local backup_dir="$config_dir/backup_$(date +%Y%m%d_%H%M%S)"
    
    if [ -f "$config_dir/gtk.css" ] || [ -f "$config_dir/settings.ini" ]; then
        print_status "Creating backup of existing GTK configuration..."
        mkdir -p "$backup_dir"
        [ -f "$config_dir/gtk.css" ] && cp "$config_dir/gtk.css" "$backup_dir/"
        [ -f "$config_dir/settings.ini" ] && cp "$config_dir/settings.ini" "$backup_dir/"
        print_success "Backup created at: $backup_dir"
    fi
}

# Create backup
backup_config

# Create GTK config directory
mkdir -p ~/.config/gtk-3.0 && \

print_status "Installing enhanced gtk.css..."

# Create comprehensive GTK CSS theme
cat > ~/.config/gtk-3.0/gtk.css <<'EOF'
/* Enhanced Nord Theme for GTK Applications (Thunar, File Managers, etc.) */
/* Comprehensive theming with better coverage and modern styling */

/* Nord Color Palette */
@define-color nord0 #2e3440;  /* Polar Night - darkest */
@define-color nord1 #3b4252;  /* Polar Night */
@define-color nord2 #434c5e;  /* Polar Night */
@define-color nord3 #4c566a;  /* Polar Night - lightest */
@define-color nord4 #d8dee9;  /* Snow Storm - darkest */
@define-color nord5 #e5e9f0;  /* Snow Storm */
@define-color nord6 #eceff4;  /* Snow Storm - lightest */
@define-color nord7 #8fbcbb;  /* Frost - teal */
@define-color nord8 #88c0d0;  /* Frost - light blue */
@define-color nord9 #81a1c1;  /* Frost - blue */
@define-color nord10 #5e81ac; /* Frost - dark blue */
@define-color nord11 #bf616a; /* Aurora - red */
@define-color nord12 #d08770; /* Aurora - orange */
@define-color nord13 #ebcb8b; /* Aurora - yellow */
@define-color nord14 #a3be8c; /* Aurora - green */
@define-color nord15 #b48ead; /* Aurora - purple */

/* Derived colors for consistency */
@define-color bg_color @nord0;
@define-color fg_color @nord4;
@define-color base_color @nord1;
@define-color text_color @nord4;
@define-color selected_bg_color @nord8;
@define-color selected_fg_color @nord0;
@define-color tooltip_bg_color @nord2;
@define-color tooltip_fg_color @nord4;

/* === GLOBAL STYLES === */

/* Main application windows */
window, .background {
    background-color: @nord0;
    color: @nord4;
}

/* All text */
* {
    color: @nord4;
    -gtk-secondary-caret-color: @nord8;
}

/* === THUNAR SPECIFIC STYLES === */

/* Main Thunar window */
.thunar {
    background-color: @nord0;
}

/* Thunar toolbar */
.thunar toolbar {
    background: linear-gradient(to bottom, @nord1, shade(@nord1, 0.95));
    border-bottom: 1px solid @nord3;
    padding: 4px;
}

/* Location bar (path bar) */
.thunar .path-bar {
    background-color: @nord1;
    border: 1px solid @nord3;
    border-radius: 6px;
    padding: 2px;
}

.thunar .path-bar button {
    background-color: transparent;
    color: @nord4;
    border: none;
    border-radius: 4px;
    padding: 6px 10px;
    margin: 1px;
    font-weight: 500;
}

.thunar .path-bar button:hover {
    background-color: @nord2;
    color: @nord6;
}

.thunar .path-bar button:active {
    background-color: @nord8;
    color: @nord0;
}

/* Thunar sidebar */
.thunar .sidebar {
    background-color: @nord1;
    border-right: 1px solid @nord3;
    padding: 8px 4px;
}

.thunar .sidebar row {
    border-radius: 6px;
    margin: 2px 4px;
    padding: 8px;
}

.thunar .sidebar row:hover {
    background-color: @nord2;
}

.thunar .sidebar row:selected {
    background-color: @nord8;
    color: @nord0;
    font-weight: 500;
}

/* File/folder view area */
.thunar .view {
    background-color: @nord0;
    border: none;
}

/* === GENERAL GTK WIDGETS === */

/* Toolbars and header bars */
toolbar, headerbar {
    background: linear-gradient(to bottom, @nord1, shade(@nord1, 0.95));
    color: @nord4;
    border-bottom: 1px solid @nord3;
    box-shadow: inset 0 1px rgba(255, 255, 255, 0.05);
}

headerbar {
    border-radius: 8px 8px 0 0;
    padding: 6px 12px;
}

/* Buttons */
button {
    background: linear-gradient(to bottom, @nord1, shade(@nord1, 0.9));
    color: @nord4;
    border: 1px solid @nord3;
    border-radius: 6px;
    padding: 8px 16px;
    font-weight: 500;
    transition: all 200ms ease;
}

button:hover {
    background: linear-gradient(to bottom, @nord2, shade(@nord2, 0.9));
    border-color: @nord8;
    color: @nord6;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
}

button:active {
    background: linear-gradient(to bottom, @nord3, @nord2);
    box-shadow: inset 0 2px 4px rgba(0, 0, 0, 0.2);
}

button:disabled {
    background-color: shade(@nord1, 0.8);
    color: shade(@nord4, 0.6);
    border-color: shade(@nord3, 0.8);
}

/* Primary buttons */
button.suggested-action {
    background: linear-gradient(to bottom, @nord8, shade(@nord8, 0.9));
    color: @nord0;
    border-color: @nord10;
}

button.suggested-action:hover {
    background: linear-gradient(to bottom, @nord9, @nord8);
}

button.destructive-action {
    background: linear-gradient(to bottom, @nord11, shade(@nord11, 0.9));
    color: @nord6;
    border-color: shade(@nord11, 0.8);
}

/* Entry fields and text inputs */
entry {
    background-color: @nord1;
    color: @nord4;
    border: 1px solid @nord3;
    border-radius: 6px;
    padding: 8px 12px;
    selection-background-color: @nord8;
    selection-color: @nord0;
}

entry:focus {
    border-color: @nord8;
    box-shadow: 0 0 0 2px alpha(@nord8, 0.3);
    background-color: shade(@nord1, 1.05);
}

entry:disabled {
    background-color: shade(@nord1, 0.8);
    color: shade(@nord4, 0.6);
}

/* Tree and list views */
treeview, listbox {
    background-color: @nord0;
    color: @nord4;
    border: 1px solid @nord3;
    border-radius: 6px;
}

treeview:selected, listbox row:selected {
    background-color: @nord8;
    color: @nord0;
}

treeview:selected:backdrop, listbox row:selected:backdrop {
    background-color: alpha(@nord8, 0.7);
}

/* Tree view headers */
treeview header button {
    background: linear-gradient(to bottom, @nord1, shade(@nord1, 0.95));
    color: @nord4;
    border: 1px solid @nord3;
    border-radius: 0;
    font-weight: 600;
}

treeview header button:hover {
    background-color: @nord2;
}

/* Scrollbars */
scrollbar {
    background-color: @nord1;
    border-radius: 10px;
}

scrollbar slider {
    background-color: @nord3;
    border-radius: 10px;
    min-width: 12px;
    min-height: 12px;
    margin: 2px;
}

scrollbar slider:hover {
    background-color: @nord8;
}

scrollbar slider:active {
    background-color: @nord10;
}

/* Notebook tabs */
notebook {
    background-color: @nord0;
}

notebook header {
    background-color: @nord1;
    border-bottom: 1px solid @nord3;
}

notebook tab {
    background-color: transparent;
    color: @nord4;
    border: none;
    border-radius: 6px 6px 0 0;
    padding: 10px 16px;
    margin: 2px 1px 0 1px;
}

notebook tab:hover {
    background-color: alpha(@nord2, 0.7);
}

notebook tab:checked {
    background-color: @nord0;
    color: @nord6;
    border-bottom: 3px solid @nord8;
    font-weight: 600;
}

/* Sidebars */
sidebar {
    background-color: @nord1;
    color: @nord4;
    border-right: 1px solid @nord3;
}

sidebar row {
    padding: 8px 12px;
    border-radius: 6px;
    margin: 2px 6px;
}

sidebar row:hover {
    background-color: @nord2;
}

sidebar row:selected {
    background-color: @nord8;
    color: @nord0;
    font-weight: 500;
}

/* Context menus */
menu, .context-menu {
    background-color: @nord1;
    color: @nord4;
    border: 1px solid @nord3;
    border-radius: 8px;
    padding: 4px;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
}

menuitem {
    padding: 8px 12px;
    border-radius: 4px;
    margin: 1px;
}

menuitem:hover {
    background-color: @nord8;
    color: @nord0;
}

menuitem:disabled {
    color: shade(@nord4, 0.6);
}

separator {
    background-color: @nord3;
    margin: 4px 8px;
}

/* Progress bars */
progressbar {
    background-color: @nord2;
    border-radius: 10px;
    overflow: hidden;
}

progressbar progress {
    background: linear-gradient(90deg, @nord8, @nord9);
    border-radius: 10px;
    transition: width 300ms ease;
}

/* Tooltips */
tooltip {
    background-color: @nord2;
    color: @nord4;
    border: 1px solid @nord3;
    border-radius: 6px;
    padding: 8px 12px;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.2);
}

/* Check boxes and radio buttons */
checkbutton check, radiobutton radio {
    background-color: @nord1;
    border: 2px solid @nord3;
    border-radius: 4px;
    min-width: 16px;
    min-height: 16px;
}

checkbutton check:checked, radiobutton radio:checked {
    background-color: @nord8;
    border-color: @nord8;
    color: @nord0;
}

radiobutton radio {
    border-radius: 50%;
}

/* Switches */
switch {
    background-color: @nord3;
    border-radius: 20px;
    min-width: 44px;
    min-height: 24px;
}

switch:checked {
    background-color: @nord8;
}

switch slider {
    background-color: @nord6;
    border-radius: 50%;
    min-width: 20px;
    min-height: 20px;
    margin: 2px;
}

/* Popover menus */
popover {
    background-color: @nord1;
    border: 1px solid @nord3;
    border-radius: 8px;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
}

/* Dialog boxes */
dialog {
    background-color: @nord0;
    color: @nord4;
    border-radius: 8px;
}

/* File chooser specific */
filechooser {
    background-color: @nord0;
}

filechooser .path-bar {
    background-color: @nord1;
    border: 1px solid @nord3;
    border-radius: 6px;
}

/* Spinbuttons */
spinbutton {
    background-color: @nord1;
    border: 1px solid @nord3;
    border-radius: 6px;
}

spinbutton:focus {
    border-color: @nord8;
    box-shadow: 0 0 0 2px alpha(@nord8, 0.3);
}

/* Scale/sliders */
scale {
    min-height: 20px;
}

scale trough {
    background-color: @nord2;
    border-radius: 10px;
    min-height: 6px;
}

scale highlight {
    background-color: @nord8;
    border-radius: 10px;
}

scale slider {
    background-color: @nord6;
    border: 2px solid @nord8;
    border-radius: 50%;
    min-width: 18px;
    min-height: 18px;
}

scale slider:hover {
    background-color: @nord8;
    border-color: @nord10;
}

/* Level bars */
levelbar block {
    background-color: @nord8;
    border-radius: 2px;
    margin: 1px;
}

levelbar block.empty {
    background-color: @nord2;
}

/* Status bars */
statusbar {
    background-color: @nord1;
    color: @nord4;
    border-top: 1px solid @nord3;
    padding: 4px 8px;
}

/* Search bars */
searchbar {
    background-color: @nord1;
    border-bottom: 1px solid @nord3;
    padding: 6px;
}

/* Info bars */
infobar {
    background-color: @nord1;
    color: @nord4;
    border-bottom: 1px solid @nord3;
}

infobar.info {
    background-color: @nord9;
    color: @nord0;
}

infobar.warning {
    background-color: @nord13;
    color: @nord0;
}

infobar.error {
    background-color: @nord11;
    color: @nord6;
}

/* Accent color overrides for better integration */
@define-color accent_color @nord8;
@define-color accent_bg_color @nord8;
@define-color accent_fg_color @nord0;

/* Selection colors */
selection {
    background-color: @nord8;
    color: @nord0;
}
EOF

print_status "Installing enhanced settings.ini..."

# Create enhanced GTK settings
cat > ~/.config/gtk-3.0/settings.ini <<'EOF'
[Settings]
# Theme settings
gtk-theme-name=Adwaita-dark
gtk-icon-theme-name=Papirus-Dark
gtk-cursor-theme-name=Adwaita
gtk-cursor-theme-size=24

# Font settings (adjust as needed)
gtk-font-name=Inter 10
gtk-xft-antialias=1
gtk-xft-hinting=1
gtk-xft-hintstyle=hintfull
gtk-xft-rgba=rgb

# Application behavior
gtk-application-prefer-dark-theme=1
gtk-button-images=0
gtk-menu-images=0
gtk-enable-event-sounds=1
gtk-enable-input-feedback-sounds=0

# Toolbar settings
gtk-toolbar-style=GTK_TOOLBAR_BOTH_HORIZ
gtk-toolbar-icon-size=GTK_ICON_SIZE_LARGE_TOOLBAR

# Window settings
gtk-decoration-layout=:minimize,maximize,close
gtk-primary-button-warps-slider=1
gtk-overlay-scrolling=1

# Dialog settings
gtk-dialogs-use-header=1
gtk-shell-shows-app-menu=0
gtk-shell-shows-menubar=0

# Animation settings
gtk-enable-animations=1
gtk-enable-primary-paste=1

# Miscellaneous
gtk-recent-files-max-age=30
gtk-recent-files-limit=50
gtk-print-preview-command=evince --unlink-tempfile --preview --print-settings %s %f
EOF

# Also create gtk-2.0 theme for older applications
print_status "Installing GTK-2.0 theme for legacy applications..."
mkdir -p ~/.themes/Nord-Custom/gtk-2.0 && \

cat > ~/.themes/Nord-Custom/gtk-2.0/gtkrc <<'EOF'
# Nord theme for GTK-2.0 applications
gtk-color-scheme = "base_color:#2e3440\nfg_color:#d8dee9\ntooltip_fg_color:#d8dee9\nselected_bg_color:#88c0d0\nselected_fg_color:#2e3440\ntext_color:#d8dee9\nbg_color:#3b4252\ntooltip_bg_color:#434c5e\ninsensitive_bg_color:#4c566a\ninsensitive_fg_color:#d8dee9"

style "default" {
    xthickness = 1
    ythickness = 1
    
    GtkMenuItem::selected_shadow_type = none
    GtkWidget::interior_focus = 1
    GtkButton::default_border = { 0, 0, 0, 0 }
    GtkButton::default_outside_border = { 0, 0, 0, 0 }
    GtkRange::trough_border = 0
    GtkWidget::focus_padding = 1
    GtkPaned::handle_size = 6
    GtkRange::slider_width = 15
    GtkRange::stepper_size = 15
    GtkScrollbar::min_slider_length = 30
    GtkCheckButton::indicator_size = 12
    GtkMenuBar::internal-padding = 0
    
    bg[NORMAL] = @bg_color
    bg[PRELIGHT] = shade(1.1, @bg_color)
    bg[SELECTED] = @selected_bg_color
    bg[INSENSITIVE] = @insensitive_bg_color
    bg[ACTIVE] = shade(0.9, @bg_color)
    
    fg[NORMAL] = @fg_color
    fg[PRELIGHT] = @fg_color
    fg[SELECTED] = @selected_fg_color
    fg[INSENSITIVE] = @insensitive_fg_color
    fg[ACTIVE] = @fg_color
    
    text[NORMAL] = @text_color
    text[PRELIGHT] = @text_color
    text[SELECTED] = @selected_fg_color
    text[INSENSITIVE] = @insensitive_fg_color
    text[ACTIVE] = @selected_fg_color
    
    base[NORMAL] = @base_color
    base[PRELIGHT] = shade(1.05, @base_color)
    base[SELECTED] = @selected_bg_color
    base[INSENSITIVE] = @insensitive_bg_color
    base[ACTIVE] = shade(0.9, @selected_bg_color)
}

class "GtkWidget" style "default"
EOF

# Create .gtkrc-2.0 in home directory
cat > ~/.gtkrc-2.0 <<'EOF'
# GTK-2.0 Nord theme
include "/home/$USER/.themes/Nord-Custom/gtk-2.0/gtkrc"
gtk-theme-name="Nord-Custom"
gtk-icon-theme-name="Papirus-Dark"
gtk-font-name="Inter 10"
EOF

# Set proper permissions
chmod 644 ~/.config/gtk-3.0/gtk.css
chmod 644 ~/.config/gtk-3.0/settings.ini
chmod 644 ~/.themes/Nord-Custom/gtk-2.0/gtkrc
chmod 644 ~/.gtkrc-2.0

print_success "Enhanced Thunar/GTK Nord theme installation completed!"

echo
print_status "Installation Summary:"
echo "  ✓ Enhanced GTK-3.0 CSS with comprehensive theming"
echo "  ✓ Optimized settings.ini with modern preferences"
echo "  ✓ GTK-2.0 theme for legacy applications"
echo "  ✓ Thunar-specific styling improvements"
echo "  ✓ Created backup of existing configuration"

echo
print_warning "To apply the theme:"
echo "  1. Restart Thunar and other GTK applications"
echo "  2. For immediate effect, run: gsettings reset org.gnome.desktop.interface gtk-theme"
echo "  3. Some applications may require a logout/login"

echo
print_status "Optional improvements:"
echo "  • Install 'Papirus-Dark' icon theme: sudo pacman -S papirus-icon-theme"
echo "  • Install 'Inter' font: sudo pacman -S inter-font"
echo "  • For Qt applications, consider kvantum theme manager"

echo
print_success "Your Thunar and GTK applications now have enhanced Nord theming! 🎨"</code>
                    <button class="copy-btn" onclick="copyToClipboard(this)">
                        <i class="fas fa-copy"></i>
                    </button>
                </div>
            </div>
        </section>

        <section id="btop" class="section">
            <h2><i class="fas fa-sparkles"></i> BTOP</h2>
            
            <div class="command-block">
                <h3>BTOP nord theme</h3>
                <div class="code-container">
                    <code>#!/bin/bash
set -e

# Colors for output
RED='\033[0;31m'
GREEN='\033[0;32m'
YELLOW='\033[1;33m'
BLUE='\033[0;34m'
PURPLE='\033[0;35m'
NC='\033[0m'

print_status() {
    echo -e "${BLUE}[INFO]${NC} $1"
}

print_success() {
    echo -e "${GREEN}[SUCCESS]${NC} $1"
}

print_warning() {
    echo -e "${YELLOW}[WARNING]${NC} $1"
}

print_error() {
    echo -e "${RED}[ERROR]${NC} $1"
}

print_header() {
    echo -e "${PURPLE}[BTOP]${NC} $1"
}

# Check if btop is installed
check_btop_installation() {
    if ! command -v btop &> /dev/null; then
        print_error "btop is not installed!"
        echo "Install it with: sudo pacman -S btop"
        exit 1
    fi
    
    local btop_version=$(btop --version 2>/dev/null | head -n1 | grep -oE '[0-9]+\.[0-9]+\.[0-9]+' || echo "unknown")
    print_status "Found btop version: $btop_version"
}

# Backup existing configuration
backup_btop_config() {
    local config_dir="$HOME/.config/btop"
    local backup_dir="$config_dir/backup_$(date +%Y%m%d_%H%M%S)"
    
    if [ -f "$config_dir/btop.conf" ] || [ -d "$config_dir/themes" ]; then
        print_status "Creating backup of existing btop configuration..."
        mkdir -p "$backup_dir"
        
        [ -f "$config_dir/btop.conf" ] && cp "$config_dir/btop.conf" "$backup_dir/"
        [ -d "$config_dir/themes" ] && cp -r "$config_dir/themes" "$backup_dir/"
        
        print_success "Backup created at: $backup_dir"
    fi
}

print_header "Enhanced Btop Nord Theme Installer"
print_status "Setting up comprehensive btop Nord theming..."

# Check installation and create backup
check_btop_installation
backup_btop_config

# Create directories
print_status "Creating btop configuration directories..."
mkdir -p ~/.config/btop/themes && \

# Create enhanced Nord theme
print_status "Installing enhanced Nord theme..."
cat > ~/.config/btop/themes/nord.theme <<'EOF'
# Enhanced Nord Theme for btop
# Based on the Nord color palette with improved visual hierarchy
# Compatible with btop v1.2.13+ 

# === NORD COLOR PALETTE ===
# Polar Night (Dark colors)
# nord0: #2e3440  - darkest background
# nord1: #3b4252  - dark background
# nord2: #434c5e  - medium background  
# nord3: #4c566a  - light background/borders

# Snow Storm (Light colors)
# nord4: #d8dee9  - dark foreground
# nord5: #e5e9f0  - medium foreground
# nord6: #eceff4  - light foreground

# Frost (Blue colors)
# nord7: #8fbcbb  - teal
# nord8: #88c0d0  - light blue
# nord9: #81a1c1  - blue
# nord10: #5e81ac - dark blue

# Aurora (Accent colors)
# nord11: #bf616a - red
# nord12: #d08770 - orange  
# nord13: #ebcb8b - yellow
# nord14: #a3be8c - green
# nord15: #b48ead - purple

# === MAIN INTERFACE ===
theme[main_bg]="#2e3440"
theme[main_fg]="#d8dee9"
theme[title]="#88c0d0"
theme[hi_fg]="#eceff4"

# === SELECTION AND INTERACTION ===
theme[selected_bg]="#5e81ac"
theme[selected_fg]="#eceff4"
theme[inactive_fg]="#4c566a"
theme[proc_start]="#88c0d0"
theme[proc_mid]="#81a1c1"
theme[proc_end]="#5e81ac"

# === BOX STYLING ===
# Different colors for each major component box
theme[cpu_box]="#81a1c1"        # Blue for CPU
theme[mem_box]="#a3be8c"        # Green for Memory
theme[net_box]="#ebcb8b"        # Yellow for Network
theme[proc_box]="#b48ead"       # Purple for Processes
theme[div_line]="#4c566a"       # Subtle divider lines

# === GRAPH AND METER STYLING ===
theme[graph_text]="#d8dee9"
theme[meter_bg]="#3b4252"

# === CPU USAGE COLORS ===
# Warm gradient for CPU usage (low to high)
theme[cpu_start]="#a3be8c"      # Green (low usage)
theme[cpu_mid]="#ebcb8b"        # Yellow (medium usage)  
theme[cpu_end]="#bf616a"        # Red (high usage)

# Alternative CPU colors for different cores
theme[used_start]="#a3be8c"
theme[used_mid]="#d08770"
theme[used_end]="#bf616a"

# === MEMORY COLORS ===
# Cool gradient for memory usage
theme[mem_start]="#88c0d0"      # Light blue (low)
theme[mem_mid]="#81a1c1"        # Blue (medium)
theme[mem_end]="#5e81ac"        # Dark blue (high)

# Available memory (inverse of used)
theme[available_start]="#a3be8c"
theme[available_mid]="#8fbcbb"
theme[available_end]="#88c0d0"

# Cached memory
theme[cached_start]="#b48ead"
theme[cached_mid]="#81a1c1"
theme[cached_end]="#5e81ac"

# === PROCESS COLORS ===
# Process activity indicators
theme[process_start]="#88c0d0"
theme[process_mid]="#81a1c1"
theme[process_end]="#5e81ac"

# === TEMPERATURE COLORS ===
# Temperature gradient (cool to hot)
theme[temp_start]="#88c0d0"     # Cool blue
theme[temp_mid]="#ebcb8b"       # Warm yellow
theme[temp_end]="#bf616a"       # Hot red

# === NETWORK COLORS ===
# Download activity (green theme)
theme[download_start]="#a3be8c"
theme[download_mid]="#8fbcbb"
theme[download_end]="#88c0d0"

# Upload activity (purple theme)  
theme[upload_start]="#b48ead"
theme[upload_mid]="#81a1c1"
theme[upload_end]="#5e81ac"

# === DISK I/O COLORS ===
# Read operations (teal theme)
theme[read_start]="#8fbcbb"
theme[read_mid]="#88c0d0"
theme[read_end]="#81a1c1"

# Write operations (orange theme)
theme[write_start]="#d08770"
theme[write_mid]="#ebcb8b"
theme[write_end]="#bf616a"

# === BATTERY COLORS ===
# Battery level indicator
theme[battery_start]="#bf616a"  # Low battery (red)
theme[battery_mid]="#ebcb8b"    # Medium battery (yellow)
theme[battery_end]="#a3be8c"    # Full battery (green)

# === ADDITIONAL INTERFACE ELEMENTS ===
theme[misc]="#8fbcbb"           # Miscellaneous elements
theme[proc_misc]="#8fbcbb"      # Process miscellaneous info
theme[item_bg]="#3b4252"        # Background for items
theme[item_fg]="#d8dee9"        # Foreground for items

# === GRAPH SPECIFIC OVERRIDES ===
# These provide fine-tuned control for specific graph types
theme[cpu_graph_lower]="#a3be8c"
theme[cpu_graph_mid]="#ebcb8b"  
theme[cpu_graph_upper]="#bf616a"

theme[mem_graph_lower]="#88c0d0"
theme[mem_graph_mid]="#81a1c1"
theme[mem_graph_upper]="#5e81ac"

theme[net_graph_lower]="#8fbcbb"
theme[net_graph_mid]="#88c0d0"
theme[net_graph_upper]="#81a1c1"
EOF

# Create optimized btop configuration
print_status "Installing optimized btop configuration..."
cat > ~/.config/btop/btop.conf <<'EOF'
#? Enhanced btop configuration with Nord theme
#? Optimized for performance and aesthetics

# === THEME SETTINGS ===
color_theme = "nord"
theme_background = True
truecolor = True
force_tty = False

# === LAYOUT PRESETS ===
# Preset configurations for different use cases
# Format: "box_name:P:G" where P=position(0/1), G=graph_symbol
presets = "cpu:1:default,proc:0:default cpu:0:default,mem:0:default,net:0:default cpu:0:braille,mem:0:braille,net:0:braille,proc:1:default"

# === INTERFACE SETTINGS ===
vim_keys = True
rounded_corners = True
graph_symbol = "braille"

# Box-specific graph symbols for optimal display
graph_symbol_cpu = "braille"
graph_symbol_mem = "braille" 
graph_symbol_net = "braille"
graph_symbol_proc = "default"

# === DISPLAY CONFIGURATION ===
shown_boxes = "cpu mem net proc"
update_ms = 1500

# === PROCESS SETTINGS ===
proc_sorting = "cpu lazy"
proc_reversed = False
proc_tree = False
proc_colors = True
proc_gradient = True
proc_per_core = False
proc_mem_bytes = True
proc_info_smaps = False
proc_left = False

# === CPU SETTINGS ===
check_temp = True
cpu_sensor = "Auto"
show_coretemp = True
cpu_temp_custom = ""
temp_scale = "celsius"
show_cpu_freq = True
cpu_single_graph = False
cpu_bottom = False

# === MEMORY SETTINGS ===
mem_graphs = True
mem_below_net = False
zfs_arc_cached = True
show_swap = True
swap_disk = False
show_disks = True
only_physical = True
use_fstab = False
zfs_hide_datasets = False
disk_free_priv = False

# === DISK I/O SETTINGS ===
show_io_stat = True
io_mode = False
io_graph_combined = False
io_graph_speeds = ""

# === NETWORK SETTINGS ===
net_download = 0
net_upload = 0
net_auto = True
net_sync = False
net_iface = ""
net_color_fixed = False

# === BATTERY SETTINGS ===
show_battery = True
selected_battery = "Auto"

# === GENERAL SETTINGS ===
base_10_sizes = False
clock_format = "%H:%M:%S"
background_update = True
custom_cpu_name = ""
disks_filter = ""

# === LOGGING ===
log_level = "WARNING"

# === ADVANCED SETTINGS ===
# Enable UTF-8 support for better graph rendering
utf_force = False

# Update check (disable for privacy)
update_check = False

# Custom key bindings (vim-style navigation enabled above)
# h,j,k,l for navigation when vim_keys = True
# +/- for zoom, space for pause, q for quit

# === PERFORMANCE TUNING ===
# Reduce update frequency for better performance on slower systems
# update_ms = 2000  # Uncomment for slower systems

# Disable expensive operations on resource-constrained systems  
# show_coretemp = False      # Disable if temperature sensors cause lag
# proc_gradient = False      # Disable gradient for better performance
# graph_symbol = "block"     # Use simpler symbols on older terminals
EOF

# Create additional theme variants
print_status "Creating additional Nord theme variants..."

# Nord Minimal - for low-resource systems
cat > ~/.config/btop/themes/nord-minimal.theme <<'EOF'
# Nord Minimal Theme - Optimized for performance
# Simplified color scheme with reduced visual effects

theme[main_bg]="#2e3440"
theme[main_fg]="#d8dee9"
theme[title]="#88c0d0"
theme[hi_fg]="#eceff4"
theme[selected_bg]="#5e81ac"
theme[selected_fg]="#eceff4"
theme[inactive_fg]="#4c566a"

# Simplified box colors
theme[cpu_box]="#81a1c1"
theme[mem_box]="#a3be8c"
theme[net_box]="#ebcb8b"
theme[proc_box]="#b48ead"
theme[div_line]="#4c566a"

# Basic graph colors
theme[graph_text]="#d8dee9"
theme[meter_bg]="#3b4252"
theme[used_start]="#88c0d0"
theme[used_mid]="#81a1c1"
theme[used_end]="#5e81ac"

# Simplified gradients
theme[available_start]="#a3be8c"
theme[available_end]="#88c0d0"
theme[cached_start]="#b48ead"
theme[cached_end]="#5e81ac"
theme[process_start]="#88c0d0"
theme[process_end]="#5e81ac"
theme[temp_start]="#88c0d0"
theme[temp_end]="#bf616a"
theme[download_start]="#a3be8c"
theme[download_end]="#88c0d0"
theme[upload_start]="#b48ead"
theme[upload_end]="#5e81ac"
EOF

# Nord High Contrast - for better visibility
cat > ~/.config/btop/themes/nord-contrast.theme <<'EOF'
# Nord High Contrast Theme - Enhanced visibility
# Increased contrast for better readability

theme[main_bg]="#242933"
theme[main_fg]="#eceff4"
theme[title]="#8fbcbb"
theme[hi_fg]="#ffffff"
theme[selected_bg]="#4c566a"
theme[selected_fg]="#eceff4"
theme[inactive_fg]="#434c5e"

# High contrast box colors
theme[cpu_box]="#7aa6da"
theme[mem_box]="#b9ca4a"
theme[net_box]="#e7c547"
theme[proc_box]="#c397d8"
theme[div_line]="#5e6687"

# High contrast graph elements
theme[graph_text]="#eceff4"
theme[meter_bg]="#2f3541"
theme[used_start]="#bf616a"
theme[used_mid]="#d08770"
theme[used_end]="#ebcb8b"

theme[available_start]="#a3be8c"
theme[available_mid]="#8fbcbb"
theme[available_end]="#88c0d0"

theme[cached_start]="#b48ead"
theme[cached_mid]="#81a1c1"
theme[cached_end]="#5e81ac"

theme[process_start]="#88c0d0"
theme[process_mid]="#81a1c1"
theme[process_end]="#5e81ac"

theme[temp_start]="#88c0d0"
theme[temp_mid]="#ebcb8b"
theme[temp_end]="#bf616a"

theme[download_start]="#a3be8c"
theme[download_mid]="#8fbcbb"
theme[download_end]="#88c0d0"

theme[upload_start]="#b48ead"
theme[upload_mid]="#81a1c1"
theme[upload_end]="#5e81ac"
EOF

# Create startup script for theme management
print_status "Creating theme management utilities..."
cat > ~/.config/btop/switch-theme.sh <<'EOF'
#!/bin/bash
# btop Nord Theme Switcher

THEMES_DIR="$HOME/.config/btop/themes"
CONFIG_FILE="$HOME/.config/btop/btop.conf"

echo "Available Nord themes:"
echo "1. nord (default)"
echo "2. nord-minimal (performance)"  
echo "3. nord-contrast (high visibility)"

read -p "Select theme (1-3): " choice

case $choice in
    1) THEME="nord" ;;
    2) THEME="nord-minimal" ;;
    3) THEME="nord-contrast" ;;
    *) echo "Invalid choice"; exit 1 ;;
esac

if [ -f "$THEMES_DIR/$THEME.theme" ]; then
    sed -i "s/color_theme = .*/color_theme = \"$THEME\"/" "$CONFIG_FILE"
    echo "Theme switched to: $THEME"
    echo "Restart btop to see changes"
else
    echo "Theme file not found: $THEME.theme"
fi
EOF

chmod +x ~/.config/btop/switch-theme.sh

# Set proper permissions
chmod 644 ~/.config/btop/btop.conf
chmod 644 ~/.config/btop/themes/*.theme

print_success "Enhanced btop Nord theme installation completed!"

echo
print_status "Installation Summary:"
echo "  ✓ Enhanced nord.theme with comprehensive color mapping"
echo "  ✓ Optimized btop.conf with performance tuning"
echo "  ✓ Additional theme variants (minimal, high-contrast)"
echo "  ✓ Theme switcher utility"
echo "  ✓ Vim-style navigation enabled"
echo "  ✓ Braille graphs for higher resolution"

echo
print_warning "Theme Features:"
echo "  • Full Nord color palette implementation"
echo "  • Optimized for readability and performance"
echo "  • Multiple variants for different use cases"
echo "  • Enhanced visual hierarchy"

echo
print_status "Usage Instructions:"
echo "  1. Launch btop - Nord theme should load automatically"
echo "  2. Press 'ESC' → 'Options' → 'Color theme' to change themes"
echo "  3. Use ~/.config/btop/switch-theme.sh to switch variants"
echo "  4. Vim keys enabled: h/j/k/l for navigation"

echo
print_status "Performance Tips:"
echo "  • Use 'nord-minimal' on slower systems"
echo "  • Increase update_ms if system feels sluggish"
echo "  • Disable temperature monitoring if it causes lag"

echo
print_success "Your btop now features comprehensive Nord theming! 📊"</code>
                    <button class="copy-btn" onclick="copyToClipboard(this)">
                        <i class="fas fa-copy"></i>
                    </button>
                </div>
            </div>
        </section>

        <section id="rice-setup" class="section">
            <h2><i class="fas fa-sparkles"></i> Rice Setup Complete</h2>
            
            <div class="command-block">
                <h3>Apply All Rice Configurations</h3>
                <div class="code-container">
                    <code># Reload i3 configuration
i3-msg reload && \

# Restart i3 to apply all changes  
i3-msg restart && \

# Start/restart all services
killall picom dunst 2>/dev/null || true && \
sleep 1 && \
picom --config ~/.config/picom/picom.conf &
dunst &

# Set a random wallpaper
~/.config/scripts/wallpaper.sh &

# Show completion message
notify-send "🎨 Rice Setup Complete" "Your minimalist i3 desktop is now configured!\n\nFeatures:\n• Enhanced i3status with system info\n• Styled dmenu with power menu\n• Subtle transparency with picom\n• Beautiful terminal colors\n• Notification system" && \

echo "🎨 Rice configuration complete! Your setup now includes:"
echo "   • Enhanced i3status with battery info, CPU/RAM usage at TOP"
echo "   • Beautiful dmenu styling with working power management menu"
echo "   • Subtle transparency effects with picom"
echo "   • Dracula-inspired color scheme throughout"
echo "   • Enhanced notifications with dunst"
echo "   • Clean aesthetics without intrusive window rules"
echo ""
echo "💡 New keybindings added:"
echo "   • $mod+Shift+p = Power menu (shutdown, restart, etc.)"
echo ""
echo "🔧 All configurations are in ~/.config/ and can be easily modified!"</code>
                    <button class="copy-btn" onclick="copyToClipboard(this)">
                        <i class="fas fa-copy"></i>
                    </button>
                </div>
            </div>
        </section>

        <section id="final-steps" class="section">
            <h2><i class="fas fa-flag-checkered"></i> Final System Reboot</h2>
            
            <div class="command-block">
                <h3>Reboot System</h3>
                <div class="code-container">
                    <code>sudo reboot</code>
                    <button class="copy-btn" onclick="copyToClipboard(this)">
                        <i class="fas fa-copy"></i>
                    </button>
                </div>
            </div>
        </section>

        <section id="network-management" class="section">
            <h2><i class="fas fa-wifi"></i> Network Management</h2>
            
            <div class="command-block">
                <h3>USB Ethernet Adapter Setup</h3>
                <div class="code-container">
                    <code># Check USB devices and network interfaces
lsusb && ip link show

# Check for USB ethernet adapter in system logs
sudo dmesg | grep -i -E "(ax88179|usb|eth|enp3s0f3u1u1c2|cdc_ncm)" | tail -20

# Load USB ethernet driver and restart networking
sudo modprobe cdc_ncm && sudo systemctl restart NetworkManager

# Test internet connectivity
ping -c 3 google.com

# Make USB ethernet driver persistent
echo "cdc_ncm" | sudo tee /etc/modules-load.d/ethernet.conf</code>
                    <button class="copy-btn" onclick="copyToClipboard(this)">
                        <i class="fas fa-copy"></i>
                    </button>
                </div>
            </div>

            </div>
        </section>

        <section id="wifi-management" class="section">
            <h2><i class="fas fa-wifi"></i> WiFi Management</h2>
            
            <div class="command-block">
                <h3>WiFi Management Commands</h3>
                <div class="code-container">
                    <code># List available networks
nmcli device wifi list

# Connect to network
nmcli device wifi connect "NETWORK_NAME" password "PASSWORD"

# Connect to hidden network
nmcli device wifi connect "NETWORK_NAME" password "PASSWORD" hidden yes

# Disconnect
nmcli device disconnect wlan0

# Reconnect to saved network
nmcli connection up "NETWORK_NAME"

# Show saved connections
nmcli connection show

# Delete saved connection
nmcli connection delete "NETWORK_NAME"

# Show device status
nmcli device status

# Turn WiFi off/on
nmcli radio wifi off
nmcli radio wifi on

# Restart NetworkManager
sudo systemctl restart NetworkManager

# Check NetworkManager logs
journalctl -u NetworkManager --since "10 minutes ago"

# Show WiFi interface info
ip addr show wlan0

# Show currently connected network
nmcli device wifi list | grep '*'</code>
                    <button class="copy-btn" onclick="copyToClipboard(this)">
                        <i class="fas fa-copy"></i>
                    </button>
                </div>
            </div>
        </section>

        <section id="bluetooth" class="section">
            <h2><i class="fas fa-bluetooth-b"></i> Bluetooth Management</h2>
            
            <div class="command-block">
                <h3>Bluetooth Setup and Management</h3>
                <div class="code-container">
                    <code># Enable and start Bluetooth service
sudo systemctl enable bluetooth && sudo systemctl start bluetooth

# Check Bluetooth status
systemctl status bluetooth

# List Bluetooth controllers
bluetoothctl list

# Enter Bluetooth control interface
bluetoothctl

# Inside bluetoothctl:
power on
agent on
default-agent
scan on

# Stop scanning
scan off

# Pair with device
pair XX:XX:XX:XX:XX:XX

# Connect to device
connect XX:XX:XX:XX:XX:XX

# Trust device
trust XX:XX:XX:XX:XX:XX

# List paired devices
devices

# Exit bluetoothctl
exit

# Disconnect device
bluetoothctl disconnect XX:XX:XX:XX:XX:XX

# Remove device
bluetoothctl remove XX:XX:XX:XX:XX:XX

# Check if Bluetooth is blocked
rfkill list

# Unblock Bluetooth
sudo rfkill unblock bluetooth

# Restart Bluetooth service
sudo systemctl restart bluetooth

# Check Bluetooth logs
journalctl -u bluetooth --since "10 minutes ago"</code>
                    <button class="copy-btn" onclick="copyToClipboard(this)">
                        <i class="fas fa-copy"></i>
                    </button>
                </div>
            </div>
        </section>

        <section id="lazyvim-setup" class="section">
            <h2><i class="fas fa-code"></i> LazyVim Setup (Nord Theme)</h2>
            
        </section>

        <section id="lazyvim-backup" class="section">
            <h2><i class="fas fa-backup"></i> 1. Backup or Remove Existing Neovim Configs</h2>
            
            <div class="command-block">
                <h3>Backup or Remove Existing Neovim Configs</h3>
                <div class="code-container">
                    <code># Option 1: Backup existing configuration
mv ~/.config/nvim{,.bak}
mv ~/.local/share/nvim{,.bak}
mv ~/.local/state/nvim{,.bak}
mv ~/.cache/nvim{,.bak}

# Option 2: Complete removal (if you want fresh start)
rm -rf ~/.config/nvim
rm -rf ~/.local/share/nvim
rm -rf ~/.local/state/nvim
rm -rf ~/.cache/nvim

# Also remove vim files if they exist
rm -rf ~/.vim
rm -f ~/.vimrc</code>
                    <button class="copy-btn" onclick="copyToClipboard(this)">
                        <i class="fas fa-copy"></i>
                    </button>
                </div>
            </div>
        </section>

        <section id="lazyvim-starter" class="section">
            <h2><i class="fas fa-download"></i> 2. LazyVim Starter Installation</h2>
            
            <div class="command-block">
                <h3>LazyVim Starter Installation</h3>
                <div class="code-container">
                    <code># Clone LazyVim starter configuration
git clone https://github.com/LazyVim/starter ~/.config/nvim

# Remove git history to make it your own
rm -rf ~/.config/nvim/.git

# Launch Neovim for initial setup
nvim</code>
                    <button class="copy-btn" onclick="copyToClipboard(this)">
                        <i class="fas fa-copy"></i>
                    </button>
                </div>
            </div>
        </section>

        <section id="lazyvim-navigate" class="section">
            <h2><i class="fas fa-folder-open"></i> 3. Navigate to Config Directory</h2>
            
            <div class="command-block">
                <h3>Navigate to Config Directory</h3>
                <div class="code-container">
                    <code># Navigate to neovim config directory
cd ~/.config/nvim

# Launch nvim to configure
nvim</code>
                    <button class="copy-btn" onclick="copyToClipboard(this)">
                        <i class="fas fa-copy"></i>
                    </button>
                </div>
            </div>
        </section>

        <section id="lazyvim-options" class="section">
            <h2><i class="fas fa-cog"></i> 4. Configure Options.lua</h2>
            
            <div class="command-block">
                <h3>Configure Options.lua</h3>
                <div class="code-container">
                    <code>-- ~/.config/nvim/lua/config/options.lua
vim.g.mapleader = " "
vim.g.maplocalleader = "\\"

local opt = vim.opt

-- Editor appearance
opt.termguicolors = true
opt.background = "dark"
opt.signcolumn = "yes"
opt.cursorline = true
opt.number = true
opt.relativenumber = true
opt.wrap = false
opt.scrolloff = 8
opt.sidescrolloff = 8

-- Indentation for your languages
opt.tabstop = 4        -- C/C++/Python standard
opt.shiftwidth = 4
opt.expandtab = true   -- Use spaces instead of tabs
opt.smartindent = true
opt.autoindent = true

-- Search settings
opt.ignorecase = true
opt.smartcase = true
opt.hlsearch = true
opt.incsearch = true

-- File handling
opt.backup = false
opt.writebackup = false
opt.swapfile = false
opt.undofile = true
opt.undodir = os.getenv("HOME") .. "/.vim/undodir"

-- Performance
opt.updatetime = 250
opt.timeoutlen = 300

-- Splits
opt.splitbelow = true
opt.splitright = true

-- Completion
opt.completeopt = "menuone,noselect"
opt.pumheight = 10

-- Security for embedded development
opt.modeline = false
opt.secure = true

-- Focus and concentration
opt.conceallevel = 2
opt.concealcursor = "nc"</code>
                    <button class="copy-btn" onclick="copyToClipboard(this)">
                        <i class="fas fa-copy"></i>
                    </button>
                </div>
            </div>
        </section>

        <section id="lazyvim-keymaps" class="section">
            <h2><i class="fas fa-keyboard"></i> 5. Configure Keymaps.lua</h2>
            
            <div class="command-block">
                <h3>Configure Keymaps.lua</h3>
                <div class="code-container">
                    <code>-- ~/.config/nvim/lua/config/keymaps.lua
local keymap = vim.keymap

-- Better window navigation
keymap.set("n", "<C-h>", "<C-w>h", { desc = "Go to left window" })
keymap.set("n", "<C-j>", "<C-w>j", { desc = "Go to lower window" })
keymap.set("n", "<C-k>", "<C-w>k", { desc = "Go to upper window" })
keymap.set("n", "<C-l>", "<C-w>l", { desc = "Go to right window" })

-- Resize windows
keymap.set("n", "<C-Up>", ":resize +2<CR>", { desc = "Increase window height" })
keymap.set("n", "<C-Down>", ":resize -2<CR>", { desc = "Decrease window height" })
keymap.set("n", "<C-Left>", ":vertical resize -2<CR>", { desc = "Decrease window width" })
keymap.set("n", "<C-Right>", ":vertical resize +2<CR>", { desc = "Increase window width" })

-- Buffer navigation
keymap.set("n", "<S-l>", ":bnext<CR>", { desc = "Next buffer" })
keymap.set("n", "<S-h>", ":bprevious<CR>", { desc = "Previous buffer" })

-- Clear search highlighting
keymap.set("n", "<leader>h", ":nohlsearch<CR>", { desc = "Clear search highlighting" })

-- Better indenting
local lt = "<"
local gt = ">"
keymap.set("v", lt, lt .. "gv", { desc = "Indent left" })
keymap.set("v", gt, gt .. "gv", { desc = "Indent right" })

-- Move text up and down
keymap.set("v", "J", ":move '>+1<CR>gv=gv", { desc = "Move text down" })
keymap.set("v", "K", ":move '<-2<CR>gv=gv", { desc = "Move text up" })

-- Development specific
keymap.set("n", "<leader>rr", ":!make<CR>", { desc = "Run make" })
keymap.set("n", "<leader>rt", ":!make test<CR>", { desc = "Run tests" })
keymap.set("n", "<leader>rc", ":!gcc % -o %:r && ./%:r<CR>", { desc = "Compile and run C" })
keymap.set("n", "<leader>rp", ":!python %<CR>", { desc = "Run Python" })

-- Debugging
keymap.set("n", "<leader>db", ":lua require('dap').toggle_breakpoint()<CR>", { desc = "Toggle breakpoint" })
keymap.set("n", "<leader>dc", ":lua require('dap').continue()<CR>", { desc = "Continue debugging" })
keymap.set("n", "<leader>ds", ":lua require('dap').step_over()<CR>", { desc = "Step over" })
keymap.set("n", "<leader>di", ":lua require('dap').step_into()<CR>", { desc = "Step into" })
keymap.set("n", "<leader>do", ":lua require('dap').step_out()<CR>", { desc = "Step out" })

-- Focus and zen mode
keymap.set("n", "<leader>zz", ":ZenMode<CR>", { desc = "Toggle Zen Mode" })
keymap.set("n", "<leader>zt", ":Twilight<CR>", { desc = "Toggle Twilight" })

-- Quick navigation
keymap.set("n", "<leader>jj", ":HopWord<CR>", { desc = "Hop to word" })
keymap.set("n", "<leader>jl", ":HopLine<CR>", { desc = "Hop to line" })
keymap.set("n", "<leader>jc", ":HopChar1<CR>", { desc = "Hop to character" })

-- Terminal
keymap.set("n", "<C-\\>", ":ToggleTerm<CR>", { desc = "Toggle terminal" })
keymap.set("t", "<C-\\>", "<C-\\><C-n>:ToggleTerm<CR>", { desc = "Toggle terminal" })

-- Search and replace
keymap.set("n", "<leader>sr", ":lua require('spectre').open()<CR>", { desc = "Search and Replace" })
keymap.set("n", "<leader>sw", ":lua require('spectre').open_visual({select_word=true})<CR>", { desc = "Search current word" })</code>
                    <button class="copy-btn" onclick="copyToClipboard(this)">
                        <i class="fas fa-copy"></i>
                    </button>
                </div>
            </div>
        </section>

        <section id="lazyvim-autocmds" class="section">
            <h2><i class="fas fa-magic"></i> 6. Configure Autocmds.lua</h2>
            
            <div class="command-block">
                <h3>Configure Autocmds.lua</h3>
                <div class="code-container">
                    <code>-- ~/.config/nvim/lua/config/autocmds.lua
local autocmd = vim.api.nvim_create_autocmd
local augroup = vim.api.nvim_create_augroup

-- General settings
local general = augroup("General", { clear = true })

-- Remove trailing whitespace on save
autocmd("BufWritePre", {
  group = general,
  pattern = "*",
  command = "%s/\\s\\+$//e",
  desc = "Remove trailing whitespace",
})

-- Highlight on yank
autocmd("TextYankPost", {
  group = general,
  pattern = "*",
  callback = function()
    vim.highlight.on_yank({ higroup = "Visual", timeout = 200 })
  end,
  desc = "Highlight yanked text",
})

-- Auto-close certain file types
autocmd("FileType", {
  group = general,
  pattern = { "qf", "help", "man", "lspinfo", "spectre_panel" },
  callback = function(event)
    vim.bo[event.buf].buflisted = false
    vim.keymap.set("n", "q", "<cmd>close<cr>", { buffer = event.buf, silent = true })
  end,
})

-- Language-specific settings
local lang_settings = augroup("LanguageSettings", { clear = true })

-- C/C++ settings
autocmd("FileType", {
  group = lang_settings,
  pattern = { "c", "cpp", "h", "hpp" },
  callback = function()
    vim.opt_local.tabstop = 4
    vim.opt_local.shiftwidth = 4
    vim.opt_local.expandtab = true
    vim.opt_local.cindent = true
    vim.opt_local.commentstring = "// %s"
    -- Add include path for embedded development
    vim.opt_local.path:append("/usr/include,/usr/local/include")
  end,
  desc = "C/C++ settings",
})

-- Python settings
autocmd("FileType", {
  group = lang_settings,
  pattern = "python",
  callback = function()
    vim.opt_local.tabstop = 4
    vim.opt_local.shiftwidth = 4
    vim.opt_local.expandtab = true
    vim.opt_local.colorcolumn = "79"
  end,
  desc = "Python settings",
})

-- Markdown settings (for documentation)
autocmd("FileType", {
  group = lang_settings,
  pattern = "markdown",
  callback = function()
    vim.opt_local.wrap = true
    vim.opt_local.spell = true
    vim.opt_local.conceallevel = 2
  end,
  desc = "Markdown settings",
})

-- HTML/CSS/JS settings
autocmd("FileType", {
  group = lang_settings,
  pattern = { "html", "css", "javascript", "json" },
  callback = function()
    vim.opt_local.tabstop = 2
    vim.opt_local.shiftwidth = 2
    vim.opt_local.expandtab = true
  end,
  desc = "Web development settings",
})</code>
                    <button class="copy-btn" onclick="copyToClipboard(this)">
                        <i class="fas fa-copy"></i>
                    </button>
                </div>
            </div>

        </section>

        <section id="lazyvim-plugins" class="section">
            <h2><i class="fas fa-puzzle-piece"></i> 7. Create Additional Plugin Files</h2>
            
            <div class="command-block">
                <h3>Create Additional Plugin Files</h3>
                <div class="code-container">
                    <code># Navigate to plugins directory and create files
cd ~/.config/nvim/lua/plugins/
touch nord.lua && touch lsp.lua && touch tools.lua && touch focus.lua && touch productivity.lua</code>
                    <button class="copy-btn" onclick="copyToClipboard(this)">
                        <i class="fas fa-copy"></i>
                    </button>
                </div>
            </div>
        </section>

        <section id="lazyvim-nord" class="section">
            <h2><i class="fas fa-palette"></i> 8. Configure Nord Theme Plugin</h2>
            
            <div class="command-block">
                <h3>Configure Nord Theme Plugin</h3>
                <div class="code-container">
                    <code>-- ~/.config/nvim/lua/plugins/nord.lua
return {
  {
    "shaunsingh/nord.nvim",
    lazy = false,
    priority = 1000,
    config = function()
      -- Nord configuration
      vim.g.nord_contrast = true
      vim.g.nord_borders = false
      vim.g.nord_disable_background = false
      vim.g.nord_italic = false
      vim.g.nord_uniform_diff_background = true
      vim.g.nord_bold = false

      require("nord").set()

      -- Custom highlights for better visibility
      vim.cmd([[
        highlight Normal guibg=#2e3440
        highlight LineNr guifg=#4c566a
        highlight CursorLine guibg=#3b4252
        highlight StatusLine guibg=#434c5e guifg=#d8dee9
        highlight VertSplit guifg=#4c566a
        highlight SignColumn guibg=#2e3440
        highlight Pmenu guibg=#3b4252 guifg=#d8dee9
        highlight PmenuSel guibg=#88c0d0 guifg=#2e3440
        highlight TwilightDimmed guifg=#4c566a
      ]])
    end,
  },
  {
    "LazyVim/LazyVim",
    opts = {
      colorscheme = "nord",
    },
  },
}</code>
                    <button class="copy-btn" onclick="copyToClipboard(this)">
                        <i class="fas fa-copy"></i>
                    </button>
                </div>
            </div>
        </section>

        <section id="lazyvim-lazy" class="section">
            <h2><i class="fas fa-rocket"></i> 9. Configure Lazy.lua Imports</h2>
            
            <div class="command-block">
                <h3>Configure Lazy.lua Imports</h3>
                <div class="code-container">
                    <code>{ import = "lazyvim.plugins.extras.lang.clangd" },    -- C/C++ support
  { import = "lazyvim.plugins.extras.lang.python" },    -- Python support
  { import = "lazyvim.plugins.extras.editor.telescope" }, -- Better file finder
  { import = "lazyvim.plugins.extras.ui.mini-animate" }, -- Smooth animations
  { import = "lazyvim.plugins.extras.util.mini-hipatterns" }, -- Better highlighting</code>
                    <button class="copy-btn" onclick="copyToClipboard(this)">
                        <i class="fas fa-copy"></i>
                    </button>
                </div>
            </div>

        </section>

        <section id="lazyvim-focus" class="section">
            <h2><i class="fas fa-rocket"></i> 10. Configure Focus & Zen Mode</h2>
            
            <div class="command-block">
                <h3>Configure Focus.lua Plugins</h3>
                <div class="code-container">
                    <code>-- ~/.config/nvim/lua/plugins/focus.lua
return {
  -- Focus and zen mode for distraction-free coding
  {
    "folke/twilight.nvim",
    opts = {
      dimming = {
        alpha = 0.25, -- Amount of dimming
        color = { "Normal", "#ffffff" },
        term_bg = "#000000",
        inactive = true,
      },
      context = 10, -- Amount of lines to show around cursor
      treesitter = true,
      expand = { -- Expand certain elements
        "function",
        "method",
        "table",
        "if_statement",
      },
    },
  },
  {
    "folke/zen-mode.nvim",
    opts = {
      window = {
        backdrop = 0.95,
        width = 120,
        height = 1,
        options = {
          signcolumn = "no",
          number = false,
          relativenumber = false,
          cursorline = false,
          cursorcolumn = false,
          foldcolumn = "0",
          list = false,
        },
      },
      plugins = {
        options = {
          enabled = true,
          ruler = false,
          showcmd = false,
        },
        twilight = { enabled = true },
        gitsigns = { enabled = false },
        tmux = { enabled = false },
      },
    },
  },
}</code>
                    <button class="copy-btn" onclick="copyToClipboard(this)">
                        <i class="fas fa-copy"></i>
                    </button>
                </div>
            </div>

        </section>

        <section id="lazyvim-productivity" class="section">
            <h2><i class="fas fa-rocket"></i> 11. Configure Productivity Plugins</h2>
            
            <div class="command-block">
                <h3>Configure Productivity.lua Plugins</h3>
                <div class="code-container">
                    <code>-- ~/.config/nvim/lua/plugins/productivity.lua
return {
  -- Surround text objects (essential!)
  {
    "kylechui/nvim-surround",
    version = "*",
    event = "VeryLazy",
    config = function()
      require("nvim-surround").setup({})
    end,
  },

  -- Which-key for discovering keybindings
  {
    "folke/which-key.nvim",
    event = "VeryLazy",
    opts = {
      plugins = { spelling = true },
      spec = {
        {
          mode = { "n", "v" },
          { "g", group = "goto" },
          { "gz", group = "surround" },
          { "]", group = "next" },
          { "[", group = "prev" },
          { "<leader><tab>", group = "tabs" },
          { "<leader>b", group = "buffer" },
          { "<leader>c", group = "code" },
          { "<leader>f", group = "file/find" },
          { "<leader>g", group = "git" },
          { "<leader>gh", group = "hunks" },
          { "<leader>q", group = "quit/session" },
          { "<leader>s", group = "search" },
          { "<leader>u", group = "ui" },
          { "<leader>w", group = "windows" },
          { "<leader>x", group = "diagnostics/quickfix" },
          { "<leader>z", group = "zen/focus" },
          { "<leader>r", group = "run/execute" },
          { "<leader>d", group = "debug" },
          { "<leader>j", group = "jump/hop" },
        },
      },
    },
  },

  -- Quick navigation with hop
  {
    "phaazon/hop.nvim",
    branch = "v2",
    config = function()
      require("hop").setup({ keys = "etovxqpdygfblzhckisuran" })
    end,
  },

  -- Auto pairs for brackets and quotes
  {
    "windwp/nvim-autopairs",
    event = "InsertEnter",
    opts = {},
  },

  -- Enhanced commenting
  {
    "numToStr/Comment.nvim",
    opts = {},
    lazy = false,
  },

  -- Global search and replace
  {
    "nvim-pack/nvim-spectre",
    build = false,
    cmd = "Spectre",
    opts = { open_cmd = "noswapfile vnew" },
  },

  -- Session management
  {
    "folke/persistence.nvim",
    event = "BufReadPre",
    opts = { options = vim.opt.sessionoptions:get() },
  },

  -- Enhanced text objects
  {
    "echasnovski/mini.ai",
    opts = function()
      local ai = require("mini.ai")
      return {
        n_lines = 500,
        custom_textobjects = {
          o = ai.gen_spec.treesitter({
            a = { "@block.outer", "@conditional.outer", "@loop.outer" },
            i = { "@block.inner", "@conditional.inner", "@loop.inner" },
          }, {}),
          f = ai.gen_spec.treesitter({ a = "@function.outer", i = "@function.inner" }, {}),
          c = ai.gen_spec.treesitter({ a = "@class.outer", i = "@class.inner" }, {}),
          t = { "<([%p%w]-)%f[^<%w][^<>]->.-</%1>", "^<.->().*()</[^/]->$" },
        },
      }
    end,
  },

  -- Color highlighter
  {
    "NvChad/nvim-colorizer.lua",
    opts = {
      filetypes = { "*" },
      user_default_options = {
        RGB = true,
        RRGGBB = true,
        names = true,
        RRGGBBAA = false,
        AARRGGBB = true,
        rgb_fn = false,
        hsl_fn = false,
        css = false,
        css_fn = false,
        mode = "background",
        tailwind = false,
        sass = { enable = false },
        virtualtext = "■",
      },
    },
  },

  -- TODO comments highlighting
  {
    "folke/todo-comments.nvim",
    dependencies = { "nvim-lua/plenary.nvim" },
    opts = {
      signs = true,
      sign_priority = 8,
      keywords = {
        FIX = { icon = " ", color = "error", alt = { "FIXME", "BUG", "FIXIT", "ISSUE" } },
        TODO = { icon = " ", color = "info" },
        HACK = { icon = " ", color = "warning" },
        WARN = { icon = " ", color = "warning", alt = { "WARNING", "XXX" } },
        PERF = { icon = " ", alt = { "OPTIM", "PERFORMANCE", "OPTIMIZE" } },
        NOTE = { icon = " ", color = "hint", alt = { "INFO" } },
        TEST = { icon = "⏲ ", color = "test", alt = { "TESTING", "PASSED", "FAILED" } },
        SECURITY = { icon = "🔒", color = "error", alt = { "SEC", "VULN", "VULNERABILITY" } },
      },
    },
  },
}</code>
                    <button class="copy-btn" onclick="copyToClipboard(this)">
                        <i class="fas fa-copy"></i>
                    </button>
                </div>
            </div>

        </section>

        <section id="lazyvim-lsp" class="section">
            <h2><i class="fas fa-language"></i> 12. Configure LSP Settings</h2>
            
            <div class="command-block">
                <h3>Configure LSP Settings</h3>
                <div class="code-container">
                    <code>-- ~/.config/nvim/lua/plugins/lsp.lua
return {
  -- Schema store for JSON/YAML - loaded first
  {
    "b0o/schemastore.nvim",
    lazy = false,
  },

  {
    "neovim/nvim-lspconfig",
    dependencies = {
      "b0o/schemastore.nvim",
    },
    opts = {
      servers = {
        -- C/C++ Language Server
        clangd = {
          cmd = {
            "clangd",
            "--background-index",
            "--clang-tidy",
            "--header-insertion=iwyu",
            "--completion-style=detailed",
            "--function-arg-placeholders",
            "--fallback-style=llvm",
            "--cross-file-rename",
            "--compile-commands-dir=build",
          },
          init_options = {
            usePlaceholders = true,
            completeUnimported = true,
            clangdFileStatus = true,
          },
          filetypes = { "c", "cpp", "objc", "objcpp" },
          root_dir = function(fname)
            return require("lspconfig.util").root_pattern(
              "Makefile",
              "configure.ac",
              "configure.in",
              "config.h.in",
              "meson.build",
              "meson_options.txt",
              "build.ninja"
            )(fname) or require("lspconfig.util").root_pattern("compile_commands.json", "compile_flags.txt")(
              fname
            ) or require("lspconfig.util").root_pattern(fname)
          end,
        },

        -- Python Language Server
        pyright = {
          settings = {
            python = {
              analysis = {
                typeCheckingMode = "basic",
                autoSearchPaths = true,
                useLibraryCodeForTypes = true,
                autoImportCompletions = true,
                diagnosticMode = "workspace",
                stubPath = vim.fn.stdpath("data") .. "/lazy/python-type-stubs",
              },
            },
          },
        },

        -- Lua for Neovim config
        lua_ls = {
          settings = {
            Lua = {
              workspace = {
                checkThirdParty = false,
              },
              completion = {
                callSnippet = "Replace",
              },
              diagnostics = {
                globals = { "vim" },
              },
            },
          },
        },

        -- JSON support with safe schemastore loading
        jsonls = {
          settings = {
            json = {
              schemas = (function()
                local ok, schemastore = pcall(require, "schemastore")
                if ok then
                  return schemastore.json.schemas()
                end
                return {}
              end)(),
              validate = { enable = true },
            },
          },
        },

        -- YAML support with safe schemastore loading
        yamlls = {
          settings = {
            yaml = {
              schemaStore = {
                enable = false,
                url = "",
              },
              schemas = (function()
                local ok, schemastore = pcall(require, "schemastore")
                if ok then
                  return schemastore.yaml.schemas()
                end
                return {}
              end)(),
            },
          },
        },
      },
    },
  },

  -- Trouble for diagnostics
  {
    "folke/trouble.nvim",
    opts = {
      use_diagnostic_signs = true,
      action_keys = {
        close = "q",
        cancel = "<esc>",
        refresh = "r",
        jump = { "<cr>", "<tab>" },
        open_split = { "<c-x>" },
        open_vsplit = { "<c-v>" },
        open_tab = { "<c-t>" },
        jump_close = { "o" },
        toggle_mode = "m",
        toggle_preview = "P",
        hover = "K",
        preview = "p",
        close_folds = { "zM", "zm" },
        open_folds = { "zR", "zr" },
        toggle_fold = { "zA", "za" },
        previous = "k",
        next = "j",
      },
    },
  },
}</code>
                    <button class="copy-btn" onclick="copyToClipboard(this)">
                        <i class="fas fa-copy"></i>
                    </button>
                </div>
            </div>
        </section>

        <section id="lazyvim-tools" class="section">
            <h2><i class="fas fa-tools"></i> 13. Configure Development Tools</h2>
            
            <div class="command-block">
                <h3>Configure Development Tools</h3>
                <div class="code-container">
                    <code>-- ~/.config/nvim/lua/plugins/tools.lua
return {
  -- Better syntax highlighting
  {
    "nvim-treesitter/nvim-treesitter",
    opts = {
      ensure_installed = {
        "c",
        "cpp",
        "python",
        "lua",
        "vim",
        "vimdoc",
        "markdown",
        "markdown_inline",
        "json",
        "yaml",
        "bash",
        "make",
        "cmake",
        "dockerfile",
        "html",
        "css",
        "javascript",
        "regex",
        "toml",
        "git_config",
        "git_rebase",
        "gitcommit",
        "gitignore",
        "diff",
      },
      highlight = { enable = true },
      indent = { enable = true },
      incremental_selection = {
        enable = true,
        keymaps = {
          init_selection = "<C-space>",
          node_incremental = "<C-space>",
          scope_incremental = false,
          node_decremental = "<bs>",
        },
      },
    },
  },

  -- Show function context
  {
    "nvim-treesitter/nvim-treesitter-context",
    opts = {
      enable = true,
      max_lines = 3,
      min_window_height = 0,
      line_numbers = true,
      multiline_threshold = 20,
      trim_scope = "outer",
      mode = "cursor",
      separator = nil,
      zindex = 20,
    },
  },

  -- Enhanced code completion
  {
    "hrsh7th/nvim-cmp",
    dependencies = {
      "hrsh7th/cmp-nvim-lsp",
      "hrsh7th/cmp-buffer",
      "hrsh7th/cmp-path",
      "hrsh7th/cmp-cmdline",
      "hrsh7th/cmp-nvim-lsp-signature-help",
      "L3MON4D3/LuaSnip",
      "saadparwaiz1/cmp_luasnip",
      "rafamadriz/friendly-snippets",
    },
    opts = function(_, opts)
      local cmp = require("cmp")
      local luasnip = require("luasnip")

      -- Load friendly snippets
      require("luasnip.loaders.from_vscode").lazy_load()

      opts.sources = cmp.config.sources({
        { name = "nvim_lsp", priority = 1000 },
        { name = "luasnip", priority = 750 },
        { name = "nvim_lsp_signature_help", priority = 700 },
        { name = "buffer", priority = 500 },
        { name = "path", priority = 250 },
      })

      opts.mapping = cmp.mapping.preset.insert({
        ["<C-k>"] = cmp.mapping.select_prev_item(),
        ["<C-j>"] = cmp.mapping.select_next_item(),
        ["<C-b>"] = cmp.mapping.scroll_docs(-4),
        ["<C-f>"] = cmp.mapping.scroll_docs(4),
        ["<C-Space>"] = cmp.mapping.complete(),
        ["<C-e>"] = cmp.mapping.abort(),
        ["<CR>"] = cmp.mapping.confirm({ select = true }),
        ["<Tab>"] = cmp.mapping(function(fallback)
          if cmp.visible() then
            cmp.select_next_item()
          elseif luasnip.expand_or_jumpable() then
            luasnip.expand_or_jump()
          else
            fallback()
          end
        end, { "i", "s" }),
        ["<S-Tab>"] = cmp.mapping(function(fallback)
          if cmp.visible() then
            cmp.select_prev_item()
          elseif luasnip.jumpable(-1) then
            luasnip.jump(-1)
          else
            fallback()
          end
        end, { "i", "s" }),
      })

      return opts
    end,
  },

  -- Enhanced snippets with VS Code style snippets
  {
    "L3MON4D3/LuaSnip",
    dependencies = {
      "rafamadriz/friendly-snippets",
    },
    config = function()
      require("luasnip.loaders.from_vscode").lazy_load()
      -- Custom snippets
      local ls = require("luasnip")
      local s = ls.snippet
      local t = ls.text_node
      local i = ls.insert_node

      ls.add_snippets("c", {
        s("main", {
          t({"#include <stdio.h>", "", "int main() {", "    "}),
          i(1, "// Your code here"),
          t({"", "    return 0;", "}"}),
        }),
      })

      ls.add_snippets("cpp", {
        s("main", {
          t({"#include <iostream>", "", "int main() {", "    "}),
          i(1, "// Your code here"),
          t({"", "    return 0;", "}"}),
        }),
      })
    end,
  },

  -- File explorer
  {
    "nvim-neo-tree/neo-tree.nvim",
    opts = {
      filesystem = {
        filtered_items = {
          hide_dotfiles = false,
          hide_gitignored = false,
          hide_by_name = {
            ".git",
            ".DS_Store",
            "thumbs.db",
          },
        },
        follow_current_file = {
          enabled = true,
        },
        use_libuv_file_watcher = true,
      },
      window = {
        position = "left",
        width = 30,
      },
    },
  },

  -- Git integration
  {
    "lewis6991/gitsigns.nvim",
    opts = {
      signs = {
        add = { text = "▎" },
        change = { text = "▎" },
        delete = { text = "" },
        topdelete = { text = "" },
        changedelete = { text = "▎" },
        untracked = { text = "▎" },
      },
      current_line_blame = true,
      current_line_blame_opts = {
        virt_text = true,
        virt_text_pos = "eol",
        delay = 1000,
        ignore_whitespace = false,
      },
    },
  },

  -- Enhanced git workflow
  {
    "sindrets/diffview.nvim",
    cmd = { "DiffviewOpen", "DiffviewClose", "DiffviewToggleFiles", "DiffviewFocusFiles" },
    opts = {},
  },

  -- Debugging (DAP)
  {
    "mfussenegger/nvim-dap",
    dependencies = {
      "rcarriga/nvim-dap-ui",
      "theHamsta/nvim-dap-virtual-text",
      "nvim-neotest/nvim-nio",
    },
    config = function()
      local dap = require("dap")
      local dapui = require("dapui")

      -- Setup DAP UI
      dapui.setup({
        icons = { expanded = "▾", collapsed = "▸", current_frame = "*" },
        mappings = {
          expand = { "<CR>", "<2-LeftMouse>" },
          open = "o",
          remove = "d",
          edit = "e",
          repl = "r",
          toggle = "t",
        },
        expand_lines = vim.fn.has("nvim-0.7") == 1,
        layouts = {
          {
            elements = {
              { id = "scopes", size = 0.25 },
              "breakpoints",
              "stacks",
              "watches",
            },
            size = 40,
            position = "left",
          },
          {
            elements = {
              "repl",
              "console",
            },
            size = 0.25,
            position = "bottom",
          },
        },
        controls = {
          enabled = true,
          element = "repl",
          icons = {
            pause = "",
            play = "",
            step_into = "",
            step_over = "",
            step_out = "",
            step_back = "",
            run_last = "↻",
            terminate = "□",
          },
        },
        floating = {
          max_height = nil,
          max_width = nil,
          border = "single",
          mappings = {
            close = { "q", "<Esc>" },
          },
        },
        windows = { indent = 1 },
        render = {
          max_type_length = nil,
          max_value_lines = 100,
        },
      })

      -- Setup virtual text
      require("nvim-dap-virtual-text").setup({
        enabled = true,
        enabled_commands = true,
        highlight_changed_variables = true,
        highlight_new_as_changed = false,
        show_stop_reason = true,
        commented = false,
        only_first_definition = true,
        all_references = false,
        filter_references_pattern = "<module",
        virt_text_pos = "eol",
        all_frames = false,
        virt_lines = false,
        virt_text_win_col = nil,
      })

      -- Auto open/close DAP UI
      dap.listeners.after.event_initialized["dapui_config"] = function()
        dapui.open()
      end
      dap.listeners.before.event_terminated["dapui_config"] = function()
        dapui.close()
      end
      dap.listeners.before.event_exited["dapui_config"] = function()
        dapui.close()
      end

      -- C/C++ debugging with GDB
      dap.adapters.gdb = {
        type = "executable",
        command = "gdb",
        args = { "-i", "dap" }
      }

      dap.configurations.c = {
        {
          name = "Launch",
          type = "gdb",
          request = "launch",
          program = function()
            return vim.fn.input('Path to executable: ', vim.fn.getcwd() .. '/', 'file')
          end,
          cwd = "${workspaceFolder}",
          stopAtBeginningOfMainSubprogram = false,
        },
        {
          name = "Attach to gdbserver :1234",
          type = "gdb",
          request = "attach",
          target = "localhost:1234",
          program = function()
            return vim.fn.input('Path to executable: ', vim.fn.getcwd() .. '/', 'file')
          end,
          cwd = "${workspaceFolder}",
        },
      }
      dap.configurations.cpp = dap.configurations.c

      -- Python debugging
      dap.adapters.python = {
        type = "executable",
        command = "python",
        args = { "-m", "debugpy.adapter" },
      }

      dap.configurations.python = {
        {
          type = "python",
          request = "launch",
          name = "Launch file",
          program = "${file}",
          pythonPath = function()
            return "/usr/bin/python"
          end,
        },
        {
          type = "python",
          request = "launch",
          name = "Launch file with arguments",
          program = "${file}",
          args = function()
            local args_string = vim.fn.input('Arguments: ')
            return vim.split(args_string, " ")
          end,
          pythonPath = function()
            return "/usr/bin/python"
          end,
        },
      }
    end,
  },

  -- Terminal integration
  {
    "akinsho/toggleterm.nvim",
    config = function()
      require("toggleterm").setup({
        size = 20,
        open_mapping = [[<c-\>]],
        direction = "horizontal",
        shell = vim.o.shell,
        float_opts = {
          border = "curved",
          winblend = 0,
          highlights = {
            border = "Normal",
            background = "Normal",
          },
        },
      })

      -- Custom terminal functions
      local Terminal = require("toggleterm.terminal").Terminal

      -- Lazygit terminal
      local lazygit = Terminal:new({
        cmd = "lazygit",
        dir = "git_dir",
        direction = "float",
        float_opts = {
          border = "double",
        },
        on_open = function(term)
          vim.cmd("startinsert!")
          vim.api.nvim_buf_set_keymap(term.bufnr, "n", "q", "<cmd>close<CR>", {noremap = true, silent = true})
        end,
        on_close = function(term)
          vim.cmd("startinsert!")
        end,
      })

      function _LAZYGIT_TOGGLE()
        lazygit:toggle()
      end

      -- Python REPL
      local python = Terminal:new({
        cmd = "python",
        direction = "horizontal",
        close_on_exit = false,
      })

      function _PYTHON_TOGGLE()
        python:toggle()
      end

      -- Add keymaps
      vim.keymap.set("n", "<leader>gg", "<cmd>lua _LAZYGIT_TOGGLE()<CR>", { desc = "Lazygit" })
      vim.keymap.set("n", "<leader>tp", "<cmd>lua _PYTHON_TOGGLE()<CR>", { desc = "Python REPL" })
    end,
  },

  -- Code formatting
  {
    "stevearc/conform.nvim",
    opts = {
      formatters_by_ft = {
        c = { "clang_format" },
        cpp = { "clang_format" },
        python = { "black", "isort" },
        lua = { "stylua" },
        javascript = { "prettier" },
        html = { "prettier" },
        css = { "prettier" },
        json = { "prettier" },
        yaml = { "prettier" },
        markdown = { "prettier" },
      },
      format_on_save = {
        timeout_ms = 500,
        lsp_fallback = true,
      },
      formatters = {
        clang_format = {
          prepend_args = { "--style=llvm" },
        },
      },
    },
  },

  -- Linting
  {
    "mfussenegger/nvim-lint",
    opts = {
      linters_by_ft = {
        c = { "cppcheck" },
        cpp = { "cppcheck" },
        python = { "flake8" },
        javascript = { "eslint" },
      },
      linters = {
        cppcheck = {
          args = {
            "--enable=all",
            "--suppress=missingIncludeSystem",
            "--inline-suppr",
            "--quiet",
            "--template=gcc",
          },
        },
      },
    },
  },

  -- Indentation guides
  {
    "lukas-reineke/indent-blankline.nvim",
    main = "ibl",
    opts = {
      indent = {
        char = "│",
        tab_char = "│",
      },
      scope = {
        enabled = true,
        show_start = true,
        show_end = false,
        injected_languages = false,
        highlight = { "Function", "Label" },
        priority = 500,
      },
      exclude = {
        filetypes = {
          "help",
          "alpha",
          "dashboard",
          "neo-tree",
          "Trouble",
          "trouble",
          "lazy",
          "mason",
          "notify",
          "toggleterm",
          "lazyterm",
        },
      },
    },
  },

  -- Better folding
  {
    "kevinhwang91/nvim-ufo",
    dependencies = {
      "kevinhwang91/promise-async",
    },
    config = function()
      vim.o.foldcolumn = "1"
      vim.o.foldlevel = 99
      vim.o.foldlevelstart = 99
      vim.o.foldenable = true

      require("ufo").setup({
        provider_selector = function(bufnr, filetype, buftype)
          return {"treesitter", "indent"}
        end,
      })

      -- Add fold keymaps
      vim.keymap.set("n", "zR", require("ufo").openAllFolds, { desc = "Open all folds" })
      vim.keymap.set("n", "zM", require("ufo").closeAllFolds, { desc = "Close all folds" })
      vim.keymap.set("n", "zr", require("ufo").openFoldsExceptKinds, { desc = "Open folds except kinds" })
      vim.keymap.set("n", "zm", require("ufo").closeFoldsWith, { desc = "Close folds with" })
      vim.keymap.set("n", "K", function()
        local winid = require("ufo").peekFoldedLinesUnderCursor()
        if not winid then
          vim.lsp.buf.hover()
        end
      end, { desc = "Peek fold or show hover" })
    end,
  },

  -- Illuminate word under cursor
  {
    "RRethy/vim-illuminate",
    opts = {
      delay = 200,
      large_file_cutoff = 2000,
      large_file_overrides = {
        providers = { "lsp" },
      },
    },
    config = function(_, opts)
      require("illuminate").configure(opts)

      local function map(key, dir, buffer)
        vim.keymap.set("n", key, function()
          require("illuminate")["goto_" .. dir .. "_reference"](false)
        end, { desc = dir:sub(1, 1):upper() .. dir:sub(2) .. " Reference", buffer = buffer })
      end

      map("]]", "next")
      map("[[", "prev")

      -- Auto command for buffer local mappings
      vim.api.nvim_create_autocmd("FileType", {
        callback = function()
          local buffer = vim.api.nvim_get_current_buf()
          map("]]", "next", buffer)
          map("[[", "prev", buffer)
        end,
      })
    end,
    keys = {
      { "]]", desc = "Next Reference" },
      { "[[", desc = "Prev Reference" },
    },
  },

  -- Enhanced telescope
  {
    "nvim-telescope/telescope.nvim",
    dependencies = {
      "nvim-telescope/telescope-fzf-native.nvim",
      build = "make",
      config = function()
        require("telescope").load_extension("fzf")
      end,
    },
    opts = {
      defaults = {
        prompt_prefix = " ",
        selection_caret = " ",
        path_display = { "truncate" },
        sorting_strategy = "ascending",
        layout_config = {
          horizontal = {
            prompt_position = "top",
            preview_width = 0.55,
            results_width = 0.8,
          },
          vertical = {
            mirror = false,
          },
          width = 0.87,
          height = 0.80,
          preview_cutoff = 120,
        },
        file_ignore_patterns = { "node_modules", ".git/", "*.o", "*.a", "*.so" },
        generic_sorter = require("telescope.sorters").get_generic_fuzzy_sorter,
        file_sorter = require("telescope.sorters").get_fuzzy_file,
      },
      pickers = {
        find_files = {
          find_command = { "fd", "--type", "f", "--strip-cwd-prefix" },
        },
        live_grep = {
          additional_args = function(opts)
            return {"--hidden"}
          end
        },
      },
    },
  },

  -- Harpoon for quick file navigation
  {
    "ThePrimeagen/harpoon",
    branch = "harpoon2",
    dependencies = { "nvim-lua/plenary.nvim" },
    config = function()
      local harpoon = require("harpoon")
      harpoon:setup()

      vim.keymap.set("n", "<leader>ha", function() harpoon:list():append() end, { desc = "Add file to harpoon" })
      vim.keymap.set("n", "<leader>hh", function() harpoon.ui:toggle_quick_menu(harpoon:list()) end, { desc = "Toggle harpoon menu" })

      vim.keymap.set("n", "<leader>h1", function() harpoon:list():select(1) end, { desc = "Harpoon file 1" })
      vim.keymap.set("n", "<leader>h2", function() harpoon:list():select(2) end, { desc = "Harpoon file 2" })
      vim.keymap.set("n", "<leader>h3", function() harpoon:list():select(3) end, { desc = "Harpoon file 3" })
      vim.keymap.set("n", "<leader>h4", function() harpoon:list():select(4) end, { desc = "Harpoon file 4" })

      -- Toggle previous & next buffers stored within Harpoon list
      vim.keymap.set("n", "<C-S-P>", function() harpoon:list():prev() end, { desc = "Previous harpoon" })
      vim.keymap.set("n", "<C-S-N>", function() harpoon:list():next() end, { desc = "Next harpoon" })
    end,
  },
}</code>
                    <button class="copy-btn" onclick="copyToClipboard(this)">
                        <i class="fas fa-copy"></i>
                    </button>
                </div>
            </div>

        </section>

        <section id="glossary" class="section">
            <h2><i class="fas fa-book"></i> System Information & Reference Glossary</h2>
            
            <div class="glossary-grid">
                <div class="glossary-item">
                    <h3><i class="fas fa-keyboard"></i> Keyboard Shortcuts (i3 Window Manager)</h3>
                    <div class="glossary-content">
                        <ul>
                            <li>$mod = Super/Windows key</li>
                            <li>$mod + Enter = Open terminal (Alacritty)</li>
                            <li>$mod + d = Application launcher (rofi)</li>
                            <li>$mod + Shift + q = Kill focused window</li>
                            <li>$mod + Shift + c = Reload i3 config</li>
                            <li>$mod + Shift + r = Restart i3</li>
                            <li>$mod + Shift + e = Exit i3</li>
                            <li>$mod + f = Toggle fullscreen</li>
                            <li>$mod + s = Stacking layout</li>
                            <li>$mod + w = Tabbed layout</li>
                            <li>$mod + e = Split layout</li>
                            <li>$mod + h = Split horizontal</li>
                            <li>$mod + v = Split vertical</li>
                            <li>$mod + 1-10 = Switch to workspace</li>
                            <li>$mod + Shift + 1-10 = Move container to workspace</li>
                            <li>$mod + Shift + Space = Toggle floating</li>
                            <li>$mod + Space = Toggle focus floating/tiled</li>
                        </ul>
                    </div>
                </div>

                <div class="glossary-item">
                    <h3><i class="fas fa-plus"></i> Custom Shortcuts Added</h3>
                    <div class="glossary-content">
                        <ul>
                            <li>$mod + b = Firefox browser</li>
                            <li>$mod + t = Thunar file manager</li>
                            <li>$mod + m = Spotify music</li>
                            <li>$mod + n = Neovim in workspace 5</li>
                            <li>$mod + p = System monitor (btop)</li>
                            <li>$mod + x = Lock screen (i3lock)</li>
                            <li>$mod + Tab = Next workspace</li>
                            <li>$mod + Shift + Tab = Previous workspace</li>
                            <li>$mod + Shift + w = Random wallpaper</li>
                            <li>$mod + Shift + p = Power menu</li>
                            <li>Print Screen = Full screenshot to clipboard</li>
                            <li>Shift + Print Screen = Selection screenshot to clipboard</li>
                            <li>Brightness Up/Down = Adjust screen brightness with notification</li>
                        </ul>
                    </div>
                </div>

                <div class="glossary-item">
                    <h3><i class="fas fa-battery-half"></i> Battery Management</h3>
                    <div class="glossary-content">
                        <h4>Check Battery Information</h4>
                        <div class="code-container">
                            <code># Battery status and health
acpi -b && acpi -i

# Battery manufacturer and model (for replacement)
sudo dmidecode -s system-manufacturer
sudo dmidecode -s system-product-name
sudo dmidecode -t 22

# Power consumption
sudo powertop

# TLP battery status
sudo tlp-stat -b</code>
                            <button class="copy-btn" onclick="copyToClipboard(this)">
                                <i class="fas fa-copy"></i>
                            </button>
                        </div>
                    </div>
                </div>

                <div class="glossary-item">
                    <h3><i class="fas fa-laptop"></i> HP EliteBook 845 G8 Battery Specifications</h3>
                    <div class="glossary-content">
                        <ul>
                            <li><strong>Battery Type:</strong> Lithium-ion (Li-ion)</li>
                            <li><strong>Original Capacity:</strong> Typically 51Wh or 45Wh</li>
                            <li><strong>Voltage:</strong> 11.55V</li>
                            <li><strong>Part Numbers:</strong> Common HP part numbers include HS03, HS04, or HP Long Life</li>
                            <li><strong>Replacement:</strong> Use genuine HP batteries or certified compatible ones</li>
                        </ul>
                        
                        <h4>Battery Longevity Tips</h4>
                        <ul>
                            <li><strong>Optimal Charge Range:</strong> Keep between 20-80% for daily use</li>
                            <li><strong>Storage:</strong> If storing laptop, keep battery at 50-60%</li>
                            <li><strong>Temperature:</strong> Avoid extreme temperatures (keep 15-35°C)</li>
                            <li><strong>Deep Discharge:</strong> Occasionally (monthly) discharge to 5% then full charge</li>
                            <li><strong>Power Management:</strong> Use TLP for automatic battery optimization</li>
                        </ul>
                    </div>
                </div>

                <div class="glossary-item">
                    <h3><i class="fas fa-terminal"></i> System Performance Commands</h3>
                    <div class="glossary-content">
                        <h4>Custom Scripts Created</h4>
                        <ul>
                            <li><code>update</code> - Update system and AUR packages</li>
                            <li><code>debloat</code> - Clean system cache and temporary files</li>
                            <li><code>performance</code> - Enable performance mode</li>
                            <li><code>powersave</code> - Enable power saving mode</li>
                            <li><code>boost</code> - Temporary performance boost</li>
                            <li><code>boottime</code> - Analyze boot time and slow services</li>
                        </ul>
                    </div>
                </div>

                <div class="glossary-item">
                    <h3><i class="fas fa-chart-line"></i> System Monitoring</h3>
                    <div class="glossary-content">
                        <div class="code-container">
                            <code># CPU temperature and sensors
sensors

# System resources
btop

# Disk usage
df -h

# Memory usage
free -h

# GPU information (AMD)
lspci | grep VGA

# Process monitoring
ps aux
pstree</code>
                            <button class="copy-btn" onclick="copyToClipboard(this)">
                                <i class="fas fa-copy"></i>
                            </button>
                        </div>
                    </div>
                </div>

                <div class="glossary-item">
                    <h3><i class="fas fa-microchip"></i> Hardware Specifications (HP EliteBook 845 G8)</h3>
                    <div class="glossary-content">
                        <h4>CPU</h4>
                        <ul>
                            <li><strong>Model:</strong> AMD Ryzen 5 PRO 5650U</li>
                            <li><strong>Architecture:</strong> Zen 3 (7nm)</li>
                            <li><strong>Cores:</strong> 6 cores / 12 threads</li>
                            <li><strong>Base Clock:</strong> 2.3 GHz</li>
                            <li><strong>Boost Clock:</strong> Up to 4.2 GHz</li>
                            <li><strong>Cache:</strong> 16 MB L3</li>
                            <li><strong>TDP:</strong> 15W (configurable to 25W)</li>
                        </ul>

                        <h4>Memory</h4>
                        <ul>
                            <li><strong>RAM:</strong> 16 GB DDR4-3200 SDRAM</li>
                            <li><strong>Type:</strong> SO-DIMM</li>
                            <li><strong>Upgradeable:</strong> Check if dual-channel or single slot</li>
                        </ul>

                        <h4>Storage</h4>
                        <ul>
                            <li><strong>Primary:</strong> 512 GB PCIe NVMe SSD</li>
                            <li><strong>Interface:</strong> M.2 2280</li>
                            <li><strong>Type:</strong> Typically TLC NAND</li>
                            <li><strong>Device:</strong> /dev/nvme0n1</li>
                        </ul>

                        <h4>Graphics</h4>
                        <ul>
                            <li><strong>iGPU:</strong> AMD Radeon Graphics (Integrated)</li>
                            <li><strong>Architecture:</strong> Vega 7</li>
                            <li><strong>Driver:</strong> AMDGPU (open-source)</li>
                        </ul>
                    </div>
                </div>

                <div class="glossary-item">
                    <h3><i class="fas fa-folder-tree"></i> File System Structure</h3>
                    <div class="glossary-content">
                        <ul>
                            <li>/dev/nvme0n1p1 → /boot/efi (FAT32, EFI System Partition)</li>
                            <li>/dev/nvme0n1p2 → [SWAP] (Linux swap)</li>
                            <li>/dev/nvme0n1p3 → / (ext4, Root partition)</li>
                        </ul>
                    </div>
                </div>

                <div class="glossary-item">
                    <h3><i class="fas fa-network-wired"></i> System Components</h3>
                    <div class="glossary-content">
                        <h4>Network Interfaces</h4>
                        <ul>
                            <li><strong>WiFi:</strong> wlan0</li>
                            <li><strong>Ethernet:</strong> (via USB adapter) typically enp*</li>
                            <li><strong>Bluetooth:</strong> Available with bluez</li>
                        </ul>

                        <h4>Audio System</h4>
                        <ul>
                            <li><strong>Framework:</strong> PipeWire</li>
                            <li><strong>Services:</strong> pipewire, pipewire-pulse, wireplumber</li>
                            <li><strong>Controls:</strong> alsamixer, pavucontrol (if installed)</li>
                        </ul>

                        <h4>Power Management</h4>
                        <ul>
                            <li><strong>TLP:</strong> Battery optimization daemon</li>
                            <li><strong>AMD P-State:</strong> Active (processor.max_cstate=1 amd_pstate=active)</li>
                            <li><strong>CPU Governor:</strong> Performance (set by cpu-performance.service)</li>
                            <li><strong>Brightness Control:</strong> brightnessctl</li>
                        </ul>

                        <h4>Security</h4>
                        <ul>
                            <li><strong>Firewall:</strong> UFW (Uncomplicated Firewall)</li>
                            <li><strong>Default Policy:</strong> Deny incoming, allow outgoing</li>
                            <li><strong>User Groups:</strong> sid user added to: audio,video,input,storage,power,rfkill,sys,adm,disk</li>
                        </ul>

                        <h4>Font Configuration</h4>
                        <ul>
                            <li><strong>Terminal Font:</strong> JetBrains Mono Nerd Font 12pt</li>
                            <li><strong>System Fonts:</strong> Noto Fonts (with emoji and CJK support)</li>
                        </ul>
                    </div>
                </div>

                <div class="glossary-item">
                    <h3><i class="fas fa-tools"></i> Troubleshooting Commands</h3>
                    <div class="glossary-content">
                        <div class="code-container">
                            <code># Check system logs
journalctl -p 3 -xb

# Hardware detection
sudo lshw -short

# PCI devices
lspci -v

# USB devices
lsusb -v

# Module information
lsmod
modinfo <module_name>

# Service status
systemctl status <service_name>

# Network debugging
ip addr
ip route
ping -c 3 8.8.8.8</code>
                            <button class="copy-btn" onclick="copyToClipboard(this)">
                                <i class="fas fa-copy"></i>
                            </button>
                        </div>
                    </div>
                </div>

                <div class="glossary-item">
                    <h3><i class="fas fa-save"></i> Backup Important Files</h3>
                    <div class="glossary-content">
                        <h4>Configuration Files to Backup</h4>
                        <ul>
                            <li>~/.config/i3/config</li>
                            <li>~/.config/alacritty/alacritty.toml</li>
                            <li>~/.config/nvim/ (entire directory)</li>
                            <li>~/.xinitrc</li>
                            <li>~/.bashrc or ~/.zshrc</li>
                            <li>~/.config/scripts/</li>
                            <li>/etc/fstab</li>
                            <li>/etc/hosts</li>
                            <li>Custom scripts in /usr/local/bin/</li>
                        </ul>
                    </div>
                </div>

                <div class="glossary-item">
                    <h3><i class="fas fa-code"></i> Neovim Essential Commands</h3>
                    <div class="glossary-content">
                        <h4>Navigation & Editing</h4>
                        <ul>
                            <li><strong>Movement:</strong> h(left), j(down), k(up), l(right)</li>
                            <li><strong>Word Movement:</strong> w(next word), b(previous word), e(end of word)</li>
                            <li><strong>Line Navigation:</strong> 0(start), $(end), ^(first non-blank)</li>
                            <li><strong>File Navigation:</strong> gg(top), G(bottom), :n(go to line n)</li>
                            <li><strong>Search:</strong> /pattern(forward), ?pattern(backward), n(next), N(previous)</li>
                            <li><strong>Replace:</strong> :%s/old/new/g(global), :s/old/new(current line)</li>
                        </ul>
                        
                        <h4>Modes</h4>
                        <ul>
                            <li><strong>Normal Mode:</strong> Default mode for navigation and commands</li>
                            <li><strong>Insert Mode:</strong> i(insert), a(append), o(new line below)</li>
                            <li><strong>Visual Mode:</strong> v(character), V(line), Ctrl+v(block)</li>
                            <li><strong>Command Mode:</strong> :command</li>
                        </ul>
                    </div>
                </div>

                <div class="glossary-item">
                    <h3><i class="fas fa-keyboard"></i> LazyVim Custom Keybindings</h3>
                    <div class="glossary-content">
                        <h4>Window Management</h4>
                        <ul>
                            <li><strong>Ctrl+h/j/k/l:</strong> Navigate between windows</li>
                            <li><strong>Ctrl+Arrow Keys:</strong> Resize windows</li>
                            <li><strong>Space+w:</strong> Window operations menu</li>
                            <li><strong>Shift+h/l:</strong> Switch between buffers</li>
                        </ul>
                        
                        <h4>Development Shortcuts</h4>
                        <ul>
                            <li><strong>Space+rr:</strong> Run make command</li>
                            <li><strong>Space+rt:</strong> Run tests</li>
                            <li><strong>Space+rc:</strong> Compile and run C code</li>
                            <li><strong>Space+rp:</strong> Run Python script</li>
                            <li><strong>Space+db:</strong> Toggle breakpoint (debugging)</li>
                            <li><strong>Space+dc:</strong> Continue debugging</li>
                        </ul>
                        
                        <h4>File Operations</h4>
                        <ul>
                            <li><strong>Space+e:</strong> Toggle file explorer</li>
                            <li><strong>Space+ff:</strong> Find files (Telescope)</li>
                            <li><strong>Space+fg:</strong> Live grep (search in files)</li>
                            <li><strong>Space+fb:</strong> Browse buffers</li>
                            <li><strong>Ctrl+\:</strong> Toggle terminal</li>
                        </ul>
                    </div>
                </div>

                <div class="glossary-item">
                    <h3><i class="fas fa-microchip"></i> Embedded Systems Development</h3>
                    <div class="glossary-content">
                        <h4>C/C++ Embedded Workflow</h4>
                        <ul>
                            <li><strong>Code Completion:</strong> LSP provides intelligent autocomplete</li>
                            <li><strong>Cross-References:</strong> gd(go to definition), gr(go to references)</li>
                            <li><strong>Documentation:</strong> K(hover documentation), Space+ca(code actions)</li>
                            <li><strong>Debugging:</strong> Integrated GDB support with DAP</li>
                            <li><strong>Build Integration:</strong> :make command runs Makefile</li>
                        </ul>
                        
                        <h4>Hardware-Specific Commands</h4>
                        <div class="code-container">
                            <code># Common embedded development commands
make clean && make          # Clean build
make flash                  # Flash to microcontroller
make debug                  # Start debug session
objdump -d firmware.elf     # Disassemble binary
size firmware.elf           # Check binary size
nm firmware.elf | grep func # Find symbols</code>
                            <button class="copy-btn" onclick="copyToClipboard(this)">
                                <i class="fas fa-copy"></i>
                            </button>
                        </div>
                    </div>
                </div>

                <div class="glossary-item">
                    <h3><i class="fas fa-shield-alt"></i> Cybersecurity Analysis</h3>
                    <div class="glossary-content">
                        <h4>Code Security Analysis</h4>
                        <ul>
                            <li><strong>Static Analysis:</strong> clang-tidy integration for security issues</li>
                            <li><strong>Memory Issues:</strong> Spotlights buffer overflows, memory leaks</li>
                            <li><strong>Code Review:</strong> Git integration for security-focused reviews</li>
                            <li><strong>Documentation:</strong> Markdown support for security documentation</li>
                        </ul>
                        
                        <h4>Security Analysis Commands</h4>
                        <div class="code-container">
                            <code># Security analysis tools
cppcheck --enable=all src/     # Static analysis
valgrind ./program            # Memory leak detection
strace ./program              # System call tracing
ltrace ./program              # Library call tracing
objdump -x binary             # Binary analysis
strings binary | grep -i pass # Search for credentials</code>
                            <button class="copy-btn" onclick="copyToClipboard(this)">
                                <i class="fas fa-copy"></i>
                            </button>
                        </div>
                        
                        <h4>Reverse Engineering</h4>
                        <ul>
                            <li><strong>Assembly Viewing:</strong> Integrated disassembly view</li>
                            <li><strong>Hex Editing:</strong> Binary file analysis capabilities</li>
                            <li><strong>Pattern Recognition:</strong> Search and replace for shellcode patterns</li>
                            <li><strong>Documentation:</strong> Note-taking for vulnerability analysis</li>
                        </ul>
                    </div>
                </div>

                <div class="glossary-item">
                    <h3><i class="fas fa-bug"></i> Debugging Workflow</h3>
                    <div class="glossary-content">
                        <h4>GDB Integration</h4>
                        <ul>
                            <li><strong>Breakpoints:</strong> Space+db to toggle breakpoints</li>
                            <li><strong>Step Debugging:</strong> F10(step over), F11(step into), F12(step out)</li>
                            <li><strong>Variable Inspection:</strong> Hover over variables to see values</li>
                            <li><strong>Call Stack:</strong> View function call hierarchy</li>
                            <li><strong>Memory View:</strong> Examine memory contents and registers</li>
                        </ul>
                        
                        <h4>Python Debugging</h4>
                        <ul>
                            <li><strong>Debugpy Integration:</strong> Native Python debugging support</li>
                            <li><strong>Interactive Debugging:</strong> REPL-like debugging experience</li>
                            <li><strong>Exception Handling:</strong> Break on exceptions automatically</li>
                        </ul>
                    </div>
                </div>

                <div class="glossary-item">
                    <h3><i class="fas fa-plug"></i> LSP Features for Development</h3>
                    <div class="glossary-content">
                        <h4>Language Server Benefits</h4>
                        <ul>
                            <li><strong>Real-time Error Detection:</strong> Syntax and semantic errors</li>
                            <li><strong>Intelligent Refactoring:</strong> Rename symbols project-wide</li>
                            <li><strong>Auto-imports:</strong> Automatic header file inclusion</li>
                            <li><strong>Function Signatures:</strong> Parameter hints while typing</li>
                            <li><strong>Code Actions:</strong> Quick fixes and optimizations</li>
                        </ul>
                        
                        <h4>Clangd Specific Features</h4>
                        <ul>
                            <li><strong>Header Management:</strong> Include-what-you-use integration</li>
                            <li><strong>Clang-tidy:</strong> Built-in static analysis</li>
                            <li><strong>Compilation Database:</strong> Understands complex build systems</li>
                            <li><strong>Cross-compilation:</strong> Supports embedded toolchains</li>
                        </ul>
                    </div>
                </div>

                <div class="glossary-item">
                    <h3><i class="fas fa-terminal"></i> Terminal Integration</h3>
                    <div class="glossary-content">
                        <h4>ToggleTerm Features</h4>
                        <ul>
                            <li><strong>Ctrl+\:</strong> Toggle floating terminal</li>
                            <li><strong>Multiple Terminals:</strong> Numbered terminal instances</li>
                            <li><strong>Persistent Sessions:</strong> Terminals survive across sessions</li>
                            <li><strong>Terminal Modes:</strong> Horizontal, vertical, or floating</li>
                        </ul>
                        
                        <h4>Development Terminal Usage</h4>
                        <div class="code-container">
                            <code># Common terminal workflows in Neovim
:TermExec cmd="make && ./program"     # Run build and execute
:TermExec cmd="gdb ./program"         # Start debugging session
:TermExec cmd="python -m pytest"     # Run Python tests
:TermExec cmd="git status"           # Git operations</code>
                            <button class="copy-btn" onclick="copyToClipboard(this)">
                                <i class="fas fa-copy"></i>
                            </button>
                        </div>
                    </div>
                </div>

                <div class="glossary-item">
                    <h3><i class="fas fa-git-alt"></i> Git Integration</h3>
                    <div class="glossary-content">
                        <h4>Useful Git Commands in Development</h4>
                        <div class="code-container">
                            <code># Essential Git workflow for security and embedded development
git log --oneline --graph           # Visual commit history
git diff HEAD~1                     # Compare with previous commit
git blame filename                  # See who changed what
git bisect start                    # Binary search for bugs
git stash push -m "work in progress" # Save current work
git cherry-pick <commit-hash>       # Apply specific commits
git revert <commit-hash>            # Safely undo commits</code>
                            <button class="copy-btn" onclick="copyToClipboard(this)">
                                <i class="fas fa-copy"></i>
                            </button>
                        </div>
                        
                        <h4>Security-Focused Git</h4>
                        <ul>
                            <li><strong>Signed Commits:</strong> git commit -S for cryptographic signatures</li>
                            <li><strong>Security Reviews:</strong> git diff for change analysis</li>
                            <li><strong>Sensitive Data:</strong> git log -p -S "password" to find secrets</li>
                            <li><strong>Branch Protection:</strong> Use protected branches for critical code</li>
                        </ul>
                    </div>
                </div>

                <div class="glossary-item">
                    <h3><i class="fas fa-wrench"></i> LazyVim Plugin Management</h3>
                    <div class="glossary-content">
                        <h4>Lazy.nvim Commands</h4>
                        <ul>
                            <li><strong>:Lazy:</strong> Open plugin manager</li>
                            <li><strong>:Lazy update:</strong> Update all plugins</li>
                            <li><strong>:Lazy clean:</strong> Remove unused plugins</li>
                            <li><strong>:Lazy profile:</strong> Show startup profiling</li>
                            <li><strong>:Lazy log:</strong> View plugin logs</li>
                        </ul>
                        
                        <h4>Mason Tool Management</h4>
                        <ul>
                            <li><strong>:Mason:</strong> Open Mason UI for LSP servers</li>
                            <li><strong>:MasonInstall clangd:</strong> Install C++ language server</li>
                            <li><strong>:MasonInstall pyright:</strong> Install Python language server</li>
                            <li><strong>:MasonInstall cppcheck:</strong> Install C++ linter</li>
                        </ul>
                    </div>
                </div>

                <div class="glossary-item">
                    <h3><i class="fas fa-rocket"></i> Productivity Tips</h3>
                    <div class="glossary-content">
                        <h4>Daily Workflow Optimization</h4>
                        <ul>
                            <li><strong>Sessions:</strong> :mksession to save workspace state</li>
                            <li><strong>Marks:</strong> ma to set mark, 'a to jump to mark</li>
                            <li><strong>Registers:</strong> "ay to yank to register a, "ap to paste</li>
                            <li><strong>Macros:</strong> qa to record macro, @a to replay</li>
                            <li><strong>Folding:</strong> zf to create fold, zo/zc to open/close</li>
                        </ul>
                        
                        <h4>Code Intelligence</h4>
                        <ul>
                            <li><strong>Tag Navigation:</strong> Ctrl+] to jump to definition</li>
                            <li><strong>Symbol Search:</strong> :Telescope lsp_dynamic_workspace_symbols</li>
                            <li><strong>Error Navigation:</strong> ]d and [d to jump between diagnostics</li>
                            <li><strong>Quick Fix:</strong> Space+ca for code actions</li>
                        </ul>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <footer>
        <div class="container">
            <p>&copy; 2024 Arch Linux Installation Guide. Complete installation and rice configuration.</p>
        </div>
    </footer>

    <script src="script.js"></script>
</body>
</html>
